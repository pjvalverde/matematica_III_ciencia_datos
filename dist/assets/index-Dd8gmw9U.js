function S7(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const u of s.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var r2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function i2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var s2={exports:{}},bc={},o2={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gl=Symbol.for("react.element"),E7=Symbol.for("react.portal"),T7=Symbol.for("react.fragment"),k7=Symbol.for("react.strict_mode"),A7=Symbol.for("react.profiler"),I7=Symbol.for("react.provider"),C7=Symbol.for("react.context"),N7=Symbol.for("react.forward_ref"),P7=Symbol.for("react.suspense"),R7=Symbol.for("react.memo"),M7=Symbol.for("react.lazy"),u1=Symbol.iterator;function D7(t){return t===null||typeof t!="object"?null:(t=u1&&t[u1]||t["@@iterator"],typeof t=="function"?t:null)}var a2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},l2=Object.assign,u2={};function aa(t,e,n){this.props=t,this.context=e,this.refs=u2,this.updater=n||a2}aa.prototype.isReactComponent={};aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function c2(){}c2.prototype=aa.prototype;function Vf(t,e,n){this.props=t,this.context=e,this.refs=u2,this.updater=n||a2}var jf=Vf.prototype=new c2;jf.constructor=Vf;l2(jf,aa.prototype);jf.isPureReactComponent=!0;var c1=Array.isArray,d2=Object.prototype.hasOwnProperty,Ff={current:null},h2={key:!0,ref:!0,__self:!0,__source:!0};function f2(t,e,n){var r,i={},s=null,u=null;if(e!=null)for(r in e.ref!==void 0&&(u=e.ref),e.key!==void 0&&(s=""+e.key),e)d2.call(e,r)&&!h2.hasOwnProperty(r)&&(i[r]=e[r]);var h=arguments.length-2;if(h===1)i.children=n;else if(1<h){for(var f=Array(h),y=0;y<h;y++)f[y]=arguments[y+2];i.children=f}if(t&&t.defaultProps)for(r in h=t.defaultProps,h)i[r]===void 0&&(i[r]=h[r]);return{$$typeof:Gl,type:t,key:s,ref:u,props:i,_owner:Ff.current}}function O7(t,e){return{$$typeof:Gl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Bf(t){return typeof t=="object"&&t!==null&&t.$$typeof===Gl}function L7(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var d1=/\/+/g;function Id(t,e){return typeof t=="object"&&t!==null&&t.key!=null?L7(""+t.key):e.toString(36)}function l0(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var u=!1;if(t===null)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(t.$$typeof){case Gl:case E7:u=!0}}if(u)return u=t,i=i(u),t=r===""?"."+Id(u,0):r,c1(i)?(n="",t!=null&&(n=t.replace(d1,"$&/")+"/"),l0(i,e,n,"",function(y){return y})):i!=null&&(Bf(i)&&(i=O7(i,n+(!i.key||u&&u.key===i.key?"":(""+i.key).replace(d1,"$&/")+"/")+t)),e.push(i)),1;if(u=0,r=r===""?".":r+":",c1(t))for(var h=0;h<t.length;h++){s=t[h];var f=r+Id(s,h);u+=l0(s,e,n,f,i)}else if(f=D7(t),typeof f=="function")for(t=f.call(t),h=0;!(s=t.next()).done;)s=s.value,f=r+Id(s,h++),u+=l0(s,e,n,f,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return u}function Lu(t,e,n){if(t==null)return t;var r=[],i=0;return l0(t,r,"","",function(s){return e.call(n,s,i++)}),r}function z7(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var En={current:null},u0={transition:null},V7={ReactCurrentDispatcher:En,ReactCurrentBatchConfig:u0,ReactCurrentOwner:Ff};function p2(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:Lu,forEach:function(t,e,n){Lu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Lu(t,function(){e++}),e},toArray:function(t){return Lu(t,function(e){return e})||[]},only:function(t){if(!Bf(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};De.Component=aa;De.Fragment=T7;De.Profiler=A7;De.PureComponent=Vf;De.StrictMode=k7;De.Suspense=P7;De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=V7;De.act=p2;De.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=l2({},t.props),i=t.key,s=t.ref,u=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,u=Ff.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var h=t.type.defaultProps;for(f in e)d2.call(e,f)&&!h2.hasOwnProperty(f)&&(r[f]=e[f]===void 0&&h!==void 0?h[f]:e[f])}var f=arguments.length-2;if(f===1)r.children=n;else if(1<f){h=Array(f);for(var y=0;y<f;y++)h[y]=arguments[y+2];r.children=h}return{$$typeof:Gl,type:t.type,key:i,ref:s,props:r,_owner:u}};De.createContext=function(t){return t={$$typeof:C7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:I7,_context:t},t.Consumer=t};De.createElement=f2;De.createFactory=function(t){var e=f2.bind(null,t);return e.type=t,e};De.createRef=function(){return{current:null}};De.forwardRef=function(t){return{$$typeof:N7,render:t}};De.isValidElement=Bf;De.lazy=function(t){return{$$typeof:M7,_payload:{_status:-1,_result:t},_init:z7}};De.memo=function(t,e){return{$$typeof:R7,type:t,compare:e===void 0?null:e}};De.startTransition=function(t){var e=u0.transition;u0.transition={};try{t()}finally{u0.transition=e}};De.unstable_act=p2;De.useCallback=function(t,e){return En.current.useCallback(t,e)};De.useContext=function(t){return En.current.useContext(t)};De.useDebugValue=function(){};De.useDeferredValue=function(t){return En.current.useDeferredValue(t)};De.useEffect=function(t,e){return En.current.useEffect(t,e)};De.useId=function(){return En.current.useId()};De.useImperativeHandle=function(t,e,n){return En.current.useImperativeHandle(t,e,n)};De.useInsertionEffect=function(t,e){return En.current.useInsertionEffect(t,e)};De.useLayoutEffect=function(t,e){return En.current.useLayoutEffect(t,e)};De.useMemo=function(t,e){return En.current.useMemo(t,e)};De.useReducer=function(t,e,n){return En.current.useReducer(t,e,n)};De.useRef=function(t){return En.current.useRef(t)};De.useState=function(t){return En.current.useState(t)};De.useSyncExternalStore=function(t,e,n){return En.current.useSyncExternalStore(t,e,n)};De.useTransition=function(){return En.current.useTransition()};De.version="18.3.1";o2.exports=De;var re=o2.exports;const er=i2(re),j7=S7({__proto__:null,default:er},[re]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var F7=re,B7=Symbol.for("react.element"),U7=Symbol.for("react.fragment"),q7=Object.prototype.hasOwnProperty,$7=F7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,H7={key:!0,ref:!0,__self:!0,__source:!0};function m2(t,e,n){var r,i={},s=null,u=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(u=e.ref);for(r in e)q7.call(e,r)&&!H7.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:B7,type:t,key:s,ref:u,props:i,_owner:$7.current}}bc.Fragment=U7;bc.jsx=m2;bc.jsxs=m2;s2.exports=bc;var k=s2.exports,wh={},g2={exports:{}},Un={},y2={exports:{}},v2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(me,Ee){var Ce=me.length;me.push(Ee);e:for(;0<Ce;){var oe=Ce-1>>>1,_e=me[oe];if(0<i(_e,Ee))me[oe]=Ee,me[Ce]=_e,Ce=oe;else break e}}function n(me){return me.length===0?null:me[0]}function r(me){if(me.length===0)return null;var Ee=me[0],Ce=me.pop();if(Ce!==Ee){me[0]=Ce;e:for(var oe=0,_e=me.length,Me=_e>>>1;oe<Me;){var Et=2*(oe+1)-1,Pt=me[Et],sn=Et+1,ir=me[sn];if(0>i(Pt,Ce))sn<_e&&0>i(ir,Pt)?(me[oe]=ir,me[sn]=Ce,oe=sn):(me[oe]=Pt,me[Et]=Ce,oe=Et);else if(sn<_e&&0>i(ir,Ce))me[oe]=ir,me[sn]=Ce,oe=sn;else break e}}return Ee}function i(me,Ee){var Ce=me.sortIndex-Ee.sortIndex;return Ce!==0?Ce:me.id-Ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var u=Date,h=u.now();t.unstable_now=function(){return u.now()-h}}var f=[],y=[],_=1,E=null,I=3,U=!1,q=!1,X=!1,Q=typeof setTimeout=="function"?setTimeout:null,P=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function L(me){for(var Ee=n(y);Ee!==null;){if(Ee.callback===null)r(y);else if(Ee.startTime<=me)r(y),Ee.sortIndex=Ee.expirationTime,e(f,Ee);else break;Ee=n(y)}}function K(me){if(X=!1,L(me),!q)if(n(f)!==null)q=!0,$e(te);else{var Ee=n(y);Ee!==null&&St(K,Ee.startTime-me)}}function te(me,Ee){q=!1,X&&(X=!1,P(C),C=-1),U=!0;var Ce=I;try{for(L(Ee),E=n(f);E!==null&&(!(E.expirationTime>Ee)||me&&!$());){var oe=E.callback;if(typeof oe=="function"){E.callback=null,I=E.priorityLevel;var _e=oe(E.expirationTime<=Ee);Ee=t.unstable_now(),typeof _e=="function"?E.callback=_e:E===n(f)&&r(f),L(Ee)}else r(f);E=n(f)}if(E!==null)var Me=!0;else{var Et=n(y);Et!==null&&St(K,Et.startTime-Ee),Me=!1}return Me}finally{E=null,I=Ce,U=!1}}var ie=!1,z=null,C=-1,D=5,O=-1;function $(){return!(t.unstable_now()-O<D)}function W(){if(z!==null){var me=t.unstable_now();O=me;var Ee=!0;try{Ee=z(!0,me)}finally{Ee?j():(ie=!1,z=null)}}else ie=!1}var j;if(typeof M=="function")j=function(){M(W)};else if(typeof MessageChannel<"u"){var Ke=new MessageChannel,Te=Ke.port2;Ke.port1.onmessage=W,j=function(){Te.postMessage(null)}}else j=function(){Q(W,0)};function $e(me){z=me,ie||(ie=!0,j())}function St(me,Ee){C=Q(function(){me(t.unstable_now())},Ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(me){me.callback=null},t.unstable_continueExecution=function(){q||U||(q=!0,$e(te))},t.unstable_forceFrameRate=function(me){0>me||125<me?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<me?Math.floor(1e3/me):5},t.unstable_getCurrentPriorityLevel=function(){return I},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(me){switch(I){case 1:case 2:case 3:var Ee=3;break;default:Ee=I}var Ce=I;I=Ee;try{return me()}finally{I=Ce}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(me,Ee){switch(me){case 1:case 2:case 3:case 4:case 5:break;default:me=3}var Ce=I;I=me;try{return Ee()}finally{I=Ce}},t.unstable_scheduleCallback=function(me,Ee,Ce){var oe=t.unstable_now();switch(typeof Ce=="object"&&Ce!==null?(Ce=Ce.delay,Ce=typeof Ce=="number"&&0<Ce?oe+Ce:oe):Ce=oe,me){case 1:var _e=-1;break;case 2:_e=250;break;case 5:_e=1073741823;break;case 4:_e=1e4;break;default:_e=5e3}return _e=Ce+_e,me={id:_++,callback:Ee,priorityLevel:me,startTime:Ce,expirationTime:_e,sortIndex:-1},Ce>oe?(me.sortIndex=Ce,e(y,me),n(f)===null&&me===n(y)&&(X?(P(C),C=-1):X=!0,St(K,Ce-oe))):(me.sortIndex=_e,e(f,me),q||U||(q=!0,$e(te))),me},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(me){var Ee=I;return function(){var Ce=I;I=Ee;try{return me.apply(this,arguments)}finally{I=Ce}}}})(v2);y2.exports=v2;var W7=y2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G7=re,Bn=W7;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var w2=new Set,wl={};function Ws(t,e){Wo(t,e),Wo(t+"Capture",e)}function Wo(t,e){for(wl[t]=e,t=0;t<e.length;t++)w2.add(e[t])}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xh=Object.prototype.hasOwnProperty,K7=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h1={},f1={};function Q7(t){return xh.call(f1,t)?!0:xh.call(h1,t)?!1:K7.test(t)?f1[t]=!0:(h1[t]=!0,!1)}function X7(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Y7(t,e,n,r){if(e===null||typeof e>"u"||X7(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Tn(t,e,n,r,i,s,u){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=u}var rn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){rn[t]=new Tn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];rn[e]=new Tn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){rn[t]=new Tn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){rn[t]=new Tn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){rn[t]=new Tn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){rn[t]=new Tn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){rn[t]=new Tn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){rn[t]=new Tn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){rn[t]=new Tn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Uf=/[\-:]([a-z])/g;function qf(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Uf,qf);rn[e]=new Tn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Uf,qf);rn[e]=new Tn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Uf,qf);rn[e]=new Tn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){rn[t]=new Tn(t,1,!1,t.toLowerCase(),null,!1,!1)});rn.xlinkHref=new Tn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){rn[t]=new Tn(t,1,!1,t.toLowerCase(),null,!0,!0)});function $f(t,e,n,r){var i=rn.hasOwnProperty(e)?rn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Y7(e,n,i,r)&&(n=null),r||i===null?Q7(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var fi=G7.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zu=Symbol.for("react.element"),_o=Symbol.for("react.portal"),So=Symbol.for("react.fragment"),Hf=Symbol.for("react.strict_mode"),bh=Symbol.for("react.profiler"),x2=Symbol.for("react.provider"),b2=Symbol.for("react.context"),Wf=Symbol.for("react.forward_ref"),_h=Symbol.for("react.suspense"),Sh=Symbol.for("react.suspense_list"),Gf=Symbol.for("react.memo"),Ti=Symbol.for("react.lazy"),_2=Symbol.for("react.offscreen"),p1=Symbol.iterator;function Ua(t){return t===null||typeof t!="object"?null:(t=p1&&t[p1]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,Cd;function Ya(t){if(Cd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Cd=e&&e[1]||""}return`
`+Cd+t}var Nd=!1;function Pd(t,e){if(!t||Nd)return"";Nd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(y){var r=y}Reflect.construct(t,[],e)}else{try{e.call()}catch(y){r=y}t.call(e.prototype)}else{try{throw Error()}catch(y){r=y}t()}}catch(y){if(y&&r&&typeof y.stack=="string"){for(var i=y.stack.split(`
`),s=r.stack.split(`
`),u=i.length-1,h=s.length-1;1<=u&&0<=h&&i[u]!==s[h];)h--;for(;1<=u&&0<=h;u--,h--)if(i[u]!==s[h]){if(u!==1||h!==1)do if(u--,h--,0>h||i[u]!==s[h]){var f=`
`+i[u].replace(" at new "," at ");return t.displayName&&f.includes("<anonymous>")&&(f=f.replace("<anonymous>",t.displayName)),f}while(1<=u&&0<=h);break}}}finally{Nd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Ya(t):""}function J7(t){switch(t.tag){case 5:return Ya(t.type);case 16:return Ya("Lazy");case 13:return Ya("Suspense");case 19:return Ya("SuspenseList");case 0:case 2:case 15:return t=Pd(t.type,!1),t;case 11:return t=Pd(t.type.render,!1),t;case 1:return t=Pd(t.type,!0),t;default:return""}}function Eh(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case So:return"Fragment";case _o:return"Portal";case bh:return"Profiler";case Hf:return"StrictMode";case _h:return"Suspense";case Sh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case b2:return(t.displayName||"Context")+".Consumer";case x2:return(t._context.displayName||"Context")+".Provider";case Wf:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Gf:return e=t.displayName||null,e!==null?e:Eh(t.type)||"Memo";case Ti:e=t._payload,t=t._init;try{return Eh(t(e))}catch{}}return null}function Z7(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Eh(e);case 8:return e===Hf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ki(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function S2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ev(t){var e=S2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(u){r=""+u,s.call(this,u)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(u){r=""+u},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Vu(t){t._valueTracker||(t._valueTracker=ev(t))}function E2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=S2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function I0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Th(t,e){var n=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function m1(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ki(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function T2(t,e){e=e.checked,e!=null&&$f(t,"checked",e,!1)}function kh(t,e){T2(t,e);var n=Ki(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ah(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ah(t,e.type,Ki(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function g1(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ah(t,e,n){(e!=="number"||I0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ja=Array.isArray;function Lo(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ki(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Ih(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function y1(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ce(92));if(Ja(n)){if(1<n.length)throw Error(ce(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ki(n)}}function k2(t,e){var n=Ki(e.value),r=Ki(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function v1(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function A2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ch(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?A2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ju,I2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ju=ju||document.createElement("div"),ju.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ju.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function xl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var rl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tv=["Webkit","ms","Moz","O"];Object.keys(rl).forEach(function(t){tv.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),rl[e]=rl[t]})});function C2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||rl.hasOwnProperty(t)&&rl[t]?(""+e).trim():e+"px"}function N2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=C2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var nv=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nh(t,e){if(e){if(nv[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function Ph(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rh=null;function Kf(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Mh=null,zo=null,Vo=null;function w1(t){if(t=Xl(t)){if(typeof Mh!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=kc(e),Mh(t.stateNode,t.type,e))}}function P2(t){zo?Vo?Vo.push(t):Vo=[t]:zo=t}function R2(){if(zo){var t=zo,e=Vo;if(Vo=zo=null,w1(t),e)for(t=0;t<e.length;t++)w1(e[t])}}function M2(t,e){return t(e)}function D2(){}var Rd=!1;function O2(t,e,n){if(Rd)return t(e,n);Rd=!0;try{return M2(t,e,n)}finally{Rd=!1,(zo!==null||Vo!==null)&&(D2(),R2())}}function bl(t,e){var n=t.stateNode;if(n===null)return null;var r=kc(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ce(231,e,typeof n));return n}var Dh=!1;if(oi)try{var qa={};Object.defineProperty(qa,"passive",{get:function(){Dh=!0}}),window.addEventListener("test",qa,qa),window.removeEventListener("test",qa,qa)}catch{Dh=!1}function rv(t,e,n,r,i,s,u,h,f){var y=Array.prototype.slice.call(arguments,3);try{e.apply(n,y)}catch(_){this.onError(_)}}var il=!1,C0=null,N0=!1,Oh=null,iv={onError:function(t){il=!0,C0=t}};function sv(t,e,n,r,i,s,u,h,f){il=!1,C0=null,rv.apply(iv,arguments)}function ov(t,e,n,r,i,s,u,h,f){if(sv.apply(this,arguments),il){if(il){var y=C0;il=!1,C0=null}else throw Error(ce(198));N0||(N0=!0,Oh=y)}}function Gs(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function L2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function x1(t){if(Gs(t)!==t)throw Error(ce(188))}function av(t){var e=t.alternate;if(!e){if(e=Gs(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return x1(i),t;if(s===r)return x1(i),e;s=s.sibling}throw Error(ce(188))}if(n.return!==r.return)n=i,r=s;else{for(var u=!1,h=i.child;h;){if(h===n){u=!0,n=i,r=s;break}if(h===r){u=!0,r=i,n=s;break}h=h.sibling}if(!u){for(h=s.child;h;){if(h===n){u=!0,n=s,r=i;break}if(h===r){u=!0,r=s,n=i;break}h=h.sibling}if(!u)throw Error(ce(189))}}if(n.alternate!==r)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?t:e}function z2(t){return t=av(t),t!==null?V2(t):null}function V2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=V2(t);if(e!==null)return e;t=t.sibling}return null}var j2=Bn.unstable_scheduleCallback,b1=Bn.unstable_cancelCallback,lv=Bn.unstable_shouldYield,uv=Bn.unstable_requestPaint,_t=Bn.unstable_now,cv=Bn.unstable_getCurrentPriorityLevel,Qf=Bn.unstable_ImmediatePriority,F2=Bn.unstable_UserBlockingPriority,P0=Bn.unstable_NormalPriority,dv=Bn.unstable_LowPriority,B2=Bn.unstable_IdlePriority,_c=null,Dr=null;function hv(t){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot(_c,t,void 0,(t.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:mv,fv=Math.log,pv=Math.LN2;function mv(t){return t>>>=0,t===0?32:31-(fv(t)/pv|0)|0}var Fu=64,Bu=4194304;function Za(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function R0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,u=n&268435455;if(u!==0){var h=u&~i;h!==0?r=Za(h):(s&=u,s!==0&&(r=Za(s)))}else u=n&~i,u!==0?r=Za(u):s!==0&&(r=Za(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vr(e),i=1<<n,r|=t[n],e&=~i;return r}function gv(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function yv(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var u=31-vr(s),h=1<<u,f=i[u];f===-1?(!(h&n)||h&r)&&(i[u]=gv(h,e)):f<=e&&(t.expiredLanes|=h),s&=~h}}function Lh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function U2(){var t=Fu;return Fu<<=1,!(Fu&4194240)&&(Fu=64),t}function Md(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Kl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vr(e),t[e]=n}function vv(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-vr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Xf(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Xe=0;function q2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var $2,Yf,H2,W2,G2,zh=!1,Uu=[],Li=null,zi=null,Vi=null,_l=new Map,Sl=new Map,Ai=[],wv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _1(t,e){switch(t){case"focusin":case"focusout":Li=null;break;case"dragenter":case"dragleave":zi=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":_l.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(e.pointerId)}}function $a(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Xl(e),e!==null&&Yf(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function xv(t,e,n,r,i){switch(e){case"focusin":return Li=$a(Li,t,e,n,r,i),!0;case"dragenter":return zi=$a(zi,t,e,n,r,i),!0;case"mouseover":return Vi=$a(Vi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return _l.set(s,$a(_l.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Sl.set(s,$a(Sl.get(s)||null,t,e,n,r,i)),!0}return!1}function K2(t){var e=Es(t.target);if(e!==null){var n=Gs(e);if(n!==null){if(e=n.tag,e===13){if(e=L2(n),e!==null){t.blockedOn=e,G2(t.priority,function(){H2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function c0(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Rh=r,n.target.dispatchEvent(r),Rh=null}else return e=Xl(n),e!==null&&Yf(e),t.blockedOn=n,!1;e.shift()}return!0}function S1(t,e,n){c0(t)&&n.delete(e)}function bv(){zh=!1,Li!==null&&c0(Li)&&(Li=null),zi!==null&&c0(zi)&&(zi=null),Vi!==null&&c0(Vi)&&(Vi=null),_l.forEach(S1),Sl.forEach(S1)}function Ha(t,e){t.blockedOn===e&&(t.blockedOn=null,zh||(zh=!0,Bn.unstable_scheduleCallback(Bn.unstable_NormalPriority,bv)))}function El(t){function e(i){return Ha(i,t)}if(0<Uu.length){Ha(Uu[0],t);for(var n=1;n<Uu.length;n++){var r=Uu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Li!==null&&Ha(Li,t),zi!==null&&Ha(zi,t),Vi!==null&&Ha(Vi,t),_l.forEach(e),Sl.forEach(e),n=0;n<Ai.length;n++)r=Ai[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ai.length&&(n=Ai[0],n.blockedOn===null);)K2(n),n.blockedOn===null&&Ai.shift()}var jo=fi.ReactCurrentBatchConfig,M0=!0;function _v(t,e,n,r){var i=Xe,s=jo.transition;jo.transition=null;try{Xe=1,Jf(t,e,n,r)}finally{Xe=i,jo.transition=s}}function Sv(t,e,n,r){var i=Xe,s=jo.transition;jo.transition=null;try{Xe=4,Jf(t,e,n,r)}finally{Xe=i,jo.transition=s}}function Jf(t,e,n,r){if(M0){var i=Vh(t,e,n,r);if(i===null)qd(t,e,r,D0,n),_1(t,r);else if(xv(i,t,e,n,r))r.stopPropagation();else if(_1(t,r),e&4&&-1<wv.indexOf(t)){for(;i!==null;){var s=Xl(i);if(s!==null&&$2(s),s=Vh(t,e,n,r),s===null&&qd(t,e,r,D0,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else qd(t,e,r,null,n)}}var D0=null;function Vh(t,e,n,r){if(D0=null,t=Kf(r),t=Es(t),t!==null)if(e=Gs(t),e===null)t=null;else if(n=e.tag,n===13){if(t=L2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return D0=t,null}function Q2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cv()){case Qf:return 1;case F2:return 4;case P0:case dv:return 16;case B2:return 536870912;default:return 16}default:return 16}}var Mi=null,Zf=null,d0=null;function X2(){if(d0)return d0;var t,e=Zf,n=e.length,r,i="value"in Mi?Mi.value:Mi.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var u=n-t;for(r=1;r<=u&&e[n-r]===i[s-r];r++);return d0=i.slice(t,1<r?1-r:void 0)}function h0(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qu(){return!0}function E1(){return!1}function qn(t){function e(n,r,i,s,u){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=u,this.currentTarget=null;for(var h in t)t.hasOwnProperty(h)&&(n=t[h],this[h]=n?n(s):s[h]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?qu:E1,this.isPropagationStopped=E1,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qu)},persist:function(){},isPersistent:qu}),e}var la={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ep=qn(la),Ql=yt({},la,{view:0,detail:0}),Ev=qn(Ql),Dd,Od,Wa,Sc=yt({},Ql,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tp,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Wa&&(Wa&&t.type==="mousemove"?(Dd=t.screenX-Wa.screenX,Od=t.screenY-Wa.screenY):Od=Dd=0,Wa=t),Dd)},movementY:function(t){return"movementY"in t?t.movementY:Od}}),T1=qn(Sc),Tv=yt({},Sc,{dataTransfer:0}),kv=qn(Tv),Av=yt({},Ql,{relatedTarget:0}),Ld=qn(Av),Iv=yt({},la,{animationName:0,elapsedTime:0,pseudoElement:0}),Cv=qn(Iv),Nv=yt({},la,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Pv=qn(Nv),Rv=yt({},la,{data:0}),k1=qn(Rv),Mv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Dv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ov={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Lv(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ov[t])?!!e[t]:!1}function tp(){return Lv}var zv=yt({},Ql,{key:function(t){if(t.key){var e=Mv[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=h0(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Dv[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tp,charCode:function(t){return t.type==="keypress"?h0(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?h0(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Vv=qn(zv),jv=yt({},Sc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A1=qn(jv),Fv=yt({},Ql,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tp}),Bv=qn(Fv),Uv=yt({},la,{propertyName:0,elapsedTime:0,pseudoElement:0}),qv=qn(Uv),$v=yt({},Sc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Hv=qn($v),Wv=[9,13,27,32],np=oi&&"CompositionEvent"in window,sl=null;oi&&"documentMode"in document&&(sl=document.documentMode);var Gv=oi&&"TextEvent"in window&&!sl,Y2=oi&&(!np||sl&&8<sl&&11>=sl),I1=" ",C1=!1;function J2(t,e){switch(t){case"keyup":return Wv.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Z2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Eo=!1;function Kv(t,e){switch(t){case"compositionend":return Z2(e);case"keypress":return e.which!==32?null:(C1=!0,I1);case"textInput":return t=e.data,t===I1&&C1?null:t;default:return null}}function Qv(t,e){if(Eo)return t==="compositionend"||!np&&J2(t,e)?(t=X2(),d0=Zf=Mi=null,Eo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Y2&&e.locale!=="ko"?null:e.data;default:return null}}var Xv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function N1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xv[t.type]:e==="textarea"}function e3(t,e,n,r){P2(r),e=O0(e,"onChange"),0<e.length&&(n=new ep("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ol=null,Tl=null;function Yv(t){d3(t,0)}function Ec(t){var e=Ao(t);if(E2(e))return t}function Jv(t,e){if(t==="change")return e}var t3=!1;if(oi){var zd;if(oi){var Vd="oninput"in document;if(!Vd){var P1=document.createElement("div");P1.setAttribute("oninput","return;"),Vd=typeof P1.oninput=="function"}zd=Vd}else zd=!1;t3=zd&&(!document.documentMode||9<document.documentMode)}function R1(){ol&&(ol.detachEvent("onpropertychange",n3),Tl=ol=null)}function n3(t){if(t.propertyName==="value"&&Ec(Tl)){var e=[];e3(e,Tl,t,Kf(t)),O2(Yv,e)}}function Zv(t,e,n){t==="focusin"?(R1(),ol=e,Tl=n,ol.attachEvent("onpropertychange",n3)):t==="focusout"&&R1()}function e8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ec(Tl)}function t8(t,e){if(t==="click")return Ec(e)}function n8(t,e){if(t==="input"||t==="change")return Ec(e)}function r8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xr=typeof Object.is=="function"?Object.is:r8;function kl(t,e){if(xr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xh.call(e,i)||!xr(t[i],e[i]))return!1}return!0}function M1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function D1(t,e){var n=M1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=M1(n)}}function r3(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?r3(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function i3(){for(var t=window,e=I0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=I0(t.document)}return e}function rp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function i8(t){var e=i3(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&r3(n.ownerDocument.documentElement,n)){if(r!==null&&rp(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=D1(n,s);var u=D1(n,r);i&&u&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==u.node||t.focusOffset!==u.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(u.node,u.offset)):(e.setEnd(u.node,u.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var s8=oi&&"documentMode"in document&&11>=document.documentMode,To=null,jh=null,al=null,Fh=!1;function O1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fh||To==null||To!==I0(r)||(r=To,"selectionStart"in r&&rp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),al&&kl(al,r)||(al=r,r=O0(jh,"onSelect"),0<r.length&&(e=new ep("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=To)))}function $u(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ko={animationend:$u("Animation","AnimationEnd"),animationiteration:$u("Animation","AnimationIteration"),animationstart:$u("Animation","AnimationStart"),transitionend:$u("Transition","TransitionEnd")},jd={},s3={};oi&&(s3=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);function Tc(t){if(jd[t])return jd[t];if(!ko[t])return t;var e=ko[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in s3)return jd[t]=e[n];return t}var o3=Tc("animationend"),a3=Tc("animationiteration"),l3=Tc("animationstart"),u3=Tc("transitionend"),c3=new Map,L1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function es(t,e){c3.set(t,e),Ws(e,[t])}for(var Fd=0;Fd<L1.length;Fd++){var Bd=L1[Fd],o8=Bd.toLowerCase(),a8=Bd[0].toUpperCase()+Bd.slice(1);es(o8,"on"+a8)}es(o3,"onAnimationEnd");es(a3,"onAnimationIteration");es(l3,"onAnimationStart");es("dblclick","onDoubleClick");es("focusin","onFocus");es("focusout","onBlur");es(u3,"onTransitionEnd");Wo("onMouseEnter",["mouseout","mouseover"]);Wo("onMouseLeave",["mouseout","mouseover"]);Wo("onPointerEnter",["pointerout","pointerover"]);Wo("onPointerLeave",["pointerout","pointerover"]);Ws("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ws("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ws("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ws("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ws("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var el="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),l8=new Set("cancel close invalid load scroll toggle".split(" ").concat(el));function z1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ov(r,e,void 0,t),t.currentTarget=null}function d3(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var u=r.length-1;0<=u;u--){var h=r[u],f=h.instance,y=h.currentTarget;if(h=h.listener,f!==s&&i.isPropagationStopped())break e;z1(i,h,y),s=f}else for(u=0;u<r.length;u++){if(h=r[u],f=h.instance,y=h.currentTarget,h=h.listener,f!==s&&i.isPropagationStopped())break e;z1(i,h,y),s=f}}}if(N0)throw t=Oh,N0=!1,Oh=null,t}function at(t,e){var n=e[Hh];n===void 0&&(n=e[Hh]=new Set);var r=t+"__bubble";n.has(r)||(h3(e,t,2,!1),n.add(r))}function Ud(t,e,n){var r=0;e&&(r|=4),h3(n,t,r,e)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function Al(t){if(!t[Hu]){t[Hu]=!0,w2.forEach(function(n){n!=="selectionchange"&&(l8.has(n)||Ud(n,!1,t),Ud(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Hu]||(e[Hu]=!0,Ud("selectionchange",!1,e))}}function h3(t,e,n,r){switch(Q2(e)){case 1:var i=_v;break;case 4:i=Sv;break;default:i=Jf}n=i.bind(null,e,n,t),i=void 0,!Dh||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qd(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var u=r.tag;if(u===3||u===4){var h=r.stateNode.containerInfo;if(h===i||h.nodeType===8&&h.parentNode===i)break;if(u===4)for(u=r.return;u!==null;){var f=u.tag;if((f===3||f===4)&&(f=u.stateNode.containerInfo,f===i||f.nodeType===8&&f.parentNode===i))return;u=u.return}for(;h!==null;){if(u=Es(h),u===null)return;if(f=u.tag,f===5||f===6){r=s=u;continue e}h=h.parentNode}}r=r.return}O2(function(){var y=s,_=Kf(n),E=[];e:{var I=c3.get(t);if(I!==void 0){var U=ep,q=t;switch(t){case"keypress":if(h0(n)===0)break e;case"keydown":case"keyup":U=Vv;break;case"focusin":q="focus",U=Ld;break;case"focusout":q="blur",U=Ld;break;case"beforeblur":case"afterblur":U=Ld;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=T1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=kv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=Bv;break;case o3:case a3:case l3:U=Cv;break;case u3:U=qv;break;case"scroll":U=Ev;break;case"wheel":U=Hv;break;case"copy":case"cut":case"paste":U=Pv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=A1}var X=(e&4)!==0,Q=!X&&t==="scroll",P=X?I!==null?I+"Capture":null:I;X=[];for(var M=y,L;M!==null;){L=M;var K=L.stateNode;if(L.tag===5&&K!==null&&(L=K,P!==null&&(K=bl(M,P),K!=null&&X.push(Il(M,K,L)))),Q)break;M=M.return}0<X.length&&(I=new U(I,q,null,n,_),E.push({event:I,listeners:X}))}}if(!(e&7)){e:{if(I=t==="mouseover"||t==="pointerover",U=t==="mouseout"||t==="pointerout",I&&n!==Rh&&(q=n.relatedTarget||n.fromElement)&&(Es(q)||q[ai]))break e;if((U||I)&&(I=_.window===_?_:(I=_.ownerDocument)?I.defaultView||I.parentWindow:window,U?(q=n.relatedTarget||n.toElement,U=y,q=q?Es(q):null,q!==null&&(Q=Gs(q),q!==Q||q.tag!==5&&q.tag!==6)&&(q=null)):(U=null,q=y),U!==q)){if(X=T1,K="onMouseLeave",P="onMouseEnter",M="mouse",(t==="pointerout"||t==="pointerover")&&(X=A1,K="onPointerLeave",P="onPointerEnter",M="pointer"),Q=U==null?I:Ao(U),L=q==null?I:Ao(q),I=new X(K,M+"leave",U,n,_),I.target=Q,I.relatedTarget=L,K=null,Es(_)===y&&(X=new X(P,M+"enter",q,n,_),X.target=L,X.relatedTarget=Q,K=X),Q=K,U&&q)t:{for(X=U,P=q,M=0,L=X;L;L=wo(L))M++;for(L=0,K=P;K;K=wo(K))L++;for(;0<M-L;)X=wo(X),M--;for(;0<L-M;)P=wo(P),L--;for(;M--;){if(X===P||P!==null&&X===P.alternate)break t;X=wo(X),P=wo(P)}X=null}else X=null;U!==null&&V1(E,I,U,X,!1),q!==null&&Q!==null&&V1(E,Q,q,X,!0)}}e:{if(I=y?Ao(y):window,U=I.nodeName&&I.nodeName.toLowerCase(),U==="select"||U==="input"&&I.type==="file")var te=Jv;else if(N1(I))if(t3)te=n8;else{te=e8;var ie=Zv}else(U=I.nodeName)&&U.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(te=t8);if(te&&(te=te(t,y))){e3(E,te,n,_);break e}ie&&ie(t,I,y),t==="focusout"&&(ie=I._wrapperState)&&ie.controlled&&I.type==="number"&&Ah(I,"number",I.value)}switch(ie=y?Ao(y):window,t){case"focusin":(N1(ie)||ie.contentEditable==="true")&&(To=ie,jh=y,al=null);break;case"focusout":al=jh=To=null;break;case"mousedown":Fh=!0;break;case"contextmenu":case"mouseup":case"dragend":Fh=!1,O1(E,n,_);break;case"selectionchange":if(s8)break;case"keydown":case"keyup":O1(E,n,_)}var z;if(np)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Eo?J2(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(Y2&&n.locale!=="ko"&&(Eo||C!=="onCompositionStart"?C==="onCompositionEnd"&&Eo&&(z=X2()):(Mi=_,Zf="value"in Mi?Mi.value:Mi.textContent,Eo=!0)),ie=O0(y,C),0<ie.length&&(C=new k1(C,t,null,n,_),E.push({event:C,listeners:ie}),z?C.data=z:(z=Z2(n),z!==null&&(C.data=z)))),(z=Gv?Kv(t,n):Qv(t,n))&&(y=O0(y,"onBeforeInput"),0<y.length&&(_=new k1("onBeforeInput","beforeinput",null,n,_),E.push({event:_,listeners:y}),_.data=z))}d3(E,e)})}function Il(t,e,n){return{instance:t,listener:e,currentTarget:n}}function O0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=bl(t,n),s!=null&&r.unshift(Il(t,s,i)),s=bl(t,e),s!=null&&r.push(Il(t,s,i))),t=t.return}return r}function wo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function V1(t,e,n,r,i){for(var s=e._reactName,u=[];n!==null&&n!==r;){var h=n,f=h.alternate,y=h.stateNode;if(f!==null&&f===r)break;h.tag===5&&y!==null&&(h=y,i?(f=bl(n,s),f!=null&&u.unshift(Il(n,f,h))):i||(f=bl(n,s),f!=null&&u.push(Il(n,f,h)))),n=n.return}u.length!==0&&t.push({event:e,listeners:u})}var u8=/\r\n?/g,c8=/\u0000|\uFFFD/g;function j1(t){return(typeof t=="string"?t:""+t).replace(u8,`
`).replace(c8,"")}function Wu(t,e,n){if(e=j1(e),j1(t)!==e&&n)throw Error(ce(425))}function L0(){}var Bh=null,Uh=null;function qh(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var $h=typeof setTimeout=="function"?setTimeout:void 0,d8=typeof clearTimeout=="function"?clearTimeout:void 0,F1=typeof Promise=="function"?Promise:void 0,h8=typeof queueMicrotask=="function"?queueMicrotask:typeof F1<"u"?function(t){return F1.resolve(null).then(t).catch(f8)}:$h;function f8(t){setTimeout(function(){throw t})}function $d(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),El(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);El(e)}function ji(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function B1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ua=Math.random().toString(36).slice(2),Rr="__reactFiber$"+ua,Cl="__reactProps$"+ua,ai="__reactContainer$"+ua,Hh="__reactEvents$"+ua,p8="__reactListeners$"+ua,m8="__reactHandles$"+ua;function Es(t){var e=t[Rr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ai]||n[Rr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=B1(t);t!==null;){if(n=t[Rr])return n;t=B1(t)}return e}t=n,n=t.parentNode}return null}function Xl(t){return t=t[Rr]||t[ai],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ao(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function kc(t){return t[Cl]||null}var Wh=[],Io=-1;function ts(t){return{current:t}}function lt(t){0>Io||(t.current=Wh[Io],Wh[Io]=null,Io--)}function nt(t,e){Io++,Wh[Io]=t.current,t.current=e}var Qi={},fn=ts(Qi),Nn=ts(!1),Ds=Qi;function Go(t,e){var n=t.type.contextTypes;if(!n)return Qi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Pn(t){return t=t.childContextTypes,t!=null}function z0(){lt(Nn),lt(fn)}function U1(t,e,n){if(fn.current!==Qi)throw Error(ce(168));nt(fn,e),nt(Nn,n)}function f3(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ce(108,Z7(t)||"Unknown",i));return yt({},n,r)}function V0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Qi,Ds=fn.current,nt(fn,t),nt(Nn,Nn.current),!0}function q1(t,e,n){var r=t.stateNode;if(!r)throw Error(ce(169));n?(t=f3(t,e,Ds),r.__reactInternalMemoizedMergedChildContext=t,lt(Nn),lt(fn),nt(fn,t)):lt(Nn),nt(Nn,n)}var Jr=null,Ac=!1,Hd=!1;function p3(t){Jr===null?Jr=[t]:Jr.push(t)}function g8(t){Ac=!0,p3(t)}function ns(){if(!Hd&&Jr!==null){Hd=!0;var t=0,e=Xe;try{var n=Jr;for(Xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Jr=null,Ac=!1}catch(i){throw Jr!==null&&(Jr=Jr.slice(t+1)),j2(Qf,ns),i}finally{Xe=e,Hd=!1}}return null}var Co=[],No=0,j0=null,F0=0,Yn=[],Jn=0,Os=null,Zr=1,ei="";function bs(t,e){Co[No++]=F0,Co[No++]=j0,j0=t,F0=e}function m3(t,e,n){Yn[Jn++]=Zr,Yn[Jn++]=ei,Yn[Jn++]=Os,Os=t;var r=Zr;t=ei;var i=32-vr(r)-1;r&=~(1<<i),n+=1;var s=32-vr(e)+i;if(30<s){var u=i-i%5;s=(r&(1<<u)-1).toString(32),r>>=u,i-=u,Zr=1<<32-vr(e)+i|n<<i|r,ei=s+t}else Zr=1<<s|n<<i|r,ei=t}function ip(t){t.return!==null&&(bs(t,1),m3(t,1,0))}function sp(t){for(;t===j0;)j0=Co[--No],Co[No]=null,F0=Co[--No],Co[No]=null;for(;t===Os;)Os=Yn[--Jn],Yn[Jn]=null,ei=Yn[--Jn],Yn[Jn]=null,Zr=Yn[--Jn],Yn[Jn]=null}var Fn=null,jn=null,dt=!1,hr=null;function g3(t,e){var n=Zn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function $1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Fn=t,jn=ji(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Fn=t,jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Os!==null?{id:Zr,overflow:ei}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Zn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Fn=t,jn=null,!0):!1;default:return!1}}function Gh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Kh(t){if(dt){var e=jn;if(e){var n=e;if(!$1(t,e)){if(Gh(t))throw Error(ce(418));e=ji(n.nextSibling);var r=Fn;e&&$1(t,e)?g3(r,n):(t.flags=t.flags&-4097|2,dt=!1,Fn=t)}}else{if(Gh(t))throw Error(ce(418));t.flags=t.flags&-4097|2,dt=!1,Fn=t}}}function H1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Fn=t}function Gu(t){if(t!==Fn)return!1;if(!dt)return H1(t),dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qh(t.type,t.memoizedProps)),e&&(e=jn)){if(Gh(t))throw y3(),Error(ce(418));for(;e;)g3(t,e),e=ji(e.nextSibling)}if(H1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){jn=ji(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}jn=null}}else jn=Fn?ji(t.stateNode.nextSibling):null;return!0}function y3(){for(var t=jn;t;)t=ji(t.nextSibling)}function Ko(){jn=Fn=null,dt=!1}function op(t){hr===null?hr=[t]:hr.push(t)}var y8=fi.ReactCurrentBatchConfig;function Ga(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var r=n.stateNode}if(!r)throw Error(ce(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(u){var h=i.refs;u===null?delete h[s]:h[s]=u},e._stringRef=s,e)}if(typeof t!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,t))}return t}function Ku(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function W1(t){var e=t._init;return e(t._payload)}function v3(t){function e(P,M){if(t){var L=P.deletions;L===null?(P.deletions=[M],P.flags|=16):L.push(M)}}function n(P,M){if(!t)return null;for(;M!==null;)e(P,M),M=M.sibling;return null}function r(P,M){for(P=new Map;M!==null;)M.key!==null?P.set(M.key,M):P.set(M.index,M),M=M.sibling;return P}function i(P,M){return P=qi(P,M),P.index=0,P.sibling=null,P}function s(P,M,L){return P.index=L,t?(L=P.alternate,L!==null?(L=L.index,L<M?(P.flags|=2,M):L):(P.flags|=2,M)):(P.flags|=1048576,M)}function u(P){return t&&P.alternate===null&&(P.flags|=2),P}function h(P,M,L,K){return M===null||M.tag!==6?(M=Jd(L,P.mode,K),M.return=P,M):(M=i(M,L),M.return=P,M)}function f(P,M,L,K){var te=L.type;return te===So?_(P,M,L.props.children,K,L.key):M!==null&&(M.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Ti&&W1(te)===M.type)?(K=i(M,L.props),K.ref=Ga(P,M,L),K.return=P,K):(K=w0(L.type,L.key,L.props,null,P.mode,K),K.ref=Ga(P,M,L),K.return=P,K)}function y(P,M,L,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=Zd(L,P.mode,K),M.return=P,M):(M=i(M,L.children||[]),M.return=P,M)}function _(P,M,L,K,te){return M===null||M.tag!==7?(M=Cs(L,P.mode,K,te),M.return=P,M):(M=i(M,L),M.return=P,M)}function E(P,M,L){if(typeof M=="string"&&M!==""||typeof M=="number")return M=Jd(""+M,P.mode,L),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case zu:return L=w0(M.type,M.key,M.props,null,P.mode,L),L.ref=Ga(P,null,M),L.return=P,L;case _o:return M=Zd(M,P.mode,L),M.return=P,M;case Ti:var K=M._init;return E(P,K(M._payload),L)}if(Ja(M)||Ua(M))return M=Cs(M,P.mode,L,null),M.return=P,M;Ku(P,M)}return null}function I(P,M,L,K){var te=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number")return te!==null?null:h(P,M,""+L,K);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case zu:return L.key===te?f(P,M,L,K):null;case _o:return L.key===te?y(P,M,L,K):null;case Ti:return te=L._init,I(P,M,te(L._payload),K)}if(Ja(L)||Ua(L))return te!==null?null:_(P,M,L,K,null);Ku(P,L)}return null}function U(P,M,L,K,te){if(typeof K=="string"&&K!==""||typeof K=="number")return P=P.get(L)||null,h(M,P,""+K,te);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case zu:return P=P.get(K.key===null?L:K.key)||null,f(M,P,K,te);case _o:return P=P.get(K.key===null?L:K.key)||null,y(M,P,K,te);case Ti:var ie=K._init;return U(P,M,L,ie(K._payload),te)}if(Ja(K)||Ua(K))return P=P.get(L)||null,_(M,P,K,te,null);Ku(M,K)}return null}function q(P,M,L,K){for(var te=null,ie=null,z=M,C=M=0,D=null;z!==null&&C<L.length;C++){z.index>C?(D=z,z=null):D=z.sibling;var O=I(P,z,L[C],K);if(O===null){z===null&&(z=D);break}t&&z&&O.alternate===null&&e(P,z),M=s(O,M,C),ie===null?te=O:ie.sibling=O,ie=O,z=D}if(C===L.length)return n(P,z),dt&&bs(P,C),te;if(z===null){for(;C<L.length;C++)z=E(P,L[C],K),z!==null&&(M=s(z,M,C),ie===null?te=z:ie.sibling=z,ie=z);return dt&&bs(P,C),te}for(z=r(P,z);C<L.length;C++)D=U(z,P,C,L[C],K),D!==null&&(t&&D.alternate!==null&&z.delete(D.key===null?C:D.key),M=s(D,M,C),ie===null?te=D:ie.sibling=D,ie=D);return t&&z.forEach(function($){return e(P,$)}),dt&&bs(P,C),te}function X(P,M,L,K){var te=Ua(L);if(typeof te!="function")throw Error(ce(150));if(L=te.call(L),L==null)throw Error(ce(151));for(var ie=te=null,z=M,C=M=0,D=null,O=L.next();z!==null&&!O.done;C++,O=L.next()){z.index>C?(D=z,z=null):D=z.sibling;var $=I(P,z,O.value,K);if($===null){z===null&&(z=D);break}t&&z&&$.alternate===null&&e(P,z),M=s($,M,C),ie===null?te=$:ie.sibling=$,ie=$,z=D}if(O.done)return n(P,z),dt&&bs(P,C),te;if(z===null){for(;!O.done;C++,O=L.next())O=E(P,O.value,K),O!==null&&(M=s(O,M,C),ie===null?te=O:ie.sibling=O,ie=O);return dt&&bs(P,C),te}for(z=r(P,z);!O.done;C++,O=L.next())O=U(z,P,C,O.value,K),O!==null&&(t&&O.alternate!==null&&z.delete(O.key===null?C:O.key),M=s(O,M,C),ie===null?te=O:ie.sibling=O,ie=O);return t&&z.forEach(function(W){return e(P,W)}),dt&&bs(P,C),te}function Q(P,M,L,K){if(typeof L=="object"&&L!==null&&L.type===So&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case zu:e:{for(var te=L.key,ie=M;ie!==null;){if(ie.key===te){if(te=L.type,te===So){if(ie.tag===7){n(P,ie.sibling),M=i(ie,L.props.children),M.return=P,P=M;break e}}else if(ie.elementType===te||typeof te=="object"&&te!==null&&te.$$typeof===Ti&&W1(te)===ie.type){n(P,ie.sibling),M=i(ie,L.props),M.ref=Ga(P,ie,L),M.return=P,P=M;break e}n(P,ie);break}else e(P,ie);ie=ie.sibling}L.type===So?(M=Cs(L.props.children,P.mode,K,L.key),M.return=P,P=M):(K=w0(L.type,L.key,L.props,null,P.mode,K),K.ref=Ga(P,M,L),K.return=P,P=K)}return u(P);case _o:e:{for(ie=L.key;M!==null;){if(M.key===ie)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){n(P,M.sibling),M=i(M,L.children||[]),M.return=P,P=M;break e}else{n(P,M);break}else e(P,M);M=M.sibling}M=Zd(L,P.mode,K),M.return=P,P=M}return u(P);case Ti:return ie=L._init,Q(P,M,ie(L._payload),K)}if(Ja(L))return q(P,M,L,K);if(Ua(L))return X(P,M,L,K);Ku(P,L)}return typeof L=="string"&&L!==""||typeof L=="number"?(L=""+L,M!==null&&M.tag===6?(n(P,M.sibling),M=i(M,L),M.return=P,P=M):(n(P,M),M=Jd(L,P.mode,K),M.return=P,P=M),u(P)):n(P,M)}return Q}var Qo=v3(!0),w3=v3(!1),B0=ts(null),U0=null,Po=null,ap=null;function lp(){ap=Po=U0=null}function up(t){var e=B0.current;lt(B0),t._currentValue=e}function Qh(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Fo(t,e){U0=t,ap=Po=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Cn=!0),t.firstContext=null)}function nr(t){var e=t._currentValue;if(ap!==t)if(t={context:t,memoizedValue:e,next:null},Po===null){if(U0===null)throw Error(ce(308));Po=t,U0.dependencies={lanes:0,firstContext:t}}else Po=Po.next=t;return e}var Ts=null;function cp(t){Ts===null?Ts=[t]:Ts.push(t)}function x3(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,cp(e)):(n.next=i.next,i.next=n),e.interleaved=n,li(t,r)}function li(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ki=!1;function dp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function b3(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,qe&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,li(t,n)}return i=r.interleaved,i===null?(e.next=e,cp(r)):(e.next=i.next,i.next=e),r.interleaved=e,li(t,n)}function f0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xf(t,n)}}function G1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var u={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=u:s=s.next=u,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function q0(t,e,n,r){var i=t.updateQueue;ki=!1;var s=i.firstBaseUpdate,u=i.lastBaseUpdate,h=i.shared.pending;if(h!==null){i.shared.pending=null;var f=h,y=f.next;f.next=null,u===null?s=y:u.next=y,u=f;var _=t.alternate;_!==null&&(_=_.updateQueue,h=_.lastBaseUpdate,h!==u&&(h===null?_.firstBaseUpdate=y:h.next=y,_.lastBaseUpdate=f))}if(s!==null){var E=i.baseState;u=0,_=y=f=null,h=s;do{var I=h.lane,U=h.eventTime;if((r&I)===I){_!==null&&(_=_.next={eventTime:U,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var q=t,X=h;switch(I=e,U=n,X.tag){case 1:if(q=X.payload,typeof q=="function"){E=q.call(U,E,I);break e}E=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=X.payload,I=typeof q=="function"?q.call(U,E,I):q,I==null)break e;E=yt({},E,I);break e;case 2:ki=!0}}h.callback!==null&&h.lane!==0&&(t.flags|=64,I=i.effects,I===null?i.effects=[h]:I.push(h))}else U={eventTime:U,lane:I,tag:h.tag,payload:h.payload,callback:h.callback,next:null},_===null?(y=_=U,f=E):_=_.next=U,u|=I;if(h=h.next,h===null){if(h=i.shared.pending,h===null)break;I=h,h=I.next,I.next=null,i.lastBaseUpdate=I,i.shared.pending=null}}while(!0);if(_===null&&(f=E),i.baseState=f,i.firstBaseUpdate=y,i.lastBaseUpdate=_,e=i.shared.interleaved,e!==null){i=e;do u|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);zs|=u,t.lanes=u,t.memoizedState=E}}function K1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ce(191,i));i.call(r)}}}var Yl={},Or=ts(Yl),Nl=ts(Yl),Pl=ts(Yl);function ks(t){if(t===Yl)throw Error(ce(174));return t}function hp(t,e){switch(nt(Pl,e),nt(Nl,t),nt(Or,Yl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ch(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ch(e,t)}lt(Or),nt(Or,e)}function Xo(){lt(Or),lt(Nl),lt(Pl)}function _3(t){ks(Pl.current);var e=ks(Or.current),n=Ch(e,t.type);e!==n&&(nt(Nl,t),nt(Or,n))}function fp(t){Nl.current===t&&(lt(Or),lt(Nl))}var mt=ts(0);function $0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Wd=[];function pp(){for(var t=0;t<Wd.length;t++)Wd[t]._workInProgressVersionPrimary=null;Wd.length=0}var p0=fi.ReactCurrentDispatcher,Gd=fi.ReactCurrentBatchConfig,Ls=0,gt=null,Dt=null,qt=null,H0=!1,ll=!1,Rl=0,v8=0;function an(){throw Error(ce(321))}function mp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xr(t[n],e[n]))return!1;return!0}function gp(t,e,n,r,i,s){if(Ls=s,gt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,p0.current=t===null||t.memoizedState===null?_8:S8,t=n(r,i),ll){s=0;do{if(ll=!1,Rl=0,25<=s)throw Error(ce(301));s+=1,qt=Dt=null,e.updateQueue=null,p0.current=E8,t=n(r,i)}while(ll)}if(p0.current=W0,e=Dt!==null&&Dt.next!==null,Ls=0,qt=Dt=gt=null,H0=!1,e)throw Error(ce(300));return t}function yp(){var t=Rl!==0;return Rl=0,t}function Nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qt===null?gt.memoizedState=qt=t:qt=qt.next=t,qt}function rr(){if(Dt===null){var t=gt.alternate;t=t!==null?t.memoizedState:null}else t=Dt.next;var e=qt===null?gt.memoizedState:qt.next;if(e!==null)qt=e,Dt=t;else{if(t===null)throw Error(ce(310));Dt=t,t={memoizedState:Dt.memoizedState,baseState:Dt.baseState,baseQueue:Dt.baseQueue,queue:Dt.queue,next:null},qt===null?gt.memoizedState=qt=t:qt=qt.next=t}return qt}function Ml(t,e){return typeof e=="function"?e(t):e}function Kd(t){var e=rr(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=Dt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var u=i.next;i.next=s.next,s.next=u}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var h=u=null,f=null,y=s;do{var _=y.lane;if((Ls&_)===_)f!==null&&(f=f.next={lane:0,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null}),r=y.hasEagerState?y.eagerState:t(r,y.action);else{var E={lane:_,action:y.action,hasEagerState:y.hasEagerState,eagerState:y.eagerState,next:null};f===null?(h=f=E,u=r):f=f.next=E,gt.lanes|=_,zs|=_}y=y.next}while(y!==null&&y!==s);f===null?u=r:f.next=h,xr(r,e.memoizedState)||(Cn=!0),e.memoizedState=r,e.baseState=u,e.baseQueue=f,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,gt.lanes|=s,zs|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Qd(t){var e=rr(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var u=i=i.next;do s=t(s,u.action),u=u.next;while(u!==i);xr(s,e.memoizedState)||(Cn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function S3(){}function E3(t,e){var n=gt,r=rr(),i=e(),s=!xr(r.memoizedState,i);if(s&&(r.memoizedState=i,Cn=!0),r=r.queue,vp(A3.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||qt!==null&&qt.memoizedState.tag&1){if(n.flags|=2048,Dl(9,k3.bind(null,n,r,i,e),void 0,null),Ht===null)throw Error(ce(349));Ls&30||T3(n,e,i)}return i}function T3(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function k3(t,e,n,r){e.value=n,e.getSnapshot=r,I3(e)&&C3(t)}function A3(t,e,n){return n(function(){I3(e)&&C3(t)})}function I3(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xr(t,n)}catch{return!0}}function C3(t){var e=li(t,1);e!==null&&wr(e,t,1,-1)}function Q1(t){var e=Nr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ml,lastRenderedState:t},e.queue=t,t=t.dispatch=b8.bind(null,gt,t),[e.memoizedState,t]}function Dl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=gt.updateQueue,e===null?(e={lastEffect:null,stores:null},gt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function N3(){return rr().memoizedState}function m0(t,e,n,r){var i=Nr();gt.flags|=t,i.memoizedState=Dl(1|e,n,void 0,r===void 0?null:r)}function Ic(t,e,n,r){var i=rr();r=r===void 0?null:r;var s=void 0;if(Dt!==null){var u=Dt.memoizedState;if(s=u.destroy,r!==null&&mp(r,u.deps)){i.memoizedState=Dl(e,n,s,r);return}}gt.flags|=t,i.memoizedState=Dl(1|e,n,s,r)}function X1(t,e){return m0(8390656,8,t,e)}function vp(t,e){return Ic(2048,8,t,e)}function P3(t,e){return Ic(4,2,t,e)}function R3(t,e){return Ic(4,4,t,e)}function M3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function D3(t,e,n){return n=n!=null?n.concat([t]):null,Ic(4,4,M3.bind(null,e,t),n)}function wp(){}function O3(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function L3(t,e){var n=rr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&mp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function z3(t,e,n){return Ls&21?(xr(n,e)||(n=U2(),gt.lanes|=n,zs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Cn=!0),t.memoizedState=n)}function w8(t,e){var n=Xe;Xe=n!==0&&4>n?n:4,t(!0);var r=Gd.transition;Gd.transition={};try{t(!1),e()}finally{Xe=n,Gd.transition=r}}function V3(){return rr().memoizedState}function x8(t,e,n){var r=Ui(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},j3(t))F3(e,n);else if(n=x3(t,e,n,r),n!==null){var i=Sn();wr(n,t,r,i),B3(n,e,r)}}function b8(t,e,n){var r=Ui(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(j3(t))F3(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var u=e.lastRenderedState,h=s(u,n);if(i.hasEagerState=!0,i.eagerState=h,xr(h,u)){var f=e.interleaved;f===null?(i.next=i,cp(e)):(i.next=f.next,f.next=i),e.interleaved=i;return}}catch{}finally{}n=x3(t,e,i,r),n!==null&&(i=Sn(),wr(n,t,r,i),B3(n,e,r))}}function j3(t){var e=t.alternate;return t===gt||e!==null&&e===gt}function F3(t,e){ll=H0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function B3(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Xf(t,n)}}var W0={readContext:nr,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},_8={readContext:nr,useCallback:function(t,e){return Nr().memoizedState=[t,e===void 0?null:e],t},useContext:nr,useEffect:X1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,m0(4194308,4,M3.bind(null,e,t),n)},useLayoutEffect:function(t,e){return m0(4194308,4,t,e)},useInsertionEffect:function(t,e){return m0(4,2,t,e)},useMemo:function(t,e){var n=Nr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=x8.bind(null,gt,t),[r.memoizedState,t]},useRef:function(t){var e=Nr();return t={current:t},e.memoizedState=t},useState:Q1,useDebugValue:wp,useDeferredValue:function(t){return Nr().memoizedState=t},useTransition:function(){var t=Q1(!1),e=t[0];return t=w8.bind(null,t[1]),Nr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=gt,i=Nr();if(dt){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=e(),Ht===null)throw Error(ce(349));Ls&30||T3(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,X1(A3.bind(null,r,s,t),[t]),r.flags|=2048,Dl(9,k3.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Nr(),e=Ht.identifierPrefix;if(dt){var n=ei,r=Zr;n=(r&~(1<<32-vr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Rl++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=v8++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},S8={readContext:nr,useCallback:O3,useContext:nr,useEffect:vp,useImperativeHandle:D3,useInsertionEffect:P3,useLayoutEffect:R3,useMemo:L3,useReducer:Kd,useRef:N3,useState:function(){return Kd(Ml)},useDebugValue:wp,useDeferredValue:function(t){var e=rr();return z3(e,Dt.memoizedState,t)},useTransition:function(){var t=Kd(Ml)[0],e=rr().memoizedState;return[t,e]},useMutableSource:S3,useSyncExternalStore:E3,useId:V3,unstable_isNewReconciler:!1},E8={readContext:nr,useCallback:O3,useContext:nr,useEffect:vp,useImperativeHandle:D3,useInsertionEffect:P3,useLayoutEffect:R3,useMemo:L3,useReducer:Qd,useRef:N3,useState:function(){return Qd(Ml)},useDebugValue:wp,useDeferredValue:function(t){var e=rr();return Dt===null?e.memoizedState=t:z3(e,Dt.memoizedState,t)},useTransition:function(){var t=Qd(Ml)[0],e=rr().memoizedState;return[t,e]},useMutableSource:S3,useSyncExternalStore:E3,useId:V3,unstable_isNewReconciler:!1};function cr(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Xh(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:yt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cc={isMounted:function(t){return(t=t._reactInternals)?Gs(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Sn(),i=Ui(t),s=ri(r,i);s.payload=e,n!=null&&(s.callback=n),e=Fi(t,s,i),e!==null&&(wr(e,t,i,r),f0(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Sn(),i=Ui(t),s=ri(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Fi(t,s,i),e!==null&&(wr(e,t,i,r),f0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Sn(),r=Ui(t),i=ri(n,r);i.tag=2,e!=null&&(i.callback=e),e=Fi(t,i,r),e!==null&&(wr(e,t,r,n),f0(e,t,r))}};function Y1(t,e,n,r,i,s,u){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,u):e.prototype&&e.prototype.isPureReactComponent?!kl(n,r)||!kl(i,s):!0}function U3(t,e,n){var r=!1,i=Qi,s=e.contextType;return typeof s=="object"&&s!==null?s=nr(s):(i=Pn(e)?Ds:fn.current,r=e.contextTypes,s=(r=r!=null)?Go(t,i):Qi),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cc,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function J1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Cc.enqueueReplaceState(e,e.state,null)}function Yh(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},dp(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=nr(s):(s=Pn(e)?Ds:fn.current,i.context=Go(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Xh(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Cc.enqueueReplaceState(i,i.state,null),q0(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Yo(t,e){try{var n="",r=e;do n+=J7(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Xd(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Jh(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var T8=typeof WeakMap=="function"?WeakMap:Map;function q3(t,e,n){n=ri(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){K0||(K0=!0,uf=r),Jh(t,e)},n}function $3(t,e,n){n=ri(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Jh(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Jh(t,e),typeof r!="function"&&(Bi===null?Bi=new Set([this]):Bi.add(this));var u=e.stack;this.componentDidCatch(e.value,{componentStack:u!==null?u:""})}),n}function Z1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new T8;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=j8.bind(null,t,e,n),e.then(t,t))}function e4(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function t4(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ri(-1,1),e.tag=2,Fi(n,e,1))),n.lanes|=1),t)}var k8=fi.ReactCurrentOwner,Cn=!1;function bn(t,e,n,r){e.child=t===null?w3(e,null,n,r):Qo(e,t.child,n,r)}function n4(t,e,n,r,i){n=n.render;var s=e.ref;return Fo(e,i),r=gp(t,e,n,r,s,i),n=yp(),t!==null&&!Cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ui(t,e,i)):(dt&&n&&ip(e),e.flags|=1,bn(t,e,r,i),e.child)}function r4(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Ap(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,H3(t,e,s,r,i)):(t=w0(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var u=s.memoizedProps;if(n=n.compare,n=n!==null?n:kl,n(u,r)&&t.ref===e.ref)return ui(t,e,i)}return e.flags|=1,t=qi(s,r),t.ref=e.ref,t.return=e,e.child=t}function H3(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(kl(s,r)&&t.ref===e.ref)if(Cn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Cn=!0);else return e.lanes=t.lanes,ui(t,e,i)}return Zh(t,e,n,r,i)}function W3(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Mo,zn),zn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nt(Mo,zn),zn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,nt(Mo,zn),zn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,nt(Mo,zn),zn|=r;return bn(t,e,i,n),e.child}function G3(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Zh(t,e,n,r,i){var s=Pn(n)?Ds:fn.current;return s=Go(e,s),Fo(e,i),n=gp(t,e,n,r,s,i),r=yp(),t!==null&&!Cn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ui(t,e,i)):(dt&&r&&ip(e),e.flags|=1,bn(t,e,n,i),e.child)}function i4(t,e,n,r,i){if(Pn(n)){var s=!0;V0(e)}else s=!1;if(Fo(e,i),e.stateNode===null)g0(t,e),U3(e,n,r),Yh(e,n,r,i),r=!0;else if(t===null){var u=e.stateNode,h=e.memoizedProps;u.props=h;var f=u.context,y=n.contextType;typeof y=="object"&&y!==null?y=nr(y):(y=Pn(n)?Ds:fn.current,y=Go(e,y));var _=n.getDerivedStateFromProps,E=typeof _=="function"||typeof u.getSnapshotBeforeUpdate=="function";E||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==r||f!==y)&&J1(e,u,r,y),ki=!1;var I=e.memoizedState;u.state=I,q0(e,r,u,i),f=e.memoizedState,h!==r||I!==f||Nn.current||ki?(typeof _=="function"&&(Xh(e,n,_,r),f=e.memoizedState),(h=ki||Y1(e,n,h,r,I,f,y))?(E||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(e.flags|=4194308)):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=f),u.props=r,u.state=f,u.context=y,r=h):(typeof u.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{u=e.stateNode,b3(t,e),h=e.memoizedProps,y=e.type===e.elementType?h:cr(e.type,h),u.props=y,E=e.pendingProps,I=u.context,f=n.contextType,typeof f=="object"&&f!==null?f=nr(f):(f=Pn(n)?Ds:fn.current,f=Go(e,f));var U=n.getDerivedStateFromProps;(_=typeof U=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(h!==E||I!==f)&&J1(e,u,r,f),ki=!1,I=e.memoizedState,u.state=I,q0(e,r,u,i);var q=e.memoizedState;h!==E||I!==q||Nn.current||ki?(typeof U=="function"&&(Xh(e,n,U,r),q=e.memoizedState),(y=ki||Y1(e,n,y,r,I,q,f)||!1)?(_||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(r,q,f),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(r,q,f)),typeof u.componentDidUpdate=="function"&&(e.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&I===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&I===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=q),u.props=r,u.state=q,u.context=f,r=y):(typeof u.componentDidUpdate!="function"||h===t.memoizedProps&&I===t.memoizedState||(e.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||h===t.memoizedProps&&I===t.memoizedState||(e.flags|=1024),r=!1)}return ef(t,e,n,r,s,i)}function ef(t,e,n,r,i,s){G3(t,e);var u=(e.flags&128)!==0;if(!r&&!u)return i&&q1(e,n,!1),ui(t,e,s);r=e.stateNode,k8.current=e;var h=u&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&u?(e.child=Qo(e,t.child,null,s),e.child=Qo(e,null,h,s)):bn(t,e,h,s),e.memoizedState=r.state,i&&q1(e,n,!0),e.child}function K3(t){var e=t.stateNode;e.pendingContext?U1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&U1(t,e.context,!1),hp(t,e.containerInfo)}function s4(t,e,n,r,i){return Ko(),op(i),e.flags|=256,bn(t,e,n,r),e.child}var tf={dehydrated:null,treeContext:null,retryLane:0};function nf(t){return{baseLanes:t,cachePool:null,transitions:null}}function Q3(t,e,n){var r=e.pendingProps,i=mt.current,s=!1,u=(e.flags&128)!==0,h;if((h=u)||(h=t!==null&&t.memoizedState===null?!1:(i&2)!==0),h?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nt(mt,i&1),t===null)return Kh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(u=r.children,t=r.fallback,s?(r=e.mode,s=e.child,u={mode:"hidden",children:u},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=u):s=Rc(u,r,0,null),t=Cs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=nf(n),e.memoizedState=tf,t):xp(e,u));if(i=t.memoizedState,i!==null&&(h=i.dehydrated,h!==null))return A8(t,e,u,r,h,i,n);if(s){s=r.fallback,u=e.mode,i=t.child,h=i.sibling;var f={mode:"hidden",children:r.children};return!(u&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=f,e.deletions=null):(r=qi(i,f),r.subtreeFlags=i.subtreeFlags&14680064),h!==null?s=qi(h,s):(s=Cs(s,u,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,u=t.child.memoizedState,u=u===null?nf(n):{baseLanes:u.baseLanes|n,cachePool:null,transitions:u.transitions},s.memoizedState=u,s.childLanes=t.childLanes&~n,e.memoizedState=tf,r}return s=t.child,t=s.sibling,r=qi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function xp(t,e){return e=Rc({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qu(t,e,n,r){return r!==null&&op(r),Qo(e,t.child,null,n),t=xp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function A8(t,e,n,r,i,s,u){if(n)return e.flags&256?(e.flags&=-257,r=Xd(Error(ce(422))),Qu(t,e,u,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Rc({mode:"visible",children:r.children},i,0,null),s=Cs(s,i,u,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Qo(e,t.child,null,u),e.child.memoizedState=nf(u),e.memoizedState=tf,s);if(!(e.mode&1))return Qu(t,e,u,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var h=r.dgst;return r=h,s=Error(ce(419)),r=Xd(s,r,void 0),Qu(t,e,u,r)}if(h=(u&t.childLanes)!==0,Cn||h){if(r=Ht,r!==null){switch(u&-u){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|u)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,li(t,i),wr(r,t,i,-1))}return kp(),r=Xd(Error(ce(421))),Qu(t,e,u,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=F8.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,jn=ji(i.nextSibling),Fn=e,dt=!0,hr=null,t!==null&&(Yn[Jn++]=Zr,Yn[Jn++]=ei,Yn[Jn++]=Os,Zr=t.id,ei=t.overflow,Os=e),e=xp(e,r.children),e.flags|=4096,e)}function o4(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Qh(t.return,e,n)}function Yd(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function X3(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(bn(t,e,r.children,n),r=mt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&o4(t,n,e);else if(t.tag===19)o4(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(nt(mt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&$0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Yd(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&$0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Yd(e,!0,n,null,s);break;case"together":Yd(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function g0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ui(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),zs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,n=qi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=qi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function I8(t,e,n){switch(e.tag){case 3:K3(e),Ko();break;case 5:_3(e);break;case 1:Pn(e.type)&&V0(e);break;case 4:hp(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;nt(B0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(nt(mt,mt.current&1),e.flags|=128,null):n&e.child.childLanes?Q3(t,e,n):(nt(mt,mt.current&1),t=ui(t,e,n),t!==null?t.sibling:null);nt(mt,mt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return X3(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(mt,mt.current),r)break;return null;case 22:case 23:return e.lanes=0,W3(t,e,n)}return ui(t,e,n)}var Y3,rf,J3,Z3;Y3=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};rf=function(){};J3=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ks(Or.current);var s=null;switch(n){case"input":i=Th(t,i),r=Th(t,r),s=[];break;case"select":i=yt({},i,{value:void 0}),r=yt({},r,{value:void 0}),s=[];break;case"textarea":i=Ih(t,i),r=Ih(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=L0)}Nh(n,r);var u;n=null;for(y in i)if(!r.hasOwnProperty(y)&&i.hasOwnProperty(y)&&i[y]!=null)if(y==="style"){var h=i[y];for(u in h)h.hasOwnProperty(u)&&(n||(n={}),n[u]="")}else y!=="dangerouslySetInnerHTML"&&y!=="children"&&y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(wl.hasOwnProperty(y)?s||(s=[]):(s=s||[]).push(y,null));for(y in r){var f=r[y];if(h=i!=null?i[y]:void 0,r.hasOwnProperty(y)&&f!==h&&(f!=null||h!=null))if(y==="style")if(h){for(u in h)!h.hasOwnProperty(u)||f&&f.hasOwnProperty(u)||(n||(n={}),n[u]="");for(u in f)f.hasOwnProperty(u)&&h[u]!==f[u]&&(n||(n={}),n[u]=f[u])}else n||(s||(s=[]),s.push(y,n)),n=f;else y==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,h=h?h.__html:void 0,f!=null&&h!==f&&(s=s||[]).push(y,f)):y==="children"?typeof f!="string"&&typeof f!="number"||(s=s||[]).push(y,""+f):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&(wl.hasOwnProperty(y)?(f!=null&&y==="onScroll"&&at("scroll",t),s||h===f||(s=[])):(s=s||[]).push(y,f))}n&&(s=s||[]).push("style",n);var y=s;(e.updateQueue=y)&&(e.flags|=4)}};Z3=function(t,e,n,r){n!==r&&(e.flags|=4)};function Ka(t,e){if(!dt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ln(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function C8(t,e,n){var r=e.pendingProps;switch(sp(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ln(e),null;case 1:return Pn(e.type)&&z0(),ln(e),null;case 3:return r=e.stateNode,Xo(),lt(Nn),lt(fn),pp(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Gu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,hr!==null&&(hf(hr),hr=null))),rf(t,e),ln(e),null;case 5:fp(e);var i=ks(Pl.current);if(n=e.type,t!==null&&e.stateNode!=null)J3(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ce(166));return ln(e),null}if(t=ks(Or.current),Gu(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Rr]=e,r[Cl]=s,t=(e.mode&1)!==0,n){case"dialog":at("cancel",r),at("close",r);break;case"iframe":case"object":case"embed":at("load",r);break;case"video":case"audio":for(i=0;i<el.length;i++)at(el[i],r);break;case"source":at("error",r);break;case"img":case"image":case"link":at("error",r),at("load",r);break;case"details":at("toggle",r);break;case"input":m1(r,s),at("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},at("invalid",r);break;case"textarea":y1(r,s),at("invalid",r)}Nh(n,s),i=null;for(var u in s)if(s.hasOwnProperty(u)){var h=s[u];u==="children"?typeof h=="string"?r.textContent!==h&&(s.suppressHydrationWarning!==!0&&Wu(r.textContent,h,t),i=["children",h]):typeof h=="number"&&r.textContent!==""+h&&(s.suppressHydrationWarning!==!0&&Wu(r.textContent,h,t),i=["children",""+h]):wl.hasOwnProperty(u)&&h!=null&&u==="onScroll"&&at("scroll",r)}switch(n){case"input":Vu(r),g1(r,s,!0);break;case"textarea":Vu(r),v1(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=L0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{u=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=A2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),n==="select"&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[Rr]=e,t[Cl]=r,Y3(t,e,!1,!1),e.stateNode=t;e:{switch(u=Ph(n,r),n){case"dialog":at("cancel",t),at("close",t),i=r;break;case"iframe":case"object":case"embed":at("load",t),i=r;break;case"video":case"audio":for(i=0;i<el.length;i++)at(el[i],t);i=r;break;case"source":at("error",t),i=r;break;case"img":case"image":case"link":at("error",t),at("load",t),i=r;break;case"details":at("toggle",t),i=r;break;case"input":m1(t,r),i=Th(t,r),at("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=yt({},r,{value:void 0}),at("invalid",t);break;case"textarea":y1(t,r),i=Ih(t,r),at("invalid",t);break;default:i=r}Nh(n,i),h=i;for(s in h)if(h.hasOwnProperty(s)){var f=h[s];s==="style"?N2(t,f):s==="dangerouslySetInnerHTML"?(f=f?f.__html:void 0,f!=null&&I2(t,f)):s==="children"?typeof f=="string"?(n!=="textarea"||f!=="")&&xl(t,f):typeof f=="number"&&xl(t,""+f):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(wl.hasOwnProperty(s)?f!=null&&s==="onScroll"&&at("scroll",t):f!=null&&$f(t,s,f,u))}switch(n){case"input":Vu(t),g1(t,r,!1);break;case"textarea":Vu(t),v1(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ki(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Lo(t,!!r.multiple,s,!1):r.defaultValue!=null&&Lo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=L0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ln(e),null;case 6:if(t&&e.stateNode!=null)Z3(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ce(166));if(n=ks(Pl.current),ks(Or.current),Gu(e)){if(r=e.stateNode,n=e.memoizedProps,r[Rr]=e,(s=r.nodeValue!==n)&&(t=Fn,t!==null))switch(t.tag){case 3:Wu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Wu(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rr]=e,e.stateNode=r}return ln(e),null;case 13:if(lt(mt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&jn!==null&&e.mode&1&&!(e.flags&128))y3(),Ko(),e.flags|=98560,s=!1;else if(s=Gu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ce(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ce(317));s[Rr]=e}else Ko(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ln(e),s=!1}else hr!==null&&(hf(hr),hr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?Ot===0&&(Ot=3):kp())),e.updateQueue!==null&&(e.flags|=4),ln(e),null);case 4:return Xo(),rf(t,e),t===null&&Al(e.stateNode.containerInfo),ln(e),null;case 10:return up(e.type._context),ln(e),null;case 17:return Pn(e.type)&&z0(),ln(e),null;case 19:if(lt(mt),s=e.memoizedState,s===null)return ln(e),null;if(r=(e.flags&128)!==0,u=s.rendering,u===null)if(r)Ka(s,!1);else{if(Ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(u=$0(t),u!==null){for(e.flags|=128,Ka(s,!1),r=u.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,u=s.alternate,u===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,t=u.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return nt(mt,mt.current&1|2),e.child}t=t.sibling}s.tail!==null&&_t()>Jo&&(e.flags|=128,r=!0,Ka(s,!1),e.lanes=4194304)}else{if(!r)if(t=$0(u),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ka(s,!0),s.tail===null&&s.tailMode==="hidden"&&!u.alternate&&!dt)return ln(e),null}else 2*_t()-s.renderingStartTime>Jo&&n!==1073741824&&(e.flags|=128,r=!0,Ka(s,!1),e.lanes=4194304);s.isBackwards?(u.sibling=e.child,e.child=u):(n=s.last,n!==null?n.sibling=u:e.child=u,s.last=u)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_t(),e.sibling=null,n=mt.current,nt(mt,r?n&1|2:n&1),e):(ln(e),null);case 22:case 23:return Tp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?zn&1073741824&&(ln(e),e.subtreeFlags&6&&(e.flags|=8192)):ln(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function N8(t,e){switch(sp(e),e.tag){case 1:return Pn(e.type)&&z0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Xo(),lt(Nn),lt(fn),pp(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fp(e),null;case 13:if(lt(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));Ko()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lt(mt),null;case 4:return Xo(),null;case 10:return up(e.type._context),null;case 22:case 23:return Tp(),null;case 24:return null;default:return null}}var Xu=!1,dn=!1,P8=typeof WeakSet=="function"?WeakSet:Set,ve=null;function Ro(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xt(t,e,r)}else n.current=null}function sf(t,e,n){try{n()}catch(r){xt(t,e,r)}}var a4=!1;function R8(t,e){if(Bh=M0,t=i3(),rp(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var u=0,h=-1,f=-1,y=0,_=0,E=t,I=null;t:for(;;){for(var U;E!==n||i!==0&&E.nodeType!==3||(h=u+i),E!==s||r!==0&&E.nodeType!==3||(f=u+r),E.nodeType===3&&(u+=E.nodeValue.length),(U=E.firstChild)!==null;)I=E,E=U;for(;;){if(E===t)break t;if(I===n&&++y===i&&(h=u),I===s&&++_===r&&(f=u),(U=E.nextSibling)!==null)break;E=I,I=E.parentNode}E=U}n=h===-1||f===-1?null:{start:h,end:f}}else n=null}n=n||{start:0,end:0}}else n=null;for(Uh={focusedElem:t,selectionRange:n},M0=!1,ve=e;ve!==null;)if(e=ve,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ve=t;else for(;ve!==null;){e=ve;try{var q=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(q!==null){var X=q.memoizedProps,Q=q.memoizedState,P=e.stateNode,M=P.getSnapshotBeforeUpdate(e.elementType===e.type?X:cr(e.type,X),Q);P.__reactInternalSnapshotBeforeUpdate=M}break;case 3:var L=e.stateNode.containerInfo;L.nodeType===1?L.textContent="":L.nodeType===9&&L.documentElement&&L.removeChild(L.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(K){xt(e,e.return,K)}if(t=e.sibling,t!==null){t.return=e.return,ve=t;break}ve=e.return}return q=a4,a4=!1,q}function ul(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&sf(e,n,s)}i=i.next}while(i!==r)}}function Nc(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function of(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function e5(t){var e=t.alternate;e!==null&&(t.alternate=null,e5(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rr],delete e[Cl],delete e[Hh],delete e[p8],delete e[m8])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function t5(t){return t.tag===5||t.tag===3||t.tag===4}function l4(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||t5(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function af(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=L0));else if(r!==4&&(t=t.child,t!==null))for(af(t,e,n),t=t.sibling;t!==null;)af(t,e,n),t=t.sibling}function lf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(lf(t,e,n),t=t.sibling;t!==null;)lf(t,e,n),t=t.sibling}var Yt=null,dr=!1;function Si(t,e,n){for(n=n.child;n!==null;)n5(t,e,n),n=n.sibling}function n5(t,e,n){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount(_c,n)}catch{}switch(n.tag){case 5:dn||Ro(n,e);case 6:var r=Yt,i=dr;Yt=null,Si(t,e,n),Yt=r,dr=i,Yt!==null&&(dr?(t=Yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Yt.removeChild(n.stateNode));break;case 18:Yt!==null&&(dr?(t=Yt,n=n.stateNode,t.nodeType===8?$d(t.parentNode,n):t.nodeType===1&&$d(t,n),El(t)):$d(Yt,n.stateNode));break;case 4:r=Yt,i=dr,Yt=n.stateNode.containerInfo,dr=!0,Si(t,e,n),Yt=r,dr=i;break;case 0:case 11:case 14:case 15:if(!dn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,u=s.destroy;s=s.tag,u!==void 0&&(s&2||s&4)&&sf(n,e,u),i=i.next}while(i!==r)}Si(t,e,n);break;case 1:if(!dn&&(Ro(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(h){xt(n,e,h)}Si(t,e,n);break;case 21:Si(t,e,n);break;case 22:n.mode&1?(dn=(r=dn)||n.memoizedState!==null,Si(t,e,n),dn=r):Si(t,e,n);break;default:Si(t,e,n)}}function u4(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new P8),e.forEach(function(r){var i=B8.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ur(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,u=e,h=u;e:for(;h!==null;){switch(h.tag){case 5:Yt=h.stateNode,dr=!1;break e;case 3:Yt=h.stateNode.containerInfo,dr=!0;break e;case 4:Yt=h.stateNode.containerInfo,dr=!0;break e}h=h.return}if(Yt===null)throw Error(ce(160));n5(s,u,i),Yt=null,dr=!1;var f=i.alternate;f!==null&&(f.return=null),i.return=null}catch(y){xt(i,e,y)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)r5(e,t),e=e.sibling}function r5(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ur(e,t),Cr(t),r&4){try{ul(3,t,t.return),Nc(3,t)}catch(X){xt(t,t.return,X)}try{ul(5,t,t.return)}catch(X){xt(t,t.return,X)}}break;case 1:ur(e,t),Cr(t),r&512&&n!==null&&Ro(n,n.return);break;case 5:if(ur(e,t),Cr(t),r&512&&n!==null&&Ro(n,n.return),t.flags&32){var i=t.stateNode;try{xl(i,"")}catch(X){xt(t,t.return,X)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,u=n!==null?n.memoizedProps:s,h=t.type,f=t.updateQueue;if(t.updateQueue=null,f!==null)try{h==="input"&&s.type==="radio"&&s.name!=null&&T2(i,s),Ph(h,u);var y=Ph(h,s);for(u=0;u<f.length;u+=2){var _=f[u],E=f[u+1];_==="style"?N2(i,E):_==="dangerouslySetInnerHTML"?I2(i,E):_==="children"?xl(i,E):$f(i,_,E,y)}switch(h){case"input":kh(i,s);break;case"textarea":k2(i,s);break;case"select":var I=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var U=s.value;U!=null?Lo(i,!!s.multiple,U,!1):I!==!!s.multiple&&(s.defaultValue!=null?Lo(i,!!s.multiple,s.defaultValue,!0):Lo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Cl]=s}catch(X){xt(t,t.return,X)}}break;case 6:if(ur(e,t),Cr(t),r&4){if(t.stateNode===null)throw Error(ce(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(X){xt(t,t.return,X)}}break;case 3:if(ur(e,t),Cr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{El(e.containerInfo)}catch(X){xt(t,t.return,X)}break;case 4:ur(e,t),Cr(t);break;case 13:ur(e,t),Cr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Sp=_t())),r&4&&u4(t);break;case 22:if(_=n!==null&&n.memoizedState!==null,t.mode&1?(dn=(y=dn)||_,ur(e,t),dn=y):ur(e,t),Cr(t),r&8192){if(y=t.memoizedState!==null,(t.stateNode.isHidden=y)&&!_&&t.mode&1)for(ve=t,_=t.child;_!==null;){for(E=ve=_;ve!==null;){switch(I=ve,U=I.child,I.tag){case 0:case 11:case 14:case 15:ul(4,I,I.return);break;case 1:Ro(I,I.return);var q=I.stateNode;if(typeof q.componentWillUnmount=="function"){r=I,n=I.return;try{e=r,q.props=e.memoizedProps,q.state=e.memoizedState,q.componentWillUnmount()}catch(X){xt(r,n,X)}}break;case 5:Ro(I,I.return);break;case 22:if(I.memoizedState!==null){d4(E);continue}}U!==null?(U.return=I,ve=U):d4(E)}_=_.sibling}e:for(_=null,E=t;;){if(E.tag===5){if(_===null){_=E;try{i=E.stateNode,y?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(h=E.stateNode,f=E.memoizedProps.style,u=f!=null&&f.hasOwnProperty("display")?f.display:null,h.style.display=C2("display",u))}catch(X){xt(t,t.return,X)}}}else if(E.tag===6){if(_===null)try{E.stateNode.nodeValue=y?"":E.memoizedProps}catch(X){xt(t,t.return,X)}}else if((E.tag!==22&&E.tag!==23||E.memoizedState===null||E===t)&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===t)break e;for(;E.sibling===null;){if(E.return===null||E.return===t)break e;_===E&&(_=null),E=E.return}_===E&&(_=null),E.sibling.return=E.return,E=E.sibling}}break;case 19:ur(e,t),Cr(t),r&4&&u4(t);break;case 21:break;default:ur(e,t),Cr(t)}}function Cr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(t5(n)){var r=n;break e}n=n.return}throw Error(ce(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(xl(i,""),r.flags&=-33);var s=l4(t);lf(t,s,i);break;case 3:case 4:var u=r.stateNode.containerInfo,h=l4(t);af(t,h,u);break;default:throw Error(ce(161))}}catch(f){xt(t,t.return,f)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function M8(t,e,n){ve=t,i5(t)}function i5(t,e,n){for(var r=(t.mode&1)!==0;ve!==null;){var i=ve,s=i.child;if(i.tag===22&&r){var u=i.memoizedState!==null||Xu;if(!u){var h=i.alternate,f=h!==null&&h.memoizedState!==null||dn;h=Xu;var y=dn;if(Xu=u,(dn=f)&&!y)for(ve=i;ve!==null;)u=ve,f=u.child,u.tag===22&&u.memoizedState!==null?h4(i):f!==null?(f.return=u,ve=f):h4(i);for(;s!==null;)ve=s,i5(s),s=s.sibling;ve=i,Xu=h,dn=y}c4(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ve=s):c4(t)}}function c4(t){for(;ve!==null;){var e=ve;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:dn||Nc(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!dn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:cr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&K1(e,s,r);break;case 3:var u=e.updateQueue;if(u!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}K1(e,u,n)}break;case 5:var h=e.stateNode;if(n===null&&e.flags&4){n=h;var f=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":f.autoFocus&&n.focus();break;case"img":f.src&&(n.src=f.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var y=e.alternate;if(y!==null){var _=y.memoizedState;if(_!==null){var E=_.dehydrated;E!==null&&El(E)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}dn||e.flags&512&&of(e)}catch(I){xt(e,e.return,I)}}if(e===t){ve=null;break}if(n=e.sibling,n!==null){n.return=e.return,ve=n;break}ve=e.return}}function d4(t){for(;ve!==null;){var e=ve;if(e===t){ve=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ve=n;break}ve=e.return}}function h4(t){for(;ve!==null;){var e=ve;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Nc(4,e)}catch(f){xt(e,n,f)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(f){xt(e,i,f)}}var s=e.return;try{of(e)}catch(f){xt(e,s,f)}break;case 5:var u=e.return;try{of(e)}catch(f){xt(e,u,f)}}}catch(f){xt(e,e.return,f)}if(e===t){ve=null;break}var h=e.sibling;if(h!==null){h.return=e.return,ve=h;break}ve=e.return}}var D8=Math.ceil,G0=fi.ReactCurrentDispatcher,bp=fi.ReactCurrentOwner,tr=fi.ReactCurrentBatchConfig,qe=0,Ht=null,Ct=null,tn=0,zn=0,Mo=ts(0),Ot=0,Ol=null,zs=0,Pc=0,_p=0,cl=null,In=null,Sp=0,Jo=1/0,Yr=null,K0=!1,uf=null,Bi=null,Yu=!1,Di=null,Q0=0,dl=0,cf=null,y0=-1,v0=0;function Sn(){return qe&6?_t():y0!==-1?y0:y0=_t()}function Ui(t){return t.mode&1?qe&2&&tn!==0?tn&-tn:y8.transition!==null?(v0===0&&(v0=U2()),v0):(t=Xe,t!==0||(t=window.event,t=t===void 0?16:Q2(t.type)),t):1}function wr(t,e,n,r){if(50<dl)throw dl=0,cf=null,Error(ce(185));Kl(t,n,r),(!(qe&2)||t!==Ht)&&(t===Ht&&(!(qe&2)&&(Pc|=n),Ot===4&&Ii(t,tn)),Rn(t,r),n===1&&qe===0&&!(e.mode&1)&&(Jo=_t()+500,Ac&&ns()))}function Rn(t,e){var n=t.callbackNode;yv(t,e);var r=R0(t,t===Ht?tn:0);if(r===0)n!==null&&b1(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&b1(n),e===1)t.tag===0?g8(f4.bind(null,t)):p3(f4.bind(null,t)),h8(function(){!(qe&6)&&ns()}),n=null;else{switch(q2(r)){case 1:n=Qf;break;case 4:n=F2;break;case 16:n=P0;break;case 536870912:n=B2;break;default:n=P0}n=h5(n,s5.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function s5(t,e){if(y0=-1,v0=0,qe&6)throw Error(ce(327));var n=t.callbackNode;if(Bo()&&t.callbackNode!==n)return null;var r=R0(t,t===Ht?tn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=X0(t,r);else{e=r;var i=qe;qe|=2;var s=a5();(Ht!==t||tn!==e)&&(Yr=null,Jo=_t()+500,Is(t,e));do try{z8();break}catch(h){o5(t,h)}while(!0);lp(),G0.current=s,qe=i,Ct!==null?e=0:(Ht=null,tn=0,e=Ot)}if(e!==0){if(e===2&&(i=Lh(t),i!==0&&(r=i,e=df(t,i))),e===1)throw n=Ol,Is(t,0),Ii(t,r),Rn(t,_t()),n;if(e===6)Ii(t,r);else{if(i=t.current.alternate,!(r&30)&&!O8(i)&&(e=X0(t,r),e===2&&(s=Lh(t),s!==0&&(r=s,e=df(t,s))),e===1))throw n=Ol,Is(t,0),Ii(t,r),Rn(t,_t()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ce(345));case 2:_s(t,In,Yr);break;case 3:if(Ii(t,r),(r&130023424)===r&&(e=Sp+500-_t(),10<e)){if(R0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Sn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=$h(_s.bind(null,t,In,Yr),e);break}_s(t,In,Yr);break;case 4:if(Ii(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var u=31-vr(r);s=1<<u,u=e[u],u>i&&(i=u),r&=~s}if(r=i,r=_t()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*D8(r/1960))-r,10<r){t.timeoutHandle=$h(_s.bind(null,t,In,Yr),r);break}_s(t,In,Yr);break;case 5:_s(t,In,Yr);break;default:throw Error(ce(329))}}}return Rn(t,_t()),t.callbackNode===n?s5.bind(null,t):null}function df(t,e){var n=cl;return t.current.memoizedState.isDehydrated&&(Is(t,e).flags|=256),t=X0(t,e),t!==2&&(e=In,In=n,e!==null&&hf(e)),t}function hf(t){In===null?In=t:In.push.apply(In,t)}function O8(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!xr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ii(t,e){for(e&=~_p,e&=~Pc,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vr(e),r=1<<n;t[n]=-1,e&=~r}}function f4(t){if(qe&6)throw Error(ce(327));Bo();var e=R0(t,0);if(!(e&1))return Rn(t,_t()),null;var n=X0(t,e);if(t.tag!==0&&n===2){var r=Lh(t);r!==0&&(e=r,n=df(t,r))}if(n===1)throw n=Ol,Is(t,0),Ii(t,e),Rn(t,_t()),n;if(n===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_s(t,In,Yr),Rn(t,_t()),null}function Ep(t,e){var n=qe;qe|=1;try{return t(e)}finally{qe=n,qe===0&&(Jo=_t()+500,Ac&&ns())}}function Vs(t){Di!==null&&Di.tag===0&&!(qe&6)&&Bo();var e=qe;qe|=1;var n=tr.transition,r=Xe;try{if(tr.transition=null,Xe=1,t)return t()}finally{Xe=r,tr.transition=n,qe=e,!(qe&6)&&ns()}}function Tp(){zn=Mo.current,lt(Mo)}function Is(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,d8(n)),Ct!==null)for(n=Ct.return;n!==null;){var r=n;switch(sp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&z0();break;case 3:Xo(),lt(Nn),lt(fn),pp();break;case 5:fp(r);break;case 4:Xo();break;case 13:lt(mt);break;case 19:lt(mt);break;case 10:up(r.type._context);break;case 22:case 23:Tp()}n=n.return}if(Ht=t,Ct=t=qi(t.current,null),tn=zn=e,Ot=0,Ol=null,_p=Pc=zs=0,In=cl=null,Ts!==null){for(e=0;e<Ts.length;e++)if(n=Ts[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var u=s.next;s.next=i,r.next=u}n.pending=r}Ts=null}return t}function o5(t,e){do{var n=Ct;try{if(lp(),p0.current=W0,H0){for(var r=gt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}H0=!1}if(Ls=0,qt=Dt=gt=null,ll=!1,Rl=0,bp.current=null,n===null||n.return===null){Ot=1,Ol=e,Ct=null;break}e:{var s=t,u=n.return,h=n,f=e;if(e=tn,h.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){var y=f,_=h,E=_.tag;if(!(_.mode&1)&&(E===0||E===11||E===15)){var I=_.alternate;I?(_.updateQueue=I.updateQueue,_.memoizedState=I.memoizedState,_.lanes=I.lanes):(_.updateQueue=null,_.memoizedState=null)}var U=e4(u);if(U!==null){U.flags&=-257,t4(U,u,h,s,e),U.mode&1&&Z1(s,y,e),e=U,f=y;var q=e.updateQueue;if(q===null){var X=new Set;X.add(f),e.updateQueue=X}else q.add(f);break e}else{if(!(e&1)){Z1(s,y,e),kp();break e}f=Error(ce(426))}}else if(dt&&h.mode&1){var Q=e4(u);if(Q!==null){!(Q.flags&65536)&&(Q.flags|=256),t4(Q,u,h,s,e),op(Yo(f,h));break e}}s=f=Yo(f,h),Ot!==4&&(Ot=2),cl===null?cl=[s]:cl.push(s),s=u;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var P=q3(s,f,e);G1(s,P);break e;case 1:h=f;var M=s.type,L=s.stateNode;if(!(s.flags&128)&&(typeof M.getDerivedStateFromError=="function"||L!==null&&typeof L.componentDidCatch=="function"&&(Bi===null||!Bi.has(L)))){s.flags|=65536,e&=-e,s.lanes|=e;var K=$3(s,h,e);G1(s,K);break e}}s=s.return}while(s!==null)}u5(n)}catch(te){e=te,Ct===n&&n!==null&&(Ct=n=n.return);continue}break}while(!0)}function a5(){var t=G0.current;return G0.current=W0,t===null?W0:t}function kp(){(Ot===0||Ot===3||Ot===2)&&(Ot=4),Ht===null||!(zs&268435455)&&!(Pc&268435455)||Ii(Ht,tn)}function X0(t,e){var n=qe;qe|=2;var r=a5();(Ht!==t||tn!==e)&&(Yr=null,Is(t,e));do try{L8();break}catch(i){o5(t,i)}while(!0);if(lp(),qe=n,G0.current=r,Ct!==null)throw Error(ce(261));return Ht=null,tn=0,Ot}function L8(){for(;Ct!==null;)l5(Ct)}function z8(){for(;Ct!==null&&!lv();)l5(Ct)}function l5(t){var e=d5(t.alternate,t,zn);t.memoizedProps=t.pendingProps,e===null?u5(t):Ct=e,bp.current=null}function u5(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=N8(n,e),n!==null){n.flags&=32767,Ct=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ot=6,Ct=null;return}}else if(n=C8(n,e,zn),n!==null){Ct=n;return}if(e=e.sibling,e!==null){Ct=e;return}Ct=e=t}while(e!==null);Ot===0&&(Ot=5)}function _s(t,e,n){var r=Xe,i=tr.transition;try{tr.transition=null,Xe=1,V8(t,e,n,r)}finally{tr.transition=i,Xe=r}return null}function V8(t,e,n,r){do Bo();while(Di!==null);if(qe&6)throw Error(ce(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(vv(t,s),t===Ht&&(Ct=Ht=null,tn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yu||(Yu=!0,h5(P0,function(){return Bo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=tr.transition,tr.transition=null;var u=Xe;Xe=1;var h=qe;qe|=4,bp.current=null,R8(t,n),r5(n,t),i8(Uh),M0=!!Bh,Uh=Bh=null,t.current=n,M8(n),uv(),qe=h,Xe=u,tr.transition=s}else t.current=n;if(Yu&&(Yu=!1,Di=t,Q0=i),s=t.pendingLanes,s===0&&(Bi=null),hv(n.stateNode),Rn(t,_t()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(K0)throw K0=!1,t=uf,uf=null,t;return Q0&1&&t.tag!==0&&Bo(),s=t.pendingLanes,s&1?t===cf?dl++:(dl=0,cf=t):dl=0,ns(),null}function Bo(){if(Di!==null){var t=q2(Q0),e=tr.transition,n=Xe;try{if(tr.transition=null,Xe=16>t?16:t,Di===null)var r=!1;else{if(t=Di,Di=null,Q0=0,qe&6)throw Error(ce(331));var i=qe;for(qe|=4,ve=t.current;ve!==null;){var s=ve,u=s.child;if(ve.flags&16){var h=s.deletions;if(h!==null){for(var f=0;f<h.length;f++){var y=h[f];for(ve=y;ve!==null;){var _=ve;switch(_.tag){case 0:case 11:case 15:ul(8,_,s)}var E=_.child;if(E!==null)E.return=_,ve=E;else for(;ve!==null;){_=ve;var I=_.sibling,U=_.return;if(e5(_),_===y){ve=null;break}if(I!==null){I.return=U,ve=I;break}ve=U}}}var q=s.alternate;if(q!==null){var X=q.child;if(X!==null){q.child=null;do{var Q=X.sibling;X.sibling=null,X=Q}while(X!==null)}}ve=s}}if(s.subtreeFlags&2064&&u!==null)u.return=s,ve=u;else e:for(;ve!==null;){if(s=ve,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ul(9,s,s.return)}var P=s.sibling;if(P!==null){P.return=s.return,ve=P;break e}ve=s.return}}var M=t.current;for(ve=M;ve!==null;){u=ve;var L=u.child;if(u.subtreeFlags&2064&&L!==null)L.return=u,ve=L;else e:for(u=M;ve!==null;){if(h=ve,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:Nc(9,h)}}catch(te){xt(h,h.return,te)}if(h===u){ve=null;break e}var K=h.sibling;if(K!==null){K.return=h.return,ve=K;break e}ve=h.return}}if(qe=i,ns(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot(_c,t)}catch{}r=!0}return r}finally{Xe=n,tr.transition=e}}return!1}function p4(t,e,n){e=Yo(n,e),e=q3(t,e,1),t=Fi(t,e,1),e=Sn(),t!==null&&(Kl(t,1,e),Rn(t,e))}function xt(t,e,n){if(t.tag===3)p4(t,t,n);else for(;e!==null;){if(e.tag===3){p4(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Bi===null||!Bi.has(r))){t=Yo(n,t),t=$3(e,t,1),e=Fi(e,t,1),t=Sn(),e!==null&&(Kl(e,1,t),Rn(e,t));break}}e=e.return}}function j8(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Sn(),t.pingedLanes|=t.suspendedLanes&n,Ht===t&&(tn&n)===n&&(Ot===4||Ot===3&&(tn&130023424)===tn&&500>_t()-Sp?Is(t,0):_p|=n),Rn(t,e)}function c5(t,e){e===0&&(t.mode&1?(e=Bu,Bu<<=1,!(Bu&130023424)&&(Bu=4194304)):e=1);var n=Sn();t=li(t,e),t!==null&&(Kl(t,e,n),Rn(t,n))}function F8(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),c5(t,n)}function B8(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ce(314))}r!==null&&r.delete(e),c5(t,n)}var d5;d5=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Nn.current)Cn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Cn=!1,I8(t,e,n);Cn=!!(t.flags&131072)}else Cn=!1,dt&&e.flags&1048576&&m3(e,F0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;g0(t,e),t=e.pendingProps;var i=Go(e,fn.current);Fo(e,n),i=gp(null,e,r,t,i,n);var s=yp();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pn(r)?(s=!0,V0(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,dp(e),i.updater=Cc,e.stateNode=i,i._reactInternals=e,Yh(e,r,t,n),e=ef(null,e,r,!0,s,n)):(e.tag=0,dt&&s&&ip(e),bn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(g0(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=q8(r),t=cr(r,t),i){case 0:e=Zh(null,e,r,t,n);break e;case 1:e=i4(null,e,r,t,n);break e;case 11:e=n4(null,e,r,t,n);break e;case 14:e=r4(null,e,r,cr(r.type,t),n);break e}throw Error(ce(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),Zh(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),i4(t,e,r,i,n);case 3:e:{if(K3(e),t===null)throw Error(ce(387));r=e.pendingProps,s=e.memoizedState,i=s.element,b3(t,e),q0(e,r,null,n);var u=e.memoizedState;if(r=u.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Yo(Error(ce(423)),e),e=s4(t,e,r,n,i);break e}else if(r!==i){i=Yo(Error(ce(424)),e),e=s4(t,e,r,n,i);break e}else for(jn=ji(e.stateNode.containerInfo.firstChild),Fn=e,dt=!0,hr=null,n=w3(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ko(),r===i){e=ui(t,e,n);break e}bn(t,e,r,n)}e=e.child}return e;case 5:return _3(e),t===null&&Kh(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,u=i.children,qh(r,i)?u=null:s!==null&&qh(r,s)&&(e.flags|=32),G3(t,e),bn(t,e,u,n),e.child;case 6:return t===null&&Kh(e),null;case 13:return Q3(t,e,n);case 4:return hp(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qo(e,null,r,n):bn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),n4(t,e,r,i,n);case 7:return bn(t,e,e.pendingProps,n),e.child;case 8:return bn(t,e,e.pendingProps.children,n),e.child;case 12:return bn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,u=i.value,nt(B0,r._currentValue),r._currentValue=u,s!==null)if(xr(s.value,u)){if(s.children===i.children&&!Nn.current){e=ui(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var h=s.dependencies;if(h!==null){u=s.child;for(var f=h.firstContext;f!==null;){if(f.context===r){if(s.tag===1){f=ri(-1,n&-n),f.tag=2;var y=s.updateQueue;if(y!==null){y=y.shared;var _=y.pending;_===null?f.next=f:(f.next=_.next,_.next=f),y.pending=f}}s.lanes|=n,f=s.alternate,f!==null&&(f.lanes|=n),Qh(s.return,n,e),h.lanes|=n;break}f=f.next}}else if(s.tag===10)u=s.type===e.type?null:s.child;else if(s.tag===18){if(u=s.return,u===null)throw Error(ce(341));u.lanes|=n,h=u.alternate,h!==null&&(h.lanes|=n),Qh(u,n,e),u=s.sibling}else u=s.child;if(u!==null)u.return=s;else for(u=s;u!==null;){if(u===e){u=null;break}if(s=u.sibling,s!==null){s.return=u.return,u=s;break}u=u.return}s=u}bn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Fo(e,n),i=nr(i),r=r(i),e.flags|=1,bn(t,e,r,n),e.child;case 14:return r=e.type,i=cr(r,e.pendingProps),i=cr(r.type,i),r4(t,e,r,i,n);case 15:return H3(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:cr(r,i),g0(t,e),e.tag=1,Pn(r)?(t=!0,V0(e)):t=!1,Fo(e,n),U3(e,r,i),Yh(e,r,i,n),ef(null,e,r,!0,t,n);case 19:return X3(t,e,n);case 22:return W3(t,e,n)}throw Error(ce(156,e.tag))};function h5(t,e){return j2(t,e)}function U8(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Zn(t,e,n,r){return new U8(t,e,n,r)}function Ap(t){return t=t.prototype,!(!t||!t.isReactComponent)}function q8(t){if(typeof t=="function")return Ap(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Wf)return 11;if(t===Gf)return 14}return 2}function qi(t,e){var n=t.alternate;return n===null?(n=Zn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function w0(t,e,n,r,i,s){var u=2;if(r=t,typeof t=="function")Ap(t)&&(u=1);else if(typeof t=="string")u=5;else e:switch(t){case So:return Cs(n.children,i,s,e);case Hf:u=8,i|=8;break;case bh:return t=Zn(12,n,e,i|2),t.elementType=bh,t.lanes=s,t;case _h:return t=Zn(13,n,e,i),t.elementType=_h,t.lanes=s,t;case Sh:return t=Zn(19,n,e,i),t.elementType=Sh,t.lanes=s,t;case _2:return Rc(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x2:u=10;break e;case b2:u=9;break e;case Wf:u=11;break e;case Gf:u=14;break e;case Ti:u=16,r=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=Zn(u,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Cs(t,e,n,r){return t=Zn(7,t,r,e),t.lanes=n,t}function Rc(t,e,n,r){return t=Zn(22,t,r,e),t.elementType=_2,t.lanes=n,t.stateNode={isHidden:!1},t}function Jd(t,e,n){return t=Zn(6,t,null,e),t.lanes=n,t}function Zd(t,e,n){return e=Zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function $8(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Md(0),this.expirationTimes=Md(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Md(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ip(t,e,n,r,i,s,u,h,f){return t=new $8(t,e,n,h,f),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Zn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},dp(s),t}function H8(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_o,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function f5(t){if(!t)return Qi;t=t._reactInternals;e:{if(Gs(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var n=t.type;if(Pn(n))return f3(t,n,e)}return e}function p5(t,e,n,r,i,s,u,h,f){return t=Ip(n,r,!0,t,i,s,u,h,f),t.context=f5(null),n=t.current,r=Sn(),i=Ui(n),s=ri(r,i),s.callback=e??null,Fi(n,s,i),t.current.lanes=i,Kl(t,i,r),Rn(t,r),t}function Mc(t,e,n,r){var i=e.current,s=Sn(),u=Ui(i);return n=f5(n),e.context===null?e.context=n:e.pendingContext=n,e=ri(s,u),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fi(i,e,u),t!==null&&(wr(t,i,u,s),f0(t,i,u)),u}function Y0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function m4(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Cp(t,e){m4(t,e),(t=t.alternate)&&m4(t,e)}function W8(){return null}var m5=typeof reportError=="function"?reportError:function(t){console.error(t)};function Np(t){this._internalRoot=t}Dc.prototype.render=Np.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));Mc(t,e,null,null)};Dc.prototype.unmount=Np.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vs(function(){Mc(null,t,null,null)}),e[ai]=null}};function Dc(t){this._internalRoot=t}Dc.prototype.unstable_scheduleHydration=function(t){if(t){var e=W2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ai.length&&e!==0&&e<Ai[n].priority;n++);Ai.splice(n,0,t),n===0&&K2(t)}};function Pp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Oc(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function g4(){}function G8(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var y=Y0(u);s.call(y)}}var u=p5(e,r,t,0,null,!1,!1,"",g4);return t._reactRootContainer=u,t[ai]=u.current,Al(t.nodeType===8?t.parentNode:t),Vs(),u}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var h=r;r=function(){var y=Y0(f);h.call(y)}}var f=Ip(t,0,!1,null,null,!1,!1,"",g4);return t._reactRootContainer=f,t[ai]=f.current,Al(t.nodeType===8?t.parentNode:t),Vs(function(){Mc(e,f,n,r)}),f}function Lc(t,e,n,r,i){var s=n._reactRootContainer;if(s){var u=s;if(typeof i=="function"){var h=i;i=function(){var f=Y0(u);h.call(f)}}Mc(e,u,t,i)}else u=G8(n,e,t,i,r);return Y0(u)}$2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Za(e.pendingLanes);n!==0&&(Xf(e,n|1),Rn(e,_t()),!(qe&6)&&(Jo=_t()+500,ns()))}break;case 13:Vs(function(){var r=li(t,1);if(r!==null){var i=Sn();wr(r,t,1,i)}}),Cp(t,1)}};Yf=function(t){if(t.tag===13){var e=li(t,134217728);if(e!==null){var n=Sn();wr(e,t,134217728,n)}Cp(t,134217728)}};H2=function(t){if(t.tag===13){var e=Ui(t),n=li(t,e);if(n!==null){var r=Sn();wr(n,t,e,r)}Cp(t,e)}};W2=function(){return Xe};G2=function(t,e){var n=Xe;try{return Xe=t,e()}finally{Xe=n}};Mh=function(t,e,n){switch(e){case"input":if(kh(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=kc(r);if(!i)throw Error(ce(90));E2(r),kh(r,i)}}}break;case"textarea":k2(t,n);break;case"select":e=n.value,e!=null&&Lo(t,!!n.multiple,e,!1)}};M2=Ep;D2=Vs;var K8={usingClientEntryPoint:!1,Events:[Xl,Ao,kc,P2,R2,Ep]},Qa={findFiberByHostInstance:Es,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Q8={bundleType:Qa.bundleType,version:Qa.version,rendererPackageName:Qa.rendererPackageName,rendererConfig:Qa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=z2(t),t===null?null:t.stateNode},findFiberByHostInstance:Qa.findFiberByHostInstance||W8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ju.isDisabled&&Ju.supportsFiber)try{_c=Ju.inject(Q8),Dr=Ju}catch{}}Un.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K8;Un.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Pp(e))throw Error(ce(200));return H8(t,e,null,n)};Un.createRoot=function(t,e){if(!Pp(t))throw Error(ce(299));var n=!1,r="",i=m5;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ip(t,1,!1,null,null,n,!1,r,i),t[ai]=e.current,Al(t.nodeType===8?t.parentNode:t),new Np(e)};Un.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=z2(e),t=t===null?null:t.stateNode,t};Un.flushSync=function(t){return Vs(t)};Un.hydrate=function(t,e,n){if(!Oc(e))throw Error(ce(200));return Lc(null,t,e,!0,n)};Un.hydrateRoot=function(t,e,n){if(!Pp(t))throw Error(ce(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",u=m5;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(u=n.onRecoverableError)),e=p5(e,null,t,1,n??null,i,!1,s,u),t[ai]=e.current,Al(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Dc(e)};Un.render=function(t,e,n){if(!Oc(e))throw Error(ce(200));return Lc(null,t,e,!1,n)};Un.unmountComponentAtNode=function(t){if(!Oc(t))throw Error(ce(40));return t._reactRootContainer?(Vs(function(){Lc(null,null,t,!1,function(){t._reactRootContainer=null,t[ai]=null})}),!0):!1};Un.unstable_batchedUpdates=Ep;Un.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Oc(n))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return Lc(t,e,n,!1,r)};Un.version="18.3.1-next-f1338f8080-20240426";function g5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(g5)}catch(t){console.error(t)}}g5(),g2.exports=Un;var X8=g2.exports,y4=X8;wh.createRoot=y4.createRoot,wh.hydrateRoot=y4.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ll(){return Ll=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ll.apply(this,arguments)}var Oi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Oi||(Oi={}));const v4="popstate";function Y8(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:u,hash:h}=r.location;return ff("",{pathname:s,search:u,hash:h},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:J0(i)}return Z8(e,n,null,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function y5(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function J8(){return Math.random().toString(36).substr(2,8)}function w4(t,e){return{usr:t.state,key:t.key,idx:e}}function ff(t,e,n,r){return n===void 0&&(n=null),Ll({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ca(e):e,{state:n,key:e&&e.key||r||J8()})}function J0(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ca(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Z8(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,u=i.history,h=Oi.Pop,f=null,y=_();y==null&&(y=0,u.replaceState(Ll({},u.state,{idx:y}),""));function _(){return(u.state||{idx:null}).idx}function E(){h=Oi.Pop;let Q=_(),P=Q==null?null:Q-y;y=Q,f&&f({action:h,location:X.location,delta:P})}function I(Q,P){h=Oi.Push;let M=ff(X.location,Q,P);y=_()+1;let L=w4(M,y),K=X.createHref(M);try{u.pushState(L,"",K)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;i.location.assign(K)}s&&f&&f({action:h,location:X.location,delta:1})}function U(Q,P){h=Oi.Replace;let M=ff(X.location,Q,P);y=_();let L=w4(M,y),K=X.createHref(M);u.replaceState(L,"",K),s&&f&&f({action:h,location:X.location,delta:0})}function q(Q){let P=i.location.origin!=="null"?i.location.origin:i.location.href,M=typeof Q=="string"?Q:J0(Q);return M=M.replace(/ $/,"%20"),Nt(P,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,P)}let X={get action(){return h},get location(){return t(i,u)},listen(Q){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(v4,E),f=Q,()=>{i.removeEventListener(v4,E),f=null}},createHref(Q){return e(i,Q)},createURL:q,encodeLocation(Q){let P=q(Q);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:I,replace:U,go(Q){return u.go(Q)}};return X}var x4;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(x4||(x4={}));function e9(t,e,n){return n===void 0&&(n="/"),t9(t,e,n)}function t9(t,e,n,r){let i=typeof e=="string"?ca(e):e,s=Rp(i.pathname||"/",n);if(s==null)return null;let u=v5(t);n9(u);let h=null;for(let f=0;h==null&&f<u.length;++f){let y=p9(s);h=d9(u[f],y)}return h}function v5(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,u,h)=>{let f={relativePath:h===void 0?s.path||"":h,caseSensitive:s.caseSensitive===!0,childrenIndex:u,route:s};f.relativePath.startsWith("/")&&(Nt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let y=$i([r,f.relativePath]),_=n.concat(f);s.children&&s.children.length>0&&(Nt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),v5(s.children,e,_,y)),!(s.path==null&&!s.index)&&e.push({path:y,score:u9(y,s.index),routesMeta:_})};return t.forEach((s,u)=>{var h;if(s.path===""||!((h=s.path)!=null&&h.includes("?")))i(s,u);else for(let f of w5(s.path))i(s,u,f)}),e}function w5(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let u=w5(r.join("/")),h=[];return h.push(...u.map(f=>f===""?s:[s,f].join("/"))),i&&h.push(...u),h.map(f=>t.startsWith("/")&&f===""?"/":f)}function n9(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:c9(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const r9=/^:[\w-]+$/,i9=3,s9=2,o9=1,a9=10,l9=-2,b4=t=>t==="*";function u9(t,e){let n=t.split("/"),r=n.length;return n.some(b4)&&(r+=l9),e&&(r+=s9),n.filter(i=>!b4(i)).reduce((i,s)=>i+(r9.test(s)?i9:s===""?o9:a9),r)}function c9(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function d9(t,e,n){let{routesMeta:r}=t,i={},s="/",u=[];for(let h=0;h<r.length;++h){let f=r[h],y=h===r.length-1,_=s==="/"?e:e.slice(s.length)||"/",E=h9({path:f.relativePath,caseSensitive:f.caseSensitive,end:y},_),I=f.route;if(!E)return null;Object.assign(i,E.params),u.push({params:i,pathname:$i([s,E.pathname]),pathnameBase:v9($i([s,E.pathnameBase])),route:I}),E.pathnameBase!=="/"&&(s=$i([s,E.pathnameBase]))}return u}function h9(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=f9(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],u=s.replace(/(.)\/+$/,"$1"),h=i.slice(1);return{params:r.reduce((y,_,E)=>{let{paramName:I,isOptional:U}=_;if(I==="*"){let X=h[E]||"";u=s.slice(0,s.length-X.length).replace(/(.)\/+$/,"$1")}const q=h[E];return U&&!q?y[I]=void 0:y[I]=(q||"").replace(/%2F/g,"/"),y},{}),pathname:s,pathnameBase:u,pattern:t}}function f9(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),y5(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,h,f)=>(r.push({paramName:h,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function p9(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return y5(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Rp(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function m9(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ca(t):t;return{pathname:n?n.startsWith("/")?n:g9(n,e):e,search:w9(r),hash:x9(i)}}function g9(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function eh(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function y9(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function x5(t,e){let n=y9(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function b5(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ca(t):(i=Ll({},t),Nt(!i.pathname||!i.pathname.includes("?"),eh("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),eh("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),eh("#","search","hash",i)));let s=t===""||i.pathname==="",u=s?"/":i.pathname,h;if(u==null)h=n;else{let E=e.length-1;if(!r&&u.startsWith("..")){let I=u.split("/");for(;I[0]==="..";)I.shift(),E-=1;i.pathname=I.join("/")}h=E>=0?e[E]:"/"}let f=m9(i,h),y=u&&u!=="/"&&u.endsWith("/"),_=(s||u===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(y||_)&&(f.pathname+="/"),f}const $i=t=>t.join("/").replace(/\/\/+/g,"/"),v9=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),w9=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,x9=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function b9(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _5=["post","put","patch","delete"];new Set(_5);const _9=["get",..._5];new Set(_9);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zl(){return zl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zl.apply(this,arguments)}const Mp=re.createContext(null),S9=re.createContext(null),Ks=re.createContext(null),zc=re.createContext(null),pi=re.createContext({outlet:null,matches:[],isDataRoute:!1}),S5=re.createContext(null);function E9(t,e){let{relative:n}=e===void 0?{}:e;Jl()||Nt(!1);let{basename:r,navigator:i}=re.useContext(Ks),{hash:s,pathname:u,search:h}=T5(t,{relative:n}),f=u;return r!=="/"&&(f=u==="/"?r:$i([r,u])),i.createHref({pathname:f,search:h,hash:s})}function Jl(){return re.useContext(zc)!=null}function da(){return Jl()||Nt(!1),re.useContext(zc).location}function E5(t){re.useContext(Ks).static||re.useLayoutEffect(t)}function Zl(){let{isDataRoute:t}=re.useContext(pi);return t?j9():T9()}function T9(){Jl()||Nt(!1);let t=re.useContext(Mp),{basename:e,future:n,navigator:r}=re.useContext(Ks),{matches:i}=re.useContext(pi),{pathname:s}=da(),u=JSON.stringify(x5(i,n.v7_relativeSplatPath)),h=re.useRef(!1);return E5(()=>{h.current=!0}),re.useCallback(function(y,_){if(_===void 0&&(_={}),!h.current)return;if(typeof y=="number"){r.go(y);return}let E=b5(y,JSON.parse(u),s,_.relative==="path");t==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:$i([e,E.pathname])),(_.replace?r.replace:r.push)(E,_.state,_)},[e,r,u,s,t])}const k9=re.createContext(null);function A9(t){let e=re.useContext(pi).outlet;return e&&re.createElement(k9.Provider,{value:t},e)}function ha(){let{matches:t}=re.useContext(pi),e=t[t.length-1];return e?e.params:{}}function T5(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=re.useContext(Ks),{matches:i}=re.useContext(pi),{pathname:s}=da(),u=JSON.stringify(x5(i,r.v7_relativeSplatPath));return re.useMemo(()=>b5(t,JSON.parse(u),s,n==="path"),[t,u,s,n])}function I9(t,e){return C9(t,e)}function C9(t,e,n,r){Jl()||Nt(!1);let{navigator:i,static:s}=re.useContext(Ks),{matches:u}=re.useContext(pi),h=u[u.length-1],f=h?h.params:{};h&&h.pathname;let y=h?h.pathnameBase:"/";h&&h.route;let _=da(),E;if(e){var I;let P=typeof e=="string"?ca(e):e;y==="/"||(I=P.pathname)!=null&&I.startsWith(y)||Nt(!1),E=P}else E=_;let U=E.pathname||"/",q=U;if(y!=="/"){let P=y.replace(/^\//,"").split("/");q="/"+U.replace(/^\//,"").split("/").slice(P.length).join("/")}let X=e9(t,{pathname:q}),Q=D9(X&&X.map(P=>Object.assign({},P,{params:Object.assign({},f,P.params),pathname:$i([y,i.encodeLocation?i.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?y:$i([y,i.encodeLocation?i.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),u,n,r);return e&&Q?re.createElement(zc.Provider,{value:{location:zl({pathname:"/",search:"",hash:"",state:null,key:"default"},E),navigationType:Oi.Pop}},Q):Q}function N9(){let t=V9(),e=b9(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return re.createElement(re.Fragment,null,re.createElement("h2",null,"Unexpected Application Error!"),re.createElement("h3",{style:{fontStyle:"italic"}},e),n?re.createElement("pre",{style:i},n):null,null)}const P9=re.createElement(N9,null);class R9 extends re.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?re.createElement(pi.Provider,{value:this.props.routeContext},re.createElement(S5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function M9(t){let{routeContext:e,match:n,children:r}=t,i=re.useContext(Mp);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),re.createElement(pi.Provider,{value:e},r)}function D9(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let u=t,h=(i=n)==null?void 0:i.errors;if(h!=null){let _=u.findIndex(E=>E.route.id&&(h==null?void 0:h[E.route.id])!==void 0);_>=0||Nt(!1),u=u.slice(0,Math.min(u.length,_+1))}let f=!1,y=-1;if(n&&r&&r.v7_partialHydration)for(let _=0;_<u.length;_++){let E=u[_];if((E.route.HydrateFallback||E.route.hydrateFallbackElement)&&(y=_),E.route.id){let{loaderData:I,errors:U}=n,q=E.route.loader&&I[E.route.id]===void 0&&(!U||U[E.route.id]===void 0);if(E.route.lazy||q){f=!0,y>=0?u=u.slice(0,y+1):u=[u[0]];break}}}return u.reduceRight((_,E,I)=>{let U,q=!1,X=null,Q=null;n&&(U=h&&E.route.id?h[E.route.id]:void 0,X=E.route.errorElement||P9,f&&(y<0&&I===0?(F9("route-fallback"),q=!0,Q=null):y===I&&(q=!0,Q=E.route.hydrateFallbackElement||null)));let P=e.concat(u.slice(0,I+1)),M=()=>{let L;return U?L=X:q?L=Q:E.route.Component?L=re.createElement(E.route.Component,null):E.route.element?L=E.route.element:L=_,re.createElement(M9,{match:E,routeContext:{outlet:_,matches:P,isDataRoute:n!=null},children:L})};return n&&(E.route.ErrorBoundary||E.route.errorElement||I===0)?re.createElement(R9,{location:n.location,revalidation:n.revalidation,component:X,error:U,children:M(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):M()},null)}var k5=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(k5||{}),A5=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(A5||{});function O9(t){let e=re.useContext(Mp);return e||Nt(!1),e}function L9(t){let e=re.useContext(S9);return e||Nt(!1),e}function z9(t){let e=re.useContext(pi);return e||Nt(!1),e}function I5(t){let e=z9(),n=e.matches[e.matches.length-1];return n.route.id||Nt(!1),n.route.id}function V9(){var t;let e=re.useContext(S5),n=L9(),r=I5();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function j9(){let{router:t}=O9(k5.UseNavigateStable),e=I5(A5.UseNavigateStable),n=re.useRef(!1);return E5(()=>{n.current=!0}),re.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,zl({fromRouteId:e},s)))},[t,e])}const _4={};function F9(t,e,n){_4[t]||(_4[t]=!0)}function B9(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function U9(t){return A9(t.context)}function Xn(t){Nt(!1)}function q9(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Oi.Pop,navigator:s,static:u=!1,future:h}=t;Jl()&&Nt(!1);let f=e.replace(/^\/*/,"/"),y=re.useMemo(()=>({basename:f,navigator:s,static:u,future:zl({v7_relativeSplatPath:!1},h)}),[f,h,s,u]);typeof r=="string"&&(r=ca(r));let{pathname:_="/",search:E="",hash:I="",state:U=null,key:q="default"}=r,X=re.useMemo(()=>{let Q=Rp(_,f);return Q==null?null:{location:{pathname:Q,search:E,hash:I,state:U,key:q},navigationType:i}},[f,_,E,I,U,q,i]);return X==null?null:re.createElement(Ks.Provider,{value:y},re.createElement(zc.Provider,{children:n,value:X}))}function $9(t){let{children:e,location:n}=t;return I9(pf(e),n)}new Promise(()=>{});function pf(t,e){e===void 0&&(e=[]);let n=[];return re.Children.forEach(t,(r,i)=>{if(!re.isValidElement(r))return;let s=[...e,i];if(r.type===re.Fragment){n.push.apply(n,pf(r.props.children,s));return}r.type!==Xn&&Nt(!1),!r.props.index||!r.props.children||Nt(!1);let u={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=pf(r.props.children,s)),n.push(u)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mf(){return mf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mf.apply(this,arguments)}function H9(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function W9(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function G9(t,e){return t.button===0&&(!e||e==="_self")&&!W9(t)}const K9=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Q9="6";try{window.__reactRouterVersion=Q9}catch{}const X9="startTransition",S4=j7[X9];function Y9(t){let{basename:e,children:n,future:r,window:i}=t,s=re.useRef();s.current==null&&(s.current=Y8({window:i,v5Compat:!0}));let u=s.current,[h,f]=re.useState({action:u.action,location:u.location}),{v7_startTransition:y}=r||{},_=re.useCallback(E=>{y&&S4?S4(()=>f(E)):f(E)},[f,y]);return re.useLayoutEffect(()=>u.listen(_),[u,_]),re.useEffect(()=>B9(r),[r]),re.createElement(q9,{basename:e,children:n,location:h.location,navigationType:h.action,navigator:u,future:r})}const J9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Z9=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_n=re.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:u,state:h,target:f,to:y,preventScrollReset:_,viewTransition:E}=e,I=H9(e,K9),{basename:U}=re.useContext(Ks),q,X=!1;if(typeof y=="string"&&Z9.test(y)&&(q=y,J9))try{let L=new URL(window.location.href),K=y.startsWith("//")?new URL(L.protocol+y):new URL(y),te=Rp(K.pathname,U);K.origin===L.origin&&te!=null?y=te+K.search+K.hash:X=!0}catch{}let Q=E9(y,{relative:i}),P=ew(y,{replace:u,state:h,target:f,preventScrollReset:_,relative:i,viewTransition:E});function M(L){r&&r(L),L.defaultPrevented||P(L)}return re.createElement("a",mf({},I,{href:q||Q,onClick:X||s?r:M,ref:n,target:f}))});var E4;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(E4||(E4={}));var T4;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(T4||(T4={}));function ew(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:u,viewTransition:h}=e===void 0?{}:e,f=Zl(),y=da(),_=T5(t,{relative:u});return re.useCallback(E=>{if(G9(E,n)){E.preventDefault();let I=r!==void 0?r:J0(y)===J0(_);f(t,{replace:I,state:i,preventScrollReset:s,relative:u,viewTransition:h})}},[y,f,_,r,i,n,t,s,u,h])}const tw={},k4=t=>{let e;const n=new Set,r=(_,E)=>{const I=typeof _=="function"?_(e):_;if(!Object.is(I,e)){const U=e;e=E??(typeof I!="object"||I===null)?I:Object.assign({},e,I),n.forEach(q=>q(e,U))}},i=()=>e,f={setState:r,getState:i,getInitialState:()=>y,subscribe:_=>(n.add(_),()=>n.delete(_)),destroy:()=>{(tw?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},y=e=t(r,i,f);return f},nw=t=>t?k4(t):k4;var C5={exports:{}},N5={},P5={exports:{}},R5={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zo=re;function rw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var iw=typeof Object.is=="function"?Object.is:rw,sw=Zo.useState,ow=Zo.useEffect,aw=Zo.useLayoutEffect,lw=Zo.useDebugValue;function uw(t,e){var n=e(),r=sw({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return aw(function(){i.value=n,i.getSnapshot=e,th(i)&&s({inst:i})},[t,n,e]),ow(function(){return th(i)&&s({inst:i}),t(function(){th(i)&&s({inst:i})})},[t]),lw(n),n}function th(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!iw(t,n)}catch{return!0}}function cw(t,e){return e()}var dw=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?cw:uw;R5.useSyncExternalStore=Zo.useSyncExternalStore!==void 0?Zo.useSyncExternalStore:dw;P5.exports=R5;var hw=P5.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vc=re,fw=hw;function pw(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var mw=typeof Object.is=="function"?Object.is:pw,gw=fw.useSyncExternalStore,yw=Vc.useRef,vw=Vc.useEffect,ww=Vc.useMemo,xw=Vc.useDebugValue;N5.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=yw(null);if(s.current===null){var u={hasValue:!1,value:null};s.current=u}else u=s.current;s=ww(function(){function f(U){if(!y){if(y=!0,_=U,U=r(U),i!==void 0&&u.hasValue){var q=u.value;if(i(q,U))return E=q}return E=U}if(q=E,mw(_,U))return q;var X=r(U);return i!==void 0&&i(q,X)?(_=U,q):(_=U,E=X)}var y=!1,_,E,I=n===void 0?null:n;return[function(){return f(e())},I===null?void 0:function(){return f(I())}]},[e,n,r,i]);var h=gw(t,s[0],s[1]);return vw(function(){u.hasValue=!0,u.value=h},[h]),xw(h),h};C5.exports=N5;var bw=C5.exports;const _w=i2(bw),M5={},{useDebugValue:Sw}=er,{useSyncExternalStoreWithSelector:Ew}=_w;let A4=!1;const Tw=t=>t;function kw(t,e=Tw,n){(M5?"production":void 0)!=="production"&&n&&!A4&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),A4=!0);const r=Ew(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return Sw(r),r}const I4=t=>{(M5?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?nw(t):t,n=(r,i)=>kw(e,r,i);return Object.assign(n,e),n},D5=t=>t?I4(t):I4,pr={lesson:5,exercise:5,code:10,quiz:30},Z0=30,eu=D5((t,e)=>({completedWeeks:[],completedLessons:[],completedActivities:{},badges:[],xp:0,completeLesson:(n,r,i="lesson")=>t(s=>{let u="";return i==="lesson"?u=`${n}:lesson-${r}`:i==="exercise-analitico"?u=`${n}:exercise-analitico-${r}`:i==="exercise-codigo"?u=`${n}:exercise-codigo-${r}`:i==="challenge"?u=`${n}:challenge-${r}`:u=`${n}:${r}`,s.completedLessons.includes(u)?s:{completedLessons:[...s.completedLessons,u],xp:s.xp+20}}),completeActivity:(n,r,i,s)=>t(u=>{var I;const h=`${n}:${r}`,f=u.completedActivities[h]||{lessons:[],exercises:[],code:[],quiz:!1,totalScore:0};if(i==="quiz"){if(f.quiz)return u}else if((I=f[i])!=null&&I.includes(s))return u;const y={...f};let _=0;i==="quiz"?(y.quiz=!0,_=pr.quiz):i==="lesson"?(y.lessons=[...f.lessons,s],_=pr.lesson):i==="exercise"?(y.exercises=[...f.exercises,s],_=pr.exercise):i==="code"&&(y.code=[...f.code,s],_=pr.code),y.totalScore+=_;const E=[...u.completedLessons];if(i==="lesson"){const U=`${n}:lesson-${s}`;E.includes(U)||E.push(U)}return{completedActivities:{...u.completedActivities,[h]:y},completedLessons:E,xp:u.xp+_}}),completeQuiz:(n,r,i)=>t(s=>{const u=`${n}:${r}`,h=s.completedActivities[u]||{lessons:[],exercises:[],code:[],quiz:!1,totalScore:0};if(h.quiz)return s;const f={...h};return f.quiz=!0,f.totalScore+=i,{completedActivities:{...s.completedActivities,[u]:f},xp:s.xp+i}}),completeWeek:n=>t(r=>r.completedWeeks.includes(n)?r:{completedWeeks:[...r.completedWeeks,n],xp:r.xp+100,badges:[...r.badges,`week-${n}`]}),earnXP:n=>t(r=>({xp:r.xp+n})),earnBadge:n=>t(r=>r.badges.includes(n)?r:{badges:[...r.badges,n]}),getModuleScore:(n,r)=>{var u;const i=e(),s=`${n}:${r}`;return((u=i.completedActivities[s])==null?void 0:u.totalScore)||0},isModulePassed:(n,r)=>{var h;const i=e(),s=`${n}:${r}`;return(((h=i.completedActivities[s])==null?void 0:h.totalScore)||0)>=Z0}})),Dp=D5(t=>({user:null,isAuthenticated:!1,isLoading:!1,login:async e=>{t({isLoading:!0});try{await new Promise(r=>setTimeout(r,1e3));const n={id:"1",email:e,name:e.split("@")[0],xp:0};t({user:n,isAuthenticated:!0,isLoading:!1})}catch(n){throw t({isLoading:!1}),n}},register:async e=>{t({isLoading:!0});try{await new Promise(r=>setTimeout(r,1e3));const n={id:"1",email:e,name:e.split("@")[0],xp:0};t({user:n,isAuthenticated:!0,isLoading:!1})}catch(n){throw t({isLoading:!1}),n}},logout:()=>{t({user:null,isAuthenticated:!1})}})),Aw=()=>{const{badges:t,xp:e,completedWeeks:n}=eu(),{isAuthenticated:r}=Dp();return k.jsxs("div",{className:"p-8",children:[k.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Cálculo Multivariante - Página de Inicio"}),k.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[k.jsx("span",{className:"text-base text-gray-700 mb-2",children:"¿Ya tienes una cuenta?"}),k.jsx("a",{href:"/login",className:"inline-block px-4 py-2 bg-blue-600 text-black font-semibold rounded hover:bg-blue-700",children:"Inicia sesión aquí"})]}),k.jsxs("div",{className:"mb-8 bg-white rounded-lg shadow-sm border p-6",children:[k.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Logros del Estudiante"}),k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e>0&&k.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 flex items-center justify-between shadow-md",children:[k.jsxs("div",{children:[k.jsx("h3",{className:"text-lg font-semibold text-indigo-700",children:"Experiencia"}),k.jsxs("p",{className:"text-3xl font-bold text-indigo-600",children:[e," XP"]})]}),k.jsx("div",{className:"bg-indigo-100 p-3 rounded-full text-indigo-600 text-2xl",children:"⭐"})]}),n&&n.length>0&&k.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-lg p-4 flex items-center justify-between shadow-md",children:[k.jsxs("div",{children:[k.jsx("h3",{className:"text-lg font-semibold text-orange-700",children:"Nivel"}),k.jsx("p",{className:"text-3xl font-bold text-orange-600",children:n.length}),k.jsx("span",{className:"text-xs text-orange-500",children:"Semanas aprobadas"})]}),k.jsx("div",{className:"bg-orange-100 p-3 rounded-full text-orange-600 text-2xl",children:"🔥"})]}),t&&t.filter(i=>i.includes("plata")||i.includes("oro")).length>0&&t.filter(i=>i.includes("plata")||i.includes("oro")).map((i,s)=>k.jsxs("div",{className:`rounded-lg p-4 flex flex-col items-center justify-between shadow-md ${i.includes("plata")?"bg-gradient-to-r from-gray-100 to-blue-100":"bg-gradient-to-r from-yellow-100 to-yellow-300"}`,children:[k.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[k.jsx("span",{className:"text-2xl",children:i.includes("plata")?"🥈":"🥇"}),k.jsx("h3",{className:"text-lg font-semibold",children:i.includes("plata")?"Medalla de Plata":"Medalla de Oro"})]}),k.jsx("span",{className:"text-xs text-gray-500",children:i.replace(/_/g," ")})]},i+s)),t&&t.filter(i=>i.includes("copa")).length>0&&t.filter(i=>i.includes("copa")).map((i,s)=>k.jsxs("div",{className:`rounded-lg p-4 flex flex-col items-center justify-between shadow-md ${i.includes("plata")?"bg-gradient-to-r from-slate-100 to-blue-200":"bg-gradient-to-r from-yellow-200 to-yellow-400"}`,children:[k.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[k.jsx("span",{className:"text-2xl",children:"🏆"}),k.jsx("h3",{className:"text-lg font-semibold",children:i.includes("plata")?"Copa de Plata":"Copa de Oro"})]}),k.jsx("span",{className:"text-xs text-gray-500",children:i.replace(/_/g," ")})]},i+s))]}),t&&t.filter(i=>!i.includes("plata")&&!i.includes("oro")&&!i.includes("copa")).length>0&&k.jsxs("div",{className:"mt-6",children:[k.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Tus medallas"}),k.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:t.filter(i=>!i.includes("plata")&&!i.includes("oro")&&!i.includes("copa")).map((i,s)=>k.jsxs("div",{className:"bg-white rounded-lg shadow p-4 flex flex-col items-center justify-center border",children:[k.jsx("span",{className:"text-3xl mb-2",children:i.includes("week")?"🏆":i==="minimalista"?"⭐":i==="wizard"?"🧙‍♂️":"🎖️"}),k.jsx("p",{className:"text-sm font-medium text-gray-700",children:i.includes("week")?`Semana ${i.split("-")[1]}`:i==="minimalista"?"Minimalista":i==="wizard"?"Data Wizard":i})]},i+s))})]})]}),r?k.jsxs("div",{className:"mb-8 flex flex-col items-center",children:[k.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Acceso a Semanas"}),k.jsxs("div",{className:"w-full max-w-md flex flex-col gap-4",children:[k.jsx(_n,{to:"/semana/1",className:"block w-full p-6 text-center rounded-lg bg-blue-600 text-white text-xl font-semibold shadow hover:bg-blue-700 transition",children:"Semana 1: Introducción al Cálculo Multivariante"}),k.jsx("button",{className:"block w-full p-6 text-center rounded-lg bg-gray-300 text-gray-500 text-xl font-semibold cursor-not-allowed",disabled:!0,children:"Semana 2: Optimización (Completa Semana 1 para desbloquear)"})]})]}):k.jsx("div",{className:"mb-8 flex flex-col items-center",children:k.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[k.jsx(_n,{to:"/login",className:"bg-blue-500 text-white p-4 rounded-md text-center hover:bg-blue-600",children:"Iniciar Sesión"}),k.jsx(_n,{to:"/register",className:"bg-green-500 text-white p-4 rounded-md text-center hover:bg-green-600",children:"Registrarse"})]})})]})},C4=({isRegister:t=!1})=>{const e=Zl(),{login:n,register:r,isLoading:i,isAuthenticated:s}=Dp();re.useEffect(()=>{s&&e("/dashboard",{replace:!0})},[s,e]);const[u,h]=re.useState(""),[f,y]=re.useState(""),[_,E]=re.useState(null),I=async U=>{U.preventDefault(),E(null);try{t?await r(u,f):await n(u,f),e("/dashboard")}catch(q){E("Ha ocurrido un error. Por favor, inténtalo de nuevo."),console.error(q)}};return k.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:k.jsxs("div",{className:"max-w-md w-full space-y-8",children:[k.jsxs("div",{children:[k.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:t?"Crear una cuenta":"Iniciar sesión"}),k.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:[t?"Ya tienes una cuenta?":"No tienes una cuenta?"," ",k.jsx(_n,{to:t?"/login":"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:t?"Inicia sesión":"Regístrate"})]})]}),_&&k.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",role:"alert",children:k.jsx("p",{children:_})}),k.jsxs("form",{className:"mt-8 space-y-6",onSubmit:I,children:[k.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[k.jsxs("div",{children:[k.jsx("label",{htmlFor:"email-address",className:"sr-only",children:"Correo electrónico"}),k.jsx("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm",placeholder:"Correo electrónico",value:u,onChange:U=>h(U.target.value)})]}),k.jsxs("div",{children:[k.jsx("label",{htmlFor:"password",className:"sr-only",children:"Contraseña"}),k.jsx("input",{id:"password",name:"password",type:"password",autoComplete:t?"new-password":"current-password",required:!0,className:`appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 ${t?"":"rounded-b-md"} focus:outline-none focus:ring-primary-500 focus:border-primary-500 focus:z-10 sm:text-sm`,placeholder:"Contraseña",value:f,onChange:U=>y(U.target.value)})]})]}),k.jsx("div",{children:k.jsx("button",{type:"submit",disabled:i,className:"group relative w-full flex justify-center py-2 px-4 border border-blue-600 text-sm font-medium rounded-md text-black bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:bg-blue-600 disabled:border-blue-600 disabled:text-black disabled:opacity-100",children:i?k.jsxs("span",{className:"flex items-center",children:[k.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[k.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),k.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Procesando..."]}):t?"Registrarse":"Iniciar sesión"})})]})]})})},Iw=()=>{const t=Dp(n=>n.logout),e=Zl();return k.jsxs("div",{className:"p-8",children:[k.jsx("div",{className:"flex justify-end",children:k.jsx("button",{className:"px-4 py-2 bg-blue-600 text-black font-semibold rounded hover:bg-blue-700",onClick:()=>{t(),e("/")},children:"Cerrar sesión"})}),k.jsxs("div",{className:"bg-white rounded-lg shadow-sm border p-6 mb-8 flex flex-col items-center",children:[k.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:"Acceso a Semanas"}),k.jsxs("div",{className:"w-full max-w-md flex flex-col gap-4",children:[k.jsx("button",{className:"block w-full p-6 text-center rounded-lg bg-blue-600 text-white text-xl font-semibold shadow hover:bg-blue-700 transition",onClick:()=>e("/semana/1"),children:"Semana 1: Introducción al Cálculo Multivariante"}),k.jsx("button",{className:"block w-full p-6 text-center rounded-lg bg-gray-300 text-gray-500 text-xl font-semibold cursor-not-allowed",disabled:!0,children:"Semana 2: Optimización (Completa Semana 1 para desbloquear)"})]})]})]})},Cw={1:[{id:"1",title:"Introducción al Cálculo Multivariante",description:"Fundamentos y conceptos básicos del cálculo multivariante"},{id:"2",title:"Vectores y Espacio Vectorial",description:"Conceptos y aplicaciones de los vectores en el cálculo multivariante"},{id:"3",title:"Derivadas Parciales",description:"Conceptos y aplicaciones de las derivadas parciales"},{id:"4",title:"Gradiente y Derivadas Direccionales",description:"Aplicaciones del gradiente en el análisis de funciones multivariantes"}]},Nw={1:{title:"Introducción y Derivadas Parciales",description:"Conceptos fundamentales del cálculo multivariante y sus aplicaciones en ciencia de datos",calendar:[{day:"Lun 26/05",title:"Presentación del curso",description:"Repaso de cálculo de una variable, motivación del cálculo multivariable en ciencia de datos. Ejercicios diagnósticos y ejemplo en Python."},{day:"Mar 27/05",title:"Definición y cálculo de derivadas parciales",description:"Interpretación geométrica y ejemplo práctico con SymPy."},{day:"Mié 28/05",title:"Gradiente y derivadas direccionales",description:"Visualización con curvas de nivel con Matplotlib."},{day:"Vie 30/05",title:"Regla de la cadena multivariable y Jacobiano",description:"Ejemplos de transformación cartesiana a polar."}],lessons:[{id:"1",title:"Introducción al Cálculo Multivariante",content:`
          <h3>Introducción al Cálculo Multivariante</h3>
          <p>El cálculo multivariante extiende los conceptos del cálculo de una variable a funciones con varias variables independientes.</p>
          
          <h4 class="mt-4">Importancia en Ciencia de Datos</h4>
          <p>En ciencia de datos, el cálculo multivariante es fundamental para:</p>
          <ul class="list-disc pl-6 my-3">
            <li><strong>Optimización:</strong> Encontrar mínimos/máximos en algoritmos de aprendizaje automático</li>
            <li><strong>Regresión multivariable:</strong> Analizar relaciones entre múltiples variables</li>
            <li><strong>Reducción de dimensionalidad:</strong> Técnicas como PCA utilizan conceptos del cálculo multivariante</li>
            <li><strong>Redes neuronales:</strong> El descenso de gradiente es central en el entrenamiento de redes</li>
          </ul>
          
          <h4 class="mt-4">Funciones de Varias Variables</h4>
          <p>Una función de varias variables asigna a cada punto en R<sup>n</sup> un valor en R. Formalmente:</p>
          <div class="p-4 bg-gray-100 rounded my-3 font-mono">f: R<sup>n</sup> → R</div>
          <p>Por ejemplo, f(x, y) = x² + y² asigna a cada par de números reales (x, y) un único número real.</p>
          
          <h4 class="mt-4">Ejemplos con Python</h4>
          <div class="p-4 bg-gray-100 rounded my-3">
            <code>
              import numpy as np<br>
              import matplotlib.pyplot as plt<br>
              from mpl_toolkits.mplot3d import Axes3D<br><br>
              
              # Definir la función f(x,y) = x² + y²<br>
              def f(x, y):<br>
              &nbsp;&nbsp;&nbsp;&nbsp;return x**2 + y**2<br><br>
              
              # Crear una malla de puntos<br>
              x = np.linspace(-5, 5, 100)<br>
              y = np.linspace(-5, 5, 100)<br>
              X, Y = np.meshgrid(x, y)<br>
              Z = f(X, Y)<br><br>
              
              # Visualizar la superficie<br>
              fig = plt.figure(figsize=(10, 8))<br>
              ax = fig.add_subplot(111, projection='3d')<br>
              surf = ax.plot_surface(X, Y, Z, cmap='viridis')<br>
              plt.show()<br>
            </code>
          </div>
        `},{id:"2",title:"Vectores y Espacio Vectorial",content:`
          <h3>Vectores y Espacio Vectorial</h3>
          <p>Los vectores son elementos fundamentales en el cálculo multivariante.</p>
          
          <h4 class="mt-4">Definición de Vector</h4>
          <p>Un vector en R<sup>n</sup> es una n-tupla ordenada de números reales:</p>
          <div class="p-4 bg-gray-100 rounded my-3 font-mono">v = (v₁, v₂, ..., vₙ)</div>
          
          <h4 class="mt-4">Operaciones Vectoriales</h4>
          <ul class="list-disc pl-6 my-3">
            <li><strong>Suma:</strong> (u₁, u₂, ..., uₙ) + (v₁, v₂, ..., vₙ) = (u₁+v₁, u₂+v₂, ..., uₙ+vₙ)</li>
            <li><strong>Multiplicación por escalar:</strong> c·(v₁, v₂, ..., vₙ) = (c·v₁, c·v₂, ..., c·vₙ)</li>
            <li><strong>Producto escalar:</strong> u·v = u₁v₁ + u₂v₂ + ... + uₙvₙ</li>
            <li><strong>Norma:</strong> ||v|| = √(v₁² + v₂² + ... + vₙ²)</li>
          </ul>
          
          <h4 class="mt-4">Geometría en R³</h4>
          <p>En el espacio tridimensional, algunos conceptos importantes son:</p>
          <ul class="list-disc pl-6 my-3">
            <li><strong>Distancia entre puntos:</strong> d((x₁,y₁,z₁), (x₂,y₂,z₂)) = √((x₂-x₁)² + (y₂-y₁)² + (z₂-z₁)²)</li>
            <li><strong>Ecuaciones de planos:</strong> ax + by + cz + d = 0, donde (a,b,c) es el vector normal</li>
            <li><strong>Producto vectorial:</strong> u × v = (u₂v₃-u₃v₂, u₃v₁-u₁v₃, u₁v₂-u₂v₁)</li>
          </ul>
          
          <h4 class="mt-4">Ejemplos con Python</h4>
          <div class="p-4 bg-gray-100 rounded my-3">
            <code>
              import numpy as np<br><br>
              
              # Definir vectores<br>
              v = np.array([1, 2, 3])<br>
              u = np.array([4, 5, 6])<br><br>
              
              # Operaciones vectoriales<br>
              suma = v + u<br>
              producto_escalar = np.dot(v, u)<br>
              producto_vectorial = np.cross(v, u)<br>
              norma = np.linalg.norm(v)<br><br>
              
              print(f"Suma: {suma}")<br>
              print(f"Producto escalar: {producto_escalar}")<br>
              print(f"Producto vectorial: {producto_vectorial}")<br>
              print(f"Norma: {norma}")<br>
            </code>
          </div>
        `},{id:"3",title:"Derivadas Parciales",content:`
          <h3>Derivadas Parciales</h3>
          <p>Las derivadas parciales son fundamentales para entender cómo cambia una función multivariable.</p>
          
          <h4 class="mt-4">Definición</h4>
          <p>La derivada parcial de una función f(x,y) con respecto a x es la derivada de f considerando y como constante:</p>
          <div class="p-4 bg-gray-100 rounded my-3 font-mono">
            ∂f/∂x = lim(h→0) [f(x+h,y) - f(x,y)]/h
          </div>
          
          <p>De manera similar, la derivada parcial con respecto a y es:</p>
          <div class="p-4 bg-gray-100 rounded my-3 font-mono">
            ∂f/∂y = lim(h→0) [f(x,y+h) - f(x,y)]/h
          </div>
          
          <h4 class="mt-4">Interpretación Geométrica</h4>
          <p>La derivada parcial ∂f/∂x representa la tasa de cambio de f cuando nos movemos a lo largo del eje x, manteniendo y constante. Geométricamente, es la pendiente de la curva que resulta de la intersección de la superficie z=f(x,y) con el plano y=constante.</p>
          
          <h4 class="mt-4">Cálculo de Derivadas Parciales</h4>
          <p>Para calcular derivadas parciales, aplicamos las reglas de derivación del cálculo de una variable, tratando las otras variables como constantes.</p>
          <p>Ejemplo: Si f(x,y) = x² + xy + y³, entonces:</p>
          <div class="p-4 bg-gray-100 rounded my-3">
            ∂f/∂x = 2x + y<br>
            ∂f/∂y = x + 3y²
          </div>
          
          <h4 class="mt-4">Derivadas Parciales de Orden Superior</h4>
          <p>Las derivadas parciales también pueden derivarse nuevamente, obteniendo derivadas de segundo orden o superior:</p>
          <div class="p-4 bg-gray-100 rounded my-3">
            ∂²f/∂x² = ∂/∂x(∂f/∂x)<br>
            ∂²f/∂x∂y = ∂/∂x(∂f/∂y) = ∂/∂y(∂f/∂x)<br>
            ∂²f/∂y² = ∂/∂y(∂f/∂y)
          </div>
          
          <h4 class="mt-4">Ejemplos con Python (SymPy)</h4>
          <div class="p-4 bg-gray-100 rounded my-3">
            <code>
              import sympy as sp<br><br>
              
              # Definir variables simbólicas<br>
              x, y = sp.symbols('x y')<br><br>
              
              # Definir la función<br>
              f = x**2 + x*y + y**3<br><br>
              
              # Calcular derivadas parciales<br>
              df_dx = sp.diff(f, x)<br>
              df_dy = sp.diff(f, y)<br>
              df_dxdy = sp.diff(df_dx, y)<br><br>
              
              print(f"f(x,y) = {f}")<br>
              print(f"∂f/∂x = {df_dx}")<br>
              print(f"∂f/∂y = {df_dy}")<br>
              print(f"∂²f/∂x∂y = {df_dxdy}")<br>
            </code>
          </div>
        `},{id:"4",title:"Gradiente y Derivadas Direccionales",content:`
          <h3>Gradiente y Derivadas Direccionales</h3>
          <p>El gradiente es un vector que apunta en la dirección de máximo crecimiento de una función.</p>
          
          <h4 class="mt-4">Definición del Gradiente</h4>
          <p>El gradiente de una función f(x,y) es un vector cuyas componentes son las derivadas parciales de la función:</p>
          <div class="p-4 bg-gray-100 rounded my-3 font-mono">
            ∇f(x,y) = (∂f/∂x, ∂f/∂y)
          </div>
          
          <p>En el caso general para f(x₁, x₂, ..., xₙ):</p>
          <div class="p-4 bg-gray-100 rounded my-3 font-mono">
            ∇f = (∂f/∂x₁, ∂f/∂x₂, ..., ∂f/∂xₙ)
          </div>
          
          <h4 class="mt-4">Propiedades del Gradiente</h4>
          <ul class="list-disc pl-6 my-3">
            <li>El gradiente es perpendicular a las curvas de nivel de la función</li>
            <li>La magnitud del gradiente indica la tasa de cambio en la dirección de máximo crecimiento</li>
            <li>En un punto crítico (máximo, mínimo o punto de silla), el gradiente es cero</li>
          </ul>
          
          <h4 class="mt-4">Derivadas Direccionales</h4>
          <p>La derivada direccional es la tasa de cambio de la función en la dirección de un vector unitario u:</p>
          <div class="p-4 bg-gray-100 rounded my-3 font-mono">
            D<sub>u</sub>f = ∇f · u = |∇f| · |u| · cos(θ)
          </div>
          <p>donde θ es el ángulo entre ∇f y u.</p>
          
          <h4 class="mt-4">Visualización con Curvas de Nivel</h4>
          <p>Las curvas de nivel son conjuntos de puntos donde la función tiene un valor constante.</p>
          <p>Ejemplo: Para f(x,y) = x² + y², las curvas de nivel son círculos centrados en el origen.</p>
          
          <h4 class="mt-4">Ejemplos con Matplotlib</h4>
          <div class="p-4 bg-gray-100 rounded my-3">
            <code>
              import numpy as np<br>
              import matplotlib.pyplot as plt<br><br>
              
              # Definir la función y su gradiente<br>
              def f(x, y):<br>
              &nbsp;&nbsp;&nbsp;&nbsp;return x**2 + y**2<br><br>
              
              def grad_f(x, y):<br>
              &nbsp;&nbsp;&nbsp;&nbsp;return np.array([2*x, 2*y])<br><br>
              
              # Crear una malla de puntos<br>
              x = np.linspace(-5, 5, 100)<br>
              y = np.linspace(-5, 5, 100)<br>
              X, Y = np.meshgrid(x, y)<br>
              Z = f(X, Y)<br><br>
              
              # Visualizar curvas de nivel<br>
              plt.figure(figsize=(10, 8))<br>
              plt.contour(X, Y, Z, 20)<br>
              
              # Visualizar gradientes en algunos puntos<br>
              x_points = np.linspace(-4, 4, 8)<br>
              y_points = np.linspace(-4, 4, 8)<br>
              X_pts, Y_pts = np.meshgrid(x_points, y_points)<br><br>
              
              U = np.zeros_like(X_pts)<br>
              V = np.zeros_like(Y_pts)<br><br>
              
              for i in range(len(x_points)):<br>
              &nbsp;&nbsp;&nbsp;&nbsp;for j in range(len(y_points)):<br>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;grad = grad_f(X_pts[i,j], Y_pts[i,j])<br>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;norm = np.linalg.norm(grad)<br>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if norm > 0:<br>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;U[i,j] = grad[0]/norm<br>
              &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;V[i,j] = grad[1]/norm<br><br>
              
              plt.quiver(X_pts, Y_pts, U, V)<br>
              plt.xlabel('x')<br>
              plt.ylabel('y')<br>
              plt.title('Curvas de nivel y campo gradiente')<br>
              plt.axis('equal')<br>
              plt.grid(True)<br>
              plt.show()<br>
            </code>
          </div>
        `},{id:"5",title:"Regla de la Cadena",content:`
          <h3>Regla de la Cadena Multivariable y Jacobiano</h3>
          <p>La regla de la cadena es fundamental para calcular derivadas de funciones compuestas.</p>
          
          <h4 class="mt-4">Regla de la Cadena para Funciones de Varias Variables</h4>
          <p>Si z = f(x,y) donde x = g(t) y y = h(t), entonces:</p>
          <div class="p-4 bg-gray-100 rounded my-3 font-mono">
            dz/dt = (∂f/∂x)(dx/dt) + (∂f/∂y)(dy/dt)
          </div>
          
          <p>En general, si z = f(x₁, x₂, ..., xₙ) donde cada xᵢ es función de variables t₁, t₂, ..., tₘ, entonces:</p>
          <div class="p-4 bg-gray-100 rounded my-3 font-mono">
            ∂z/∂tⱼ = ∑(i=1 to n) (∂f/∂xᵢ)(∂xᵢ/∂tⱼ)
          </div>
          
          <h4 class="mt-4">Matriz Jacobiana</h4>
          <p>La matriz Jacobiana es una generalización de la derivada para funciones vectoriales. Si F: R<sup>n</sup> → R<sup>m</sup> es una función vectorial con componentes (f₁, f₂, ..., fₘ), la matriz Jacobiana es:</p>
          <div class="p-4 bg-gray-100 rounded my-3 font-mono">
            J = [ ∂fᵢ/∂xⱼ ]<br><br>
            
            J = | ∂f₁/∂x₁ ∂f₁/∂x₂ ... ∂f₁/∂xₙ |<br>
            &nbsp;&nbsp;&nbsp;&nbsp;| ∂f₂/∂x₁ ∂f₂/∂x₂ ... ∂f₂/∂xₙ |<br>
            &nbsp;&nbsp;&nbsp;&nbsp;| ...&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;... |<br>
            &nbsp;&nbsp;&nbsp;&nbsp;| ∂fₘ/∂x₁ ∂fₘ/∂x₂ ... ∂fₘ/∂xₙ |
          </div>
          
          <h4 class="mt-4">Transformación de Coordenadas</h4>
          <p>La matriz Jacobiana es crucial en transformaciones de coordenadas. Por ejemplo, para transformar de coordenadas cartesianas (x,y) a polares (r,θ):</p>
          <div class="p-4 bg-gray-100 rounded my-3">
            x = r·cos(θ)<br>
            y = r·sin(θ)
          </div>
          
          <p>La matriz Jacobiana de esta transformación es:</p>
          <div class="p-4 bg-gray-100 rounded my-3 font-mono">
            J = | ∂x/∂r ∂x/∂θ | = | cos(θ) -r·sin(θ) |<br>
            &nbsp;&nbsp;&nbsp;&nbsp;| ∂y/∂r ∂y/∂θ | &nbsp;&nbsp;| sin(θ) r·cos(θ) |
          </div>
          
          <h4 class="mt-4">Ejemplo con SymPy</h4>
          <div class="p-4 bg-gray-100 rounded my-3">
            <code>
              import sympy as sp<br>
              import numpy as np<br><br>
              
              # Definir variables simbólicas<br>
              r, theta = sp.symbols('r theta')<br><br>
              
              # Transformación de coordenadas polares a cartesianas<br>
              x = r * sp.cos(theta)<br>
              y = r * sp.sin(theta)<br><br>
              
              # Calcular las derivadas parciales<br>
              dx_dr = sp.diff(x, r)<br>
              dx_dtheta = sp.diff(x, theta)<br>
              dy_dr = sp.diff(y, r)<br>
              dy_dtheta = sp.diff(y, theta)<br><br>
              
              # Construir la matriz Jacobiana<br>
              J = sp.Matrix([[dx_dr, dx_dtheta], [dy_dr, dy_dtheta]])<br><br>
              
              print("Matriz Jacobiana:")<br>
              print(J)<br><br>
              
              # Calcular el determinante (Jacobiano)<br>
              det_J = J.det()<br><br>
              
              print("Determinante Jacobiano:")<br>
              print(det_J)<br>
              print("Simplificado:")<br>
              print(sp.simplify(det_J))<br>
            </code>
          </div>
        `}],exercises:[{id:"1",type:"analitico",title:"Dominios y visualización",description:"Determina el dominio y dibuja las curvas de nivel de la función f(x,y) = √(1-x²-y²)",hint:"Recuerda que para la raíz cuadrada, el radicando debe ser mayor o igual a cero. ¿Qué figura geométrica representa la frontera del dominio?"},{id:"2",type:"analitico",title:"Cálculo de derivadas parciales",description:"Calcula las derivadas parciales de primer orden de f(x,y) = xe^(xy) + y·ln(x)",hint:"Utiliza la regla del producto y la regla de la cadena cuando sea necesario."},{id:"3",type:"analitico",title:"Gradiente y dirección de máximo crecimiento",description:"Para la función f(x,y) = x² - y² + 2xy, encuentra el gradiente en el punto (1,2) y determina la dirección de máximo crecimiento en ese punto.",hint:"El gradiente indica la dirección de máximo crecimiento. Para encontrarlo, calcula las derivadas parciales y evalúalas en el punto dado."},{id:"4",type:"codigo",title:"Visualización de funciones en Python",description:"Implementa una función en Python que visualice la función f(x,y) = x²+y² y sus curvas de nivel en el rango [-5,5]×[-5,5].",startingCode:`import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D

# Crear una malla de puntos
x = np.linspace(-5, 5, 100)
y = np.linspace(-5, 5, 100)
X, Y = np.meshgrid(x, y)

# Define la función
def f(x, y):
    # Implementa la función f(x,y) = x²+y²
    return # Tu código aquí

# Calcula los valores de la función
Z = f(X, Y)

# Crear dos subplots
fig = plt.figure(figsize=(12, 5))

# Visualizar la superficie 3D
ax1 = fig.add_subplot(121, projection='3d')
# Tu código aquí para mostrar la superficie 3D

# Visualizar las curvas de nivel
ax2 = fig.add_subplot(122)
# Tu código aquí para mostrar las curvas de nivel

plt.tight_layout()
plt.show()`},{id:"5",type:"codigo",title:"Cálculo de derivadas con SymPy",description:"Utiliza SymPy para calcular las derivadas parciales de f(x,y) = sin(x*y) + e^(x+y) y evalúalas en el punto (0,0).",startingCode:`import sympy as sp

# Define las variables simbólicas
x, y = sp.symbols('x y')

# Define la función
f = sp.sin(x*y) + sp.exp(x+y)

# Calcula las derivadas parciales
# Tu código aquí

# Evalúa las derivadas en el punto (0,0)
# Tu código aquí

# Muestra los resultados
print("f(x,y) =", f)
print("∂f/∂x en (0,0) =", # Tu resultado aquí)
print("∂f/∂y en (0,0) =", # Tu resultado aquí)`}],challenges:[{id:"1",title:"Tarea 1: Derivadas parciales y gradiente",description:"Para la función f(x,y,z) = x²yz + xy²z + xyz², encuentra el gradiente ∇f y demuestra que en cualquier punto (x,y,z) ≠ (0,0,0), el vector posición r = (x,y,z) y el gradiente ∇f son paralelos. Entrega: 9 de junio.",hint:"Calcula las derivadas parciales, forma el gradiente y verifica si es proporcional al vector posición (x,y,z)."}]},2:{title:"Derivadas Parciales",description:"Diferenciación en múltiples variables y sus aplicaciones",calendar:[{day:"Lun 02/06",title:"Repaso de derivadas parciales",description:"Aplicaciones en problemas prácticos."},{day:"Mar 03/06",title:"Regla de la cadena multivariable",description:"Ejemplos y ejercicios."}]}},Pw=()=>{const t=ha(),e=da(),n=t.weekId,[r,i]=re.useState("overview"),{isModulePassed:s}=eu();re.useEffect(()=>{var y;(y=e.state)!=null&&y.activeSection&&i(e.state.activeSection)},[e.state]),console.log("Parámetros de ruta:",t),console.log("WeekID:",n),console.log("Sección activa:",r);const u=Nw[n]||{title:`Semana ${n}`,description:"Contenido en desarrollo",calendar:[]},h=Cw[n]||[],f=y=>{if(y==="1")return!0;const _=String(Number(y)-1);return s(Number(n),Number(_))};return k.jsxs("div",{className:"container mx-auto px-4 py-8",children:[k.jsx("h1",{className:"text-3xl font-bold mb-2",children:u.title}),k.jsx("p",{className:"text-gray-600 mb-6",children:u.description}),k.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[k.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Módulos de la semana"}),k.jsx("div",{className:"grid gap-6 grid-cols-1 md:grid-cols-3",children:h.map(y=>{const _=f(y.id);return k.jsxs("div",{className:`bg-white rounded-lg border ${_?"border-primary-300":"border-gray-200"} p-5 ${_?"shadow-md":""}`,children:[k.jsx("h3",{className:"text-lg font-semibold mb-1",children:y.title}),k.jsx("p",{className:"text-gray-600 text-sm mb-4",children:y.description}),k.jsxs("div",{className:"mt-4 space-y-2",children:[k.jsxs("div",{className:"flex items-center text-sm",children:[k.jsx("span",{className:"text-blue-500 mr-2",children:"📚"}),k.jsx("span",{children:"Fundamentos"}),k.jsx("span",{className:"ml-auto text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:"5 pts"})]}),k.jsxs("div",{className:"flex items-center text-sm",children:[k.jsx("span",{className:"text-orange-500 mr-2",children:"📝"}),k.jsx("span",{children:"Ejercicio"}),k.jsx("span",{className:"ml-auto text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:"5 pts"})]}),k.jsxs("div",{className:"flex items-center text-sm",children:[k.jsx("span",{className:"text-purple-500 mr-2",children:"💻"}),k.jsx("span",{children:"Visualización"}),k.jsx("span",{className:"ml-auto text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:"10 pts"})]}),k.jsxs("div",{className:"flex items-center text-sm",children:[k.jsx("span",{className:"text-green-500 mr-2",children:"🧠"}),k.jsx("span",{children:"Cuestionario final"}),k.jsx("span",{className:"ml-auto text-xs bg-blue-100 text-blue-700 px-2 py-0.5 rounded",children:"30 pts"})]})]}),k.jsx("div",{className:"mt-6",children:_?k.jsx(_n,{to:`/semana/${n}/modulo/${y.id}`,className:`w-full block text-center py-3 px-4 rounded-md font-medium transition-colors ${y.id==="1"||Number(y.id)>1&&s(Number(n),Number(y.id)-1)&&!s(Number(n),Number(y.id))?"bg-green-100 text-green-700 border-2 border-green-300 hover:bg-green-200":"bg-gray-200 hover:bg-gray-300 text-gray-700"}`,children:k.jsxs("span",{className:"inline-flex items-center",children:[k.jsx("span",{className:"mr-2",children:"🔓"}),y.id==="1"?"Comenzar este módulo":s(Number(n),Number(y.id))?"Módulo Completado":"Módulo Desbloqueado"," - Click para Acceder"]})}):k.jsxs("div",{className:"w-full text-center",children:[k.jsxs("span",{className:"block text-gray-400 bg-gray-100 py-3 px-4 rounded-md cursor-not-allowed",children:[k.jsx("span",{className:"mr-2",children:"🔒"}),"Módulo bloqueado"]}),k.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Complete el módulo anterior para desbloquear"})]})})]},y.id)})})]}),u.calendar&&u.calendar.length>0&&k.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[k.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Calendario de la semana"}),k.jsx("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:u.calendar.map((y,_)=>k.jsxs("div",{className:"bg-gray-50 p-4 rounded-md border-l-4 border-primary-600",children:[k.jsx("div",{className:"font-bold text-gray-700",children:y.day}),k.jsx("div",{className:"font-medium text-primary-700 mb-2",children:y.title}),k.jsx("div",{className:"text-sm text-gray-600",children:y.description})]},_))})]})]})},O5=()=>{const{weekId:t,lessonId:e}=ha(),n=Zl();function r(){n(`/modulo/${t}`)}return k.jsxs("div",{className:"container mx-auto px-4 py-8",children:[k.jsx("div",{className:"mb-6",children:k.jsxs(_n,{to:`/semana/${t}`,className:"text-primary-600 hover:underline",children:["← Volver a Semana ",t]})}),k.jsxs("h1",{className:"text-3xl font-bold mb-6",children:["Lección ",e]}),k.jsxs("p",{className:"text-gray-600 mb-8",children:["Contenido de la lección ",e," de la semana ",t]}),k.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[k.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Quiz de comprensión"}),k.jsx(Rw,{onComplete:r})]})]})};function Rw({onComplete:t}){const e=[{question:"Sea f(x, y) = x²y + y³. ¿Cuál es la derivada parcial ∂f/∂x?",options:["2xy","2xy + y³","2xy + y","y³"],correct:"2xy"},{question:"¿Cuál es el valor del determinante Jacobiano de la transformación polar (x = r cosθ, y = r sinθ)?",options:["r","1","r²","cosθ"],correct:"r"},{question:"¿En qué punto (x, y) la función f(x, y) = x² + y² alcanza su mínimo global?",options:["(1,1)","(0,0)","(2,2)","(x,y) tal que x=y"],correct:"(0,0)"},{question:"Sea F(x, y) = (x²y, xy²). ¿Cuál es el divergente de F?",options:["2xy + 2y","2x + 2y","2xy","x² + y²"],correct:"2x + 2y"},{question:"¿Cuál de las siguientes afirmaciones es verdadera sobre campos conservativos?",options:["Su rotacional es siempre cero","Su divergente es siempre cero","No existen en R²","Siempre son perpendiculares a las curvas de nivel"],correct:"Su rotacional es siempre cero"}],[n,r]=er.useState(Array(5).fill(null)),[i,s]=er.useState(!1),h=n.filter((_,E)=>_===e[E].correct).length>=4&&n.every(_=>_!==null);function f(_,E){const I=[...n];I[_]=E,r(I),s(!0)}function y(){h&&t&&t()}return k.jsxs("div",{children:[e.map((_,E)=>k.jsxs("div",{className:"mb-4",children:[k.jsxs("p",{className:"mb-2 font-medium",children:[E+1,". ",_.question]}),k.jsx("div",{className:"flex flex-wrap gap-2 mb-1",children:_.options.map((I,U)=>k.jsx("button",{className:`px-3 py-1 rounded border ${n[E]===I?I===_.correct?"bg-green-500 text-white":"bg-red-500 text-white":"bg-gray-100 hover:bg-blue-100"}`,disabled:n[E]!==null,onClick:()=>f(E,I),children:I},U))}),n[E]&&k.jsx("span",{className:n[E]===_.correct?"text-green-600":"text-red-600",children:n[E]===_.correct?"¡Correcto!":`Incorrecto. Respuesta correcta: ${_.correct}`})]},E)),k.jsx("button",{className:`mt-4 px-4 py-2 rounded font-bold ${h?"bg-green-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!h,onClick:y,children:h?"Marcar como completada":"Responde correctamente al menos 4 de 5"}),i&&!h&&k.jsx("div",{className:"mt-4 text-red-600 font-semibold",children:"Debes responder correctamente al menos 4 de 5 preguntas para completar la lección."})]})}const Mw=()=>{};var N4={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L5=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Dw=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],u=t[n++],h=t[n++],f=((i&7)<<18|(s&63)<<12|(u&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const s=t[n++],u=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|u&63)}}return e.join("")},z5={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],u=i+1<t.length,h=u?t[i+1]:0,f=i+2<t.length,y=f?t[i+2]:0,_=s>>2,E=(s&3)<<4|h>>4;let I=(h&15)<<2|y>>6,U=y&63;f||(U=64,u||(I=64)),r.push(n[_],n[E],n[I],n[U])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(L5(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Dw(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],h=i<t.length?n[t.charAt(i)]:0;++i;const y=i<t.length?n[t.charAt(i)]:64;++i;const E=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||h==null||y==null||E==null)throw new Ow;const I=s<<2|h>>4;if(r.push(I),y!==64){const U=h<<4&240|y>>2;if(r.push(U),E!==64){const q=y<<6&192|E;r.push(q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Ow extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Lw=function(t){const e=L5(t);return z5.encodeByteArray(e,!0)},ec=function(t){return Lw(t).replace(/\./g,"")},V5=function(t){try{return z5.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw=()=>zw().__FIREBASE_DEFAULTS__,jw=()=>{if(typeof process>"u"||typeof N4>"u")return;const t=N4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Fw=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&V5(t[1]);return e&&JSON.parse(e)},jc=()=>{try{return Mw()||Vw()||jw()||Fw()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},j5=t=>{var e,n;return(n=(e=jc())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Bw=t=>{const e=j5(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},F5=()=>{var t;return(t=jc())===null||t===void 0?void 0:t.config},B5=t=>{var e;return(e=jc())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tu(t){return t.endsWith(".cloudworkstations.dev")}async function U5(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ec(JSON.stringify(n)),ec(JSON.stringify(u)),""].join(".")}const hl={};function $w(){const t={prod:[],emulator:[]};for(const e of Object.keys(hl))hl[e]?t.emulator.push(e):t.prod.push(e);return t}function Hw(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let P4=!1;function q5(t,e){if(typeof window>"u"||typeof document>"u"||!tu(window.location.host)||hl[t]===e||hl[t]||P4)return;hl[t]=e;function n(I){return`__firebase__banner__${I}`}const r="__firebase__banner",s=$w().prod.length>0;function u(){const I=document.getElementById(r);I&&I.remove()}function h(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function f(I,U){I.setAttribute("width","24"),I.setAttribute("id",U),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function y(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{P4=!0,u()},I}function _(I,U){I.setAttribute("id",U),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function E(){const I=Hw(r),U=n("text"),q=document.getElementById(U)||document.createElement("span"),X=n("learnmore"),Q=document.getElementById(X)||document.createElement("a"),P=n("preprendIcon"),M=document.getElementById(P)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const L=I.element;h(L),_(Q,X);const K=y();f(M,P),L.append(M,q,Q,K),document.body.appendChild(L)}s?(q.innerText="Preview backend disconnected.",M.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(M.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,q.innerText="Preview backend running in this workspace."),q.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",E):E()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Ww(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pn())}function Gw(){var t;const e=(t=jc())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Kw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Qw(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Xw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yw(){const t=pn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Jw(){return!Gw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zw(){try{return typeof indexedDB=="object"}catch{return!1}}function ex(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tx="FirebaseError";class mi extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tx,Object.setPrototypeOf(this,mi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],u=s?nx(s,r):"Error",h=`${this.serviceName}: ${u} (${i}).`;return new mi(i,h,r)}}function nx(t,e){return t.replace(rx,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const rx=/\{\$([^}]+)}/g;function ix(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function js(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],u=e[i];if(R4(s)&&R4(u)){if(!js(s,u))return!1}else if(s!==u)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function R4(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sx(t,e){const n=new ox(t,e);return n.subscribe.bind(n)}class ox{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");ax(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=nh),i.error===void 0&&(i.error=nh),i.complete===void 0&&(i.complete=nh);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function ax(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function nh(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vr(t){return t&&t._delegate?t._delegate:t}class Fs{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Uw;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(cx(e))try{this.getOrInitializeService({instanceIdentifier:Ss})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ss){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ss){return this.instances.has(e)}getOptions(e=Ss){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(s);r===h&&u.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const u=this.instances.get(i);return u&&e(u,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:ux(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ss){return this.component?this.component.multipleInstances?e:Ss:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ux(t){return t===Ss?void 0:t}function cx(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new lx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const hx={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},fx=Le.INFO,px={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},mx=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=px[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Op{constructor(e){this.name=e,this._logLevel=fx,this._logHandler=mx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?hx[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const gx=(t,e)=>e.some(n=>t instanceof n);let M4,D4;function yx(){return M4||(M4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function vx(){return D4||(D4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $5=new WeakMap,gf=new WeakMap,H5=new WeakMap,rh=new WeakMap,Lp=new WeakMap;function wx(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",u)},s=()=>{n(Hi(t.result)),i()},u=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",u)});return e.then(n=>{n instanceof IDBCursor&&$5.set(n,t)}).catch(()=>{}),Lp.set(e,t),e}function xx(t){if(gf.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",u),t.removeEventListener("abort",u)},s=()=>{n(),i()},u=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",u),t.addEventListener("abort",u)});gf.set(t,e)}let yf={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gf.get(t);if(e==="objectStoreNames")return t.objectStoreNames||H5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bx(t){yf=t(yf)}function _x(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ih(this),e,...n);return H5.set(r,e.sort?e.sort():[e]),Hi(r)}:vx().includes(t)?function(...e){return t.apply(ih(this),e),Hi($5.get(this))}:function(...e){return Hi(t.apply(ih(this),e))}}function Sx(t){return typeof t=="function"?_x(t):(t instanceof IDBTransaction&&xx(t),gx(t,yx())?new Proxy(t,yf):t)}function Hi(t){if(t instanceof IDBRequest)return wx(t);if(rh.has(t))return rh.get(t);const e=Sx(t);return e!==t&&(rh.set(t,e),Lp.set(e,t)),e}const ih=t=>Lp.get(t);function Ex(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const u=indexedDB.open(t,e),h=Hi(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Hi(u.result),f.oldVersion,f.newVersion,Hi(u.transaction),f)}),n&&u.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),h.then(f=>{s&&f.addEventListener("close",()=>s()),i&&f.addEventListener("versionchange",y=>i(y.oldVersion,y.newVersion,y))}).catch(()=>{}),h}const Tx=["get","getKey","getAll","getAllKeys","count"],kx=["put","add","delete","clear"],sh=new Map;function O4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sh.get(e))return sh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=kx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Tx.includes(n)))return;const s=async function(u,...h){const f=this.transaction(u,i?"readwrite":"readonly");let y=f.store;return r&&(y=y.index(h.shift())),(await Promise.all([y[n](...h),i&&f.done]))[0]};return sh.set(e,s),s}bx(t=>({...t,get:(e,n,r)=>O4(e,n)||t.get(e,n,r),has:(e,n)=>!!O4(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Ix(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Ix(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const vf="@firebase/app",L4="0.13.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci=new Op("@firebase/app"),Cx="@firebase/app-compat",Nx="@firebase/analytics-compat",Px="@firebase/analytics",Rx="@firebase/app-check-compat",Mx="@firebase/app-check",Dx="@firebase/auth",Ox="@firebase/auth-compat",Lx="@firebase/database",zx="@firebase/data-connect",Vx="@firebase/database-compat",jx="@firebase/functions",Fx="@firebase/functions-compat",Bx="@firebase/installations",Ux="@firebase/installations-compat",qx="@firebase/messaging",$x="@firebase/messaging-compat",Hx="@firebase/performance",Wx="@firebase/performance-compat",Gx="@firebase/remote-config",Kx="@firebase/remote-config-compat",Qx="@firebase/storage",Xx="@firebase/storage-compat",Yx="@firebase/firestore",Jx="@firebase/ai",Zx="@firebase/firestore-compat",eb="firebase",tb="11.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wf="[DEFAULT]",nb={[vf]:"fire-core",[Cx]:"fire-core-compat",[Px]:"fire-analytics",[Nx]:"fire-analytics-compat",[Mx]:"fire-app-check",[Rx]:"fire-app-check-compat",[Dx]:"fire-auth",[Ox]:"fire-auth-compat",[Lx]:"fire-rtdb",[zx]:"fire-data-connect",[Vx]:"fire-rtdb-compat",[jx]:"fire-fn",[Fx]:"fire-fn-compat",[Bx]:"fire-iid",[Ux]:"fire-iid-compat",[qx]:"fire-fcm",[$x]:"fire-fcm-compat",[Hx]:"fire-perf",[Wx]:"fire-perf-compat",[Gx]:"fire-rc",[Kx]:"fire-rc-compat",[Qx]:"fire-gcs",[Xx]:"fire-gcs-compat",[Yx]:"fire-fst",[Zx]:"fire-fst-compat",[Jx]:"fire-vertex","fire-js":"fire-js",[eb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tc=new Map,rb=new Map,xf=new Map;function z4(t,e){try{t.container.addComponent(e)}catch(n){ci.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ea(t){const e=t.name;if(xf.has(e))return ci.debug(`There were multiple attempts to register component ${e}.`),!1;xf.set(e,t);for(const n of tc.values())z4(n,t);for(const n of rb.values())z4(n,t);return!0}function zp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mr(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ib={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Wi=new nu("app","Firebase",ib);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa=tb;function ob(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:wf,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Wi.create("bad-app-name",{appName:String(i)});if(n||(n=F5()),!n)throw Wi.create("no-options");const s=tc.get(i);if(s){if(js(n,s.options)&&js(r,s.config))return s;throw Wi.create("duplicate-app",{appName:i})}const u=new dx(i);for(const f of xf.values())u.addComponent(f);const h=new sb(n,r,u);return tc.set(i,h),h}function W5(t=wf){const e=tc.get(t);if(!e&&t===wf&&F5())return ob();if(!e)throw Wi.create("no-app",{appName:t});return e}function Ns(t,e,n){var r;let i=(r=nb[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),u=e.match(/\s|\//);if(s||u){const h=[`Unable to register library "${i}" with version "${e}":`];s&&h.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&u&&h.push("and"),u&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ci.warn(h.join(" "));return}ea(new Fs(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ab="firebase-heartbeat-database",lb=1,Vl="firebase-heartbeat-store";let oh=null;function G5(){return oh||(oh=Ex(ab,lb,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Vl)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wi.create("idb-open",{originalErrorMessage:t.message})})),oh}async function ub(t){try{const n=(await G5()).transaction(Vl),r=await n.objectStore(Vl).get(K5(t));return await n.done,r}catch(e){if(e instanceof mi)ci.warn(e.message);else{const n=Wi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ci.warn(n.message)}}}async function V4(t,e){try{const r=(await G5()).transaction(Vl,"readwrite");await r.objectStore(Vl).put(e,K5(t)),await r.done}catch(n){if(n instanceof mi)ci.warn(n.message);else{const r=Wi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ci.warn(r.message)}}}function K5(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=1024,db=30;class hb{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new pb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=j4();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(u=>u.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>db){const u=mb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){ci.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=j4(),{heartbeatsToSend:r,unsentEntries:i}=fb(this._heartbeatsCache.heartbeats),s=ec(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ci.warn(n),""}}}function j4(){return new Date().toISOString().substring(0,10)}function fb(t,e=cb){const n=[];let r=t.slice();for(const i of t){const s=n.find(u=>u.agent===i.agent);if(s){if(s.dates.push(i.date),F4(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),F4(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class pb{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Zw()?ex().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ub(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return V4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return V4(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function F4(t){return ec(JSON.stringify({version:2,heartbeats:t})).length}function mb(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gb(t){ea(new Fs("platform-logger",e=>new Ax(e),"PRIVATE")),ea(new Fs("heartbeat",e=>new hb(e),"PRIVATE")),Ns(vf,L4,t),Ns(vf,L4,"esm2017"),Ns("fire-js","")}gb("");function Vp(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Q5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const yb=Q5,X5=new nu("auth","Firebase",Q5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nc=new Op("@firebase/auth");function vb(t,...e){nc.logLevel<=Le.WARN&&nc.warn(`Auth (${fa}): ${t}`,...e)}function x0(t,...e){nc.logLevel<=Le.ERROR&&nc.error(`Auth (${fa}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function di(t,...e){throw jp(t,...e)}function Lr(t,...e){return jp(t,...e)}function Y5(t,e,n){const r=Object.assign(Object.assign({},yb()),{[e]:n});return new nu("auth","Firebase",r).create(e,{appName:t.name})}function Ps(t){return Y5(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function jp(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return X5.create(t,...e)}function Ae(t,e,...n){if(!t)throw jp(e,...n)}function ti(t){const e="INTERNAL ASSERTION FAILED: "+t;throw x0(e),new Error(e)}function hi(t,e){t||ti(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function wb(){return B4()==="http:"||B4()==="https:"}function B4(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xb(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wb()||Qw()||"connection"in navigator)?navigator.onLine:!0}function bb(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n){this.shortDelay=e,this.longDelay=n,hi(n>e,"Short delay should be less than long delay!"),this.isMobile=Ww()||Xw()}get(){return xb()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fp(t,e){hi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J5{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ti("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ti("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ti("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _b={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sb=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Eb=new iu(3e4,6e4);function Bp(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function pa(t,e,n,r,i={}){return Z5(t,i,async()=>{let s={},u={};r&&(e==="GET"?u=r:s={body:JSON.stringify(r)});const h=ru(Object.assign({key:t.config.apiKey},u)).slice(1),f=await t._getAdditionalHeaders();f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode);const y=Object.assign({method:e,headers:f},s);return Kw()||(y.referrerPolicy="no-referrer"),t.emulatorConfig&&tu(t.emulatorConfig.host)&&(y.credentials="include"),J5.fetch()(await e6(t,t.config.apiHost,n,h),y)})}async function Z5(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_b),e);try{const i=new kb(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const u=await s.json();if("needConfirmation"in u)throw Zu(t,"account-exists-with-different-credential",u);if(s.ok&&!("errorMessage"in u))return u;{const h=s.ok?u.errorMessage:u.error.message,[f,y]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zu(t,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Zu(t,"email-already-in-use",u);if(f==="USER_DISABLED")throw Zu(t,"user-disabled",u);const _=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw Y5(t,_,y);di(t,_)}}catch(i){if(i instanceof mi)throw i;di(t,"network-request-failed",{message:String(i)})}}async function Tb(t,e,n,r,i={}){const s=await pa(t,e,n,r,i);return"mfaPendingCredential"in s&&di(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function e6(t,e,n,r){const i=`${e}${n}?${r}`,s=t,u=s.config.emulator?Fp(t.config,i):`${t.config.apiScheme}://${i}`;return Sb.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(u).toString():u}class kb{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Lr(this.auth,"network-request-failed")),Eb.get())})}}function Zu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Lr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ab(t,e){return pa(t,"POST","/v1/accounts:delete",e)}async function rc(t,e){return pa(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Ib(t,e=!1){const n=Vr(t),r=await n.getIdToken(e),i=Up(r);Ae(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,u=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:fl(ah(i.auth_time)),issuedAtTime:fl(ah(i.iat)),expirationTime:fl(ah(i.exp)),signInProvider:u||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ah(t){return Number(t)*1e3}function Up(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return x0("JWT malformed, contained fewer than 3 sections"),null;try{const i=V5(n);return i?JSON.parse(i):(x0("Failed to decode base64 JWT payload"),null)}catch(i){return x0("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function U4(t){const e=Up(t);return Ae(e,"internal-error"),Ae(typeof e.exp<"u","internal-error"),Ae(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof mi&&Cb(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Cb({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=fl(this.lastLoginAt),this.creationTime=fl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(t){var e;const n=t.auth,r=await t.getIdToken(),i=await jl(t,rc(n,{idToken:r}));Ae(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const u=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?t6(s.providerUserInfo):[],h=Rb(t.providerData,u),f=t.isAnonymous,y=!(t.email&&s.passwordHash)&&!(h!=null&&h.length),_=f?y:!1,E={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:h,metadata:new _f(s.createdAt,s.lastLoginAt),isAnonymous:_};Object.assign(t,E)}async function Pb(t){const e=Vr(t);await ic(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Rb(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function t6(t){return t.map(e=>{var{providerId:n}=e,r=Vp(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mb(t,e){const n=await Z5(t,{},async()=>{const r=ru({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,u=await e6(t,i,"/v1/token",`key=${s}`),h=await t._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",J5.fetch()(u,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Db(t,e){return pa(t,"POST","/v2/accounts:revokeToken",Bp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ae(e.idToken,"internal-error"),Ae(typeof e.idToken<"u","internal-error"),Ae(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):U4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ae(e.length!==0,"internal-error");const n=U4(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ae(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Mb(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,u=new Uo;return r&&(Ae(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),i&&(Ae(typeof i=="string","internal-error",{appName:e}),u.accessToken=i),s&&(Ae(typeof s=="number","internal-error",{appName:e}),u.expirationTime=s),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Uo,this.toJSON())}_performRefresh(){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ei(t,e){Ae(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class gr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Vp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Nb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new _f(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await jl(this,this.stsTokenManager.getToken(this.auth,e));return Ae(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Ib(this,e)}reload(){return Pb(this)}_assign(e){this!==e&&(Ae(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new gr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ae(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ic(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mr(this.auth.app))return Promise.reject(Ps(this.auth));const e=await this.getIdToken();return await jl(this,Ab(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,u,h,f,y,_;const E=(r=n.displayName)!==null&&r!==void 0?r:void 0,I=(i=n.email)!==null&&i!==void 0?i:void 0,U=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,q=(u=n.photoURL)!==null&&u!==void 0?u:void 0,X=(h=n.tenantId)!==null&&h!==void 0?h:void 0,Q=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,P=(y=n.createdAt)!==null&&y!==void 0?y:void 0,M=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:L,emailVerified:K,isAnonymous:te,providerData:ie,stsTokenManager:z}=n;Ae(L&&z,e,"internal-error");const C=Uo.fromJSON(this.name,z);Ae(typeof L=="string",e,"internal-error"),Ei(E,e.name),Ei(I,e.name),Ae(typeof K=="boolean",e,"internal-error"),Ae(typeof te=="boolean",e,"internal-error"),Ei(U,e.name),Ei(q,e.name),Ei(X,e.name),Ei(Q,e.name),Ei(P,e.name),Ei(M,e.name);const D=new gr({uid:L,auth:e,email:I,emailVerified:K,displayName:E,isAnonymous:te,photoURL:q,phoneNumber:U,tenantId:X,stsTokenManager:C,createdAt:P,lastLoginAt:M});return ie&&Array.isArray(ie)&&(D.providerData=ie.map(O=>Object.assign({},O))),Q&&(D._redirectEventId=Q),D}static async _fromIdTokenResponse(e,n,r=!1){const i=new Uo;i.updateFromServerResponse(n);const s=new gr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ic(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ae(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?t6(i.providerUserInfo):[],u=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),h=new Uo;h.updateFromIdToken(r);const f=new gr({uid:i.localId,auth:e,stsTokenManager:h,isAnonymous:u}),y={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new _f(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(f,y),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q4=new Map;function ni(t){hi(t instanceof Function,"Expected a class definition");let e=q4.get(t);return e?(hi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,q4.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}n6.type="NONE";const $4=n6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b0(t,e,n){return`firebase:${t}:${e}:${n}`}class qo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=b0(this.userKey,i.apiKey,s),this.fullPersistenceKey=b0("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await rc(this.auth,{idToken:e}).catch(()=>{});return n?gr._fromGetAccountInfoResponse(this.auth,n,e):null}return gr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new qo(ni($4),e,r);const i=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let s=i[0]||ni($4);const u=b0(r,e.config.apiKey,e.name);let h=null;for(const y of n)try{const _=await y._get(u);if(_){let E;if(typeof _=="string"){const I=await rc(e,{idToken:_}).catch(()=>{});if(!I)break;E=await gr._fromGetAccountInfoResponse(e,I,_)}else E=gr._fromJSON(e,_);y!==s&&(h=E),s=y;break}}catch{}const f=i.filter(y=>y._shouldAllowMigration);return!s._shouldAllowMigration||!f.length?new qo(s,e,r):(s=f[0],h&&await s._set(u,h.toJSON()),await Promise.all(n.map(async y=>{if(y!==s)try{await y._remove(u)}catch{}})),new qo(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(o6(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(r6(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(l6(e))return"Blackberry";if(u6(e))return"Webos";if(i6(e))return"Safari";if((e.includes("chrome/")||s6(e))&&!e.includes("edge/"))return"Chrome";if(a6(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function r6(t=pn()){return/firefox\//i.test(t)}function i6(t=pn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function s6(t=pn()){return/crios\//i.test(t)}function o6(t=pn()){return/iemobile/i.test(t)}function a6(t=pn()){return/android/i.test(t)}function l6(t=pn()){return/blackberry/i.test(t)}function u6(t=pn()){return/webos/i.test(t)}function qp(t=pn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Ob(t=pn()){var e;return qp(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Lb(){return Yw()&&document.documentMode===10}function c6(t=pn()){return qp(t)||a6(t)||u6(t)||l6(t)||/windows phone/i.test(t)||o6(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d6(t,e=[]){let n;switch(t){case"Browser":n=H4(pn());break;case"Worker":n=`${H4(pn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${fa}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((u,h)=>{try{const f=e(s);u(f)}catch(f){h(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vb(t,e={}){return pa(t,"GET","/v2/passwordPolicy",Bp(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb=6;class Fb{constructor(e){var n,r,i,s;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=u.minPasswordLength)!==null&&n!==void 0?n:jb,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,u,h;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(s=f.containsUppercaseLetter)!==null&&s!==void 0?s:!0),f.isValid&&(f.isValid=(u=f.containsNumericCharacter)!==null&&u!==void 0?u:!0),f.isValid&&(f.isValid=(h=f.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new W4(this),this.idTokenSubscription=new W4(this),this.beforeStateQueue=new zb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=X5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ni(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await qo.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await rc(this,{idToken:e}),r=await gr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Mr(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===h)&&(f!=null&&f.user)&&(i=f.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(u){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ae(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ic(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=bb()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mr(this.app))return Promise.reject(Ps(this));const n=e?Vr(e):null;return n&&Ae(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ae(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mr(this.app)?Promise.reject(Ps(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mr(this.app)?Promise.reject(Ps(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ni(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Vb(this),n=new Fb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new nu("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Db(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ni(e)||this._popupRedirectResolver;Ae(n,this,"argument-error"),this.redirectPersistenceManager=await qo.create(this,[ni(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let u=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ae(h,this,"internal-error"),h.then(()=>{u||s(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{u=!0,f()}}else{const f=e.addObserver(n);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ae(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=d6(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Mr(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&vb(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function $p(t){return Vr(t)}class W4{constructor(e){this.auth=e,this.observer=null,this.addObserver=sx(n=>this.observer=n)}get next(){return Ae(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ub(t){Hp=t}function qb(t){return Hp.loadJS(t)}function $b(){return Hp.gapiScript}function Hb(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wb(t,e){const n=zp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(js(s,e??{}))return i;di(i,"already-initialized")}return n.initialize({options:e})}function Gb(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ni);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Kb(t,e,n){const r=$p(t);Ae(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=h6(e),{host:u,port:h}=Qb(e),f=h===null?"":`:${h}`,y={url:`${s}//${u}${f}/`},_=Object.freeze({host:u,port:h,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ae(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ae(js(y,r.config.emulator)&&js(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,tu(u)?(U5(`${s}//${u}${f}`),q5("Auth",!0)):Xb()}function h6(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Qb(t){const e=h6(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:G4(r.substr(s.length+1))}}else{const[s,u]=r.split(":");return{host:s,port:G4(u)}}}function G4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Xb(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ti("not implemented")}_getIdTokenResponse(e){return ti("not implemented")}_linkToIdToken(e,n){return ti("not implemented")}_getReauthenticationResolver(e){return ti("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $o(t,e){return Tb(t,"POST","/v1/accounts:signInWithIdp",Bp(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yb="http://localhost";class Bs extends f6{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):di("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=Vp(n,["providerId","signInMethod"]);if(!r||!i)return null;const u=new Bs(r,i);return u.idToken=s.idToken||void 0,u.accessToken=s.accessToken||void 0,u.secret=s.secret,u.nonce=s.nonce,u.pendingToken=s.pendingToken||null,u}_getIdTokenResponse(e){const n=this.buildRequest();return $o(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,$o(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,$o(e,n)}buildRequest(){const e={requestUri:Yb,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=ru(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su extends p6{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci extends su{constructor(){super("facebook.com")}static credential(e){return Bs._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ci.credential(e.oauthAccessToken)}catch{return null}}}Ci.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ci.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni extends su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Bs._fromParams({providerId:Ni.PROVIDER_ID,signInMethod:Ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Ni.credentialFromTaggedObject(e)}static credentialFromError(e){return Ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Ni.credential(n,r)}catch{return null}}}Ni.GOOGLE_SIGN_IN_METHOD="google.com";Ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi extends su{constructor(){super("github.com")}static credential(e){return Bs._fromParams({providerId:Pi.PROVIDER_ID,signInMethod:Pi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pi.credentialFromTaggedObject(e)}static credentialFromError(e){return Pi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pi.credential(e.oauthAccessToken)}catch{return null}}}Pi.GITHUB_SIGN_IN_METHOD="github.com";Pi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri extends su{constructor(){super("twitter.com")}static credential(e,n){return Bs._fromParams({providerId:Ri.PROVIDER_ID,signInMethod:Ri.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ri.credentialFromTaggedObject(e)}static credentialFromError(e){return Ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ri.credential(n,r)}catch{return null}}}Ri.TWITTER_SIGN_IN_METHOD="twitter.com";Ri.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await gr._fromIdTokenResponse(e,r,i),u=K4(r);return new ta({user:s,providerId:u,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=K4(r);return new ta({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function K4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc extends mi{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,sc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new sc(e,n,r,i)}}function m6(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?sc._fromErrorAndOperation(t,s,e,r):s})}async function Jb(t,e,n=!1){const r=await jl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ta._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zb(t,e,n=!1){const{auth:r}=t;if(Mr(r.app))return Promise.reject(Ps(r));const i="reauthenticate";try{const s=await jl(t,m6(r,i,e,t),n);Ae(s.idToken,r,"internal-error");const u=Up(s.idToken);Ae(u,r,"internal-error");const{sub:h}=u;return Ae(t.uid===h,r,"user-mismatch"),ta._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&di(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e_(t,e,n=!1){if(Mr(t.app))return Promise.reject(Ps(t));const r="signIn",i=await m6(t,r,e),s=await ta._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function t_(t,e,n,r){return Vr(t).onIdTokenChanged(e,n,r)}function n_(t,e,n){return Vr(t).beforeAuthStateChanged(e,n)}const oc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g6{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(oc,"1"),this.storage.removeItem(oc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_=1e3,i_=10;class y6 extends g6{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=c6(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((u,h,f)=>{this.notifyListeners(u,f)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const u=this.storage.getItem(r);!n&&this.localCache[r]===u||this.notifyListeners(r,u)},s=this.storage.getItem(r);Lb()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,i_):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},r_)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}y6.type="LOCAL";const s_=y6;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6 extends g6{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}v6.type="SESSION";const w6=v6;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o_(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Fc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,u=this.handlersMap[i];if(!(u!=null&&u.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const h=Array.from(u).map(async y=>y(n.origin,s)),f=await o_(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Fc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wp(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,u;return new Promise((h,f)=>{const y=Wp("",20);i.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:i,onMessage(E){const I=E;if(I.data.eventId===y)switch(I.data.status){case"ack":clearTimeout(_),s=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),h(I.data.response);break;default:clearTimeout(_),clearTimeout(s),f(new Error("invalid_response"));break}}},this.handlers.add(u),i.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[i.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(){return window}function l_(t){zr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x6(){return typeof zr().WorkerGlobalScope<"u"&&typeof zr().importScripts=="function"}async function u_(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function c_(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function d_(){return x6()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b6="firebaseLocalStorageDb",h_=1,ac="firebaseLocalStorage",_6="fbase_key";class ou{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Bc(t,e){return t.transaction([ac],e?"readwrite":"readonly").objectStore(ac)}function f_(){const t=indexedDB.deleteDatabase(b6);return new ou(t).toPromise()}function Sf(){const t=indexedDB.open(b6,h_);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ac,{keyPath:_6})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ac)?e(r):(r.close(),await f_(),e(await Sf()))})})}async function Q4(t,e,n){const r=Bc(t,!0).put({[_6]:e,value:n});return new ou(r).toPromise()}async function p_(t,e){const n=Bc(t,!1).get(e),r=await new ou(n).toPromise();return r===void 0?null:r.value}function X4(t,e){const n=Bc(t,!0).delete(e);return new ou(n).toPromise()}const m_=800,g_=3;class S6{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Sf(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>g_)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return x6()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Fc._getInstance(d_()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await u_(),!this.activeServiceWorker)return;this.sender=new a_(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||c_()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Sf();return await Q4(e,oc,"1"),await X4(e,oc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Q4(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>p_(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>X4(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Bc(i,!1).getAll();return new ou(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),m_)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}S6.type="LOCAL";const y_=S6;new iu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t,e){return e?ni(e):(Ae(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp extends f6{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return $o(e,this._buildIdpRequest())}_linkToIdToken(e,n){return $o(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return $o(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function w_(t){return e_(t.auth,new Gp(t),t.bypassAuthState)}function x_(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),Zb(n,new Gp(t),t.bypassAuthState)}async function b_(t){const{auth:e,user:n}=t;return Ae(n,e,"internal-error"),Jb(n,new Gp(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E6{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:u,type:h}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w_;case"linkViaPopup":case"linkViaRedirect":return b_;case"reauthViaPopup":case"reauthViaRedirect":return x_;default:di(this.auth,"internal-error")}}resolve(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const __=new iu(2e3,1e4);class Do extends E6{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Do.currentPopupAction&&Do.currentPopupAction.cancel(),Do.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ae(e,this.auth,"internal-error"),e}async onExecution(){hi(this.filter.length===1,"Popup operations only handle one event");const e=Wp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Do.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,__.get())};e()}}Do.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S_="pendingRedirect",_0=new Map;class E_ extends E6{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=_0.get(this.auth._key());if(!e){try{const r=await T_(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}_0.set(this.auth._key(),e)}return this.bypassAuthState||_0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function T_(t,e){const n=I_(e),r=A_(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function k_(t,e){_0.set(t._key(),e)}function A_(t){return ni(t._redirectPersistence)}function I_(t){return b0(S_,t.config.apiKey,t.name)}async function C_(t,e,n=!1){if(Mr(t.app))return Promise.reject(Ps(t));const r=$p(t),i=v_(r,e),u=await new E_(r,i,n).execute();return u&&!n&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N_=10*60*1e3;class P_{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!R_(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!T6(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Lr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N_&&this.cachedEventUids.clear(),this.cachedEventUids.has(Y4(e))}saveEventToCache(e){this.cachedEventUids.add(Y4(e)),this.lastProcessedEventTime=Date.now()}}function Y4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function T6({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function R_(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return T6(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M_(t,e={}){return pa(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,O_=/^https?/;async function L_(t){if(t.config.emulator)return;const{authorizedDomains:e}=await M_(t);for(const n of e)try{if(z_(n))return}catch{}di(t,"unauthorized-domain")}function z_(t){const e=bf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const u=new URL(t);return u.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&u.hostname===r}if(!O_.test(n))return!1;if(D_.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V_=new iu(3e4,6e4);function J4(){const t=zr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function j_(t){return new Promise((e,n)=>{var r,i,s;function u(){J4(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{J4(),n(Lr(t,"network-request-failed"))},timeout:V_.get()})}if(!((i=(r=zr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=zr().gapi)===null||s===void 0)&&s.load)u();else{const h=Hb("iframefcb");return zr()[h]=()=>{gapi.load?u():n(Lr(t,"network-request-failed"))},qb(`${$b()}?onload=${h}`).catch(f=>n(f))}}).catch(e=>{throw S0=null,e})}let S0=null;function F_(t){return S0=S0||j_(t),S0}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B_=new iu(5e3,15e3),U_="__/auth/iframe",q_="emulator/auth/iframe",$_={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},H_=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function W_(t){const e=t.config;Ae(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Fp(e,q_):`https://${t.config.authDomain}/${U_}`,r={apiKey:e.apiKey,appName:t.name,v:fa},i=H_.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${ru(r).slice(1)}`}async function G_(t){const e=await F_(t),n=zr().gapi;return Ae(n,t,"internal-error"),e.open({where:document.body,url:W_(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$_,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const u=Lr(t,"network-request-failed"),h=zr().setTimeout(()=>{s(u)},B_.get());function f(){zr().clearTimeout(h),i(r)}r.ping(f).then(f,()=>{s(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Q_=500,X_=600,Y_="_blank",J_="http://localhost";class Z4{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Z_(t,e,n,r=Q_,i=X_){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const f=Object.assign(Object.assign({},K_),{width:r.toString(),height:i.toString(),top:s,left:u}),y=pn().toLowerCase();n&&(h=s6(y)?Y_:n),r6(y)&&(e=e||J_,f.scrollbars="yes");const _=Object.entries(f).reduce((I,[U,q])=>`${I}${U}=${q},`,"");if(Ob(y)&&h!=="_self")return eS(e||"",h),new Z4(null);const E=window.open(e||"",h,_);Ae(E,t,"popup-blocked");try{E.focus()}catch{}return new Z4(E)}function eS(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tS="__/auth/handler",nS="emulator/auth/handler",rS=encodeURIComponent("fac");async function eg(t,e,n,r,i,s){Ae(t.config.authDomain,t,"auth-domain-config-required"),Ae(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:fa,eventId:i};if(e instanceof p6){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",ix(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,E]of Object.entries({}))u[_]=E}if(e instanceof su){const _=e.getScopes().filter(E=>E!=="");_.length>0&&(u.scopes=_.join(","))}t.tenantId&&(u.tid=t.tenantId);const h=u;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const f=await t._getAppCheckToken(),y=f?`#${rS}=${encodeURIComponent(f)}`:"";return`${iS(t)}?${ru(h).slice(1)}${y}`}function iS({config:t}){return t.emulator?Fp(t,nS):`https://${t.authDomain}/${tS}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lh="webStorageSupport";class sS{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=w6,this._completeRedirectFn=C_,this._overrideRedirectResult=k_}async _openPopup(e,n,r,i){var s;hi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const u=await eg(e,n,r,bf(),i);return Z_(e,u,Wp())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await eg(e,n,r,bf(),i);return l_(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(hi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await G_(e),r=new P_(e);return n.register("authEvent",i=>(Ae(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lh,{type:lh},i=>{var s;const u=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[lh];u!==void 0&&n(!!u),di(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=L_(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return c6()||i6()||qp()}}const oS=sS;var tg="@firebase/auth",ng="1.10.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ae(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function uS(t){ea(new Fs("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:u,authDomain:h}=r.options;Ae(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:h,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:d6(t)},y=new Bb(r,i,s,f);return Gb(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ea(new Fs("auth-internal",e=>{const n=$p(e.getProvider("auth").getImmediate());return(r=>new aS(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ns(tg,ng,lS(t)),Ns(tg,ng,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS=5*60,dS=B5("authIdTokenMaxAge")||cS;let rg=null;const hS=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>dS)return;const i=n==null?void 0:n.token;rg!==i&&(rg=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function k6(t=W5()){const e=zp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Wb(t,{popupRedirectResolver:oS,persistence:[y_,s_,w6]}),r=B5("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const u=hS(s.toString());n_(n,u,()=>u(n.currentUser)),t_(n,h=>u(h))}}const i=j5("auth");return i&&Kb(n,`http://${i}`),n}function fS(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Ub({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Lr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",fS().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});uS("Browser");var ig=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Kp;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(z,C){function D(){}D.prototype=C.prototype,z.D=C.prototype,z.prototype=new D,z.prototype.constructor=z,z.C=function(O,$,W){for(var j=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)j[Ke-2]=arguments[Ke];return C.prototype[$].apply(O,j)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(z,C,D){D||(D=0);var O=Array(16);if(typeof C=="string")for(var $=0;16>$;++$)O[$]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for($=0;16>$;++$)O[$]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=z.g[0],D=z.g[1],$=z.g[2];var W=z.g[3],j=C+(W^D&($^W))+O[0]+3614090360&4294967295;C=D+(j<<7&4294967295|j>>>25),j=W+($^C&(D^$))+O[1]+3905402710&4294967295,W=C+(j<<12&4294967295|j>>>20),j=$+(D^W&(C^D))+O[2]+606105819&4294967295,$=W+(j<<17&4294967295|j>>>15),j=D+(C^$&(W^C))+O[3]+3250441966&4294967295,D=$+(j<<22&4294967295|j>>>10),j=C+(W^D&($^W))+O[4]+4118548399&4294967295,C=D+(j<<7&4294967295|j>>>25),j=W+($^C&(D^$))+O[5]+1200080426&4294967295,W=C+(j<<12&4294967295|j>>>20),j=$+(D^W&(C^D))+O[6]+2821735955&4294967295,$=W+(j<<17&4294967295|j>>>15),j=D+(C^$&(W^C))+O[7]+4249261313&4294967295,D=$+(j<<22&4294967295|j>>>10),j=C+(W^D&($^W))+O[8]+1770035416&4294967295,C=D+(j<<7&4294967295|j>>>25),j=W+($^C&(D^$))+O[9]+2336552879&4294967295,W=C+(j<<12&4294967295|j>>>20),j=$+(D^W&(C^D))+O[10]+4294925233&4294967295,$=W+(j<<17&4294967295|j>>>15),j=D+(C^$&(W^C))+O[11]+2304563134&4294967295,D=$+(j<<22&4294967295|j>>>10),j=C+(W^D&($^W))+O[12]+1804603682&4294967295,C=D+(j<<7&4294967295|j>>>25),j=W+($^C&(D^$))+O[13]+4254626195&4294967295,W=C+(j<<12&4294967295|j>>>20),j=$+(D^W&(C^D))+O[14]+2792965006&4294967295,$=W+(j<<17&4294967295|j>>>15),j=D+(C^$&(W^C))+O[15]+1236535329&4294967295,D=$+(j<<22&4294967295|j>>>10),j=C+($^W&(D^$))+O[1]+4129170786&4294967295,C=D+(j<<5&4294967295|j>>>27),j=W+(D^$&(C^D))+O[6]+3225465664&4294967295,W=C+(j<<9&4294967295|j>>>23),j=$+(C^D&(W^C))+O[11]+643717713&4294967295,$=W+(j<<14&4294967295|j>>>18),j=D+(W^C&($^W))+O[0]+3921069994&4294967295,D=$+(j<<20&4294967295|j>>>12),j=C+($^W&(D^$))+O[5]+3593408605&4294967295,C=D+(j<<5&4294967295|j>>>27),j=W+(D^$&(C^D))+O[10]+38016083&4294967295,W=C+(j<<9&4294967295|j>>>23),j=$+(C^D&(W^C))+O[15]+3634488961&4294967295,$=W+(j<<14&4294967295|j>>>18),j=D+(W^C&($^W))+O[4]+3889429448&4294967295,D=$+(j<<20&4294967295|j>>>12),j=C+($^W&(D^$))+O[9]+568446438&4294967295,C=D+(j<<5&4294967295|j>>>27),j=W+(D^$&(C^D))+O[14]+3275163606&4294967295,W=C+(j<<9&4294967295|j>>>23),j=$+(C^D&(W^C))+O[3]+4107603335&4294967295,$=W+(j<<14&4294967295|j>>>18),j=D+(W^C&($^W))+O[8]+1163531501&4294967295,D=$+(j<<20&4294967295|j>>>12),j=C+($^W&(D^$))+O[13]+2850285829&4294967295,C=D+(j<<5&4294967295|j>>>27),j=W+(D^$&(C^D))+O[2]+4243563512&4294967295,W=C+(j<<9&4294967295|j>>>23),j=$+(C^D&(W^C))+O[7]+1735328473&4294967295,$=W+(j<<14&4294967295|j>>>18),j=D+(W^C&($^W))+O[12]+2368359562&4294967295,D=$+(j<<20&4294967295|j>>>12),j=C+(D^$^W)+O[5]+4294588738&4294967295,C=D+(j<<4&4294967295|j>>>28),j=W+(C^D^$)+O[8]+2272392833&4294967295,W=C+(j<<11&4294967295|j>>>21),j=$+(W^C^D)+O[11]+1839030562&4294967295,$=W+(j<<16&4294967295|j>>>16),j=D+($^W^C)+O[14]+4259657740&4294967295,D=$+(j<<23&4294967295|j>>>9),j=C+(D^$^W)+O[1]+2763975236&4294967295,C=D+(j<<4&4294967295|j>>>28),j=W+(C^D^$)+O[4]+1272893353&4294967295,W=C+(j<<11&4294967295|j>>>21),j=$+(W^C^D)+O[7]+4139469664&4294967295,$=W+(j<<16&4294967295|j>>>16),j=D+($^W^C)+O[10]+3200236656&4294967295,D=$+(j<<23&4294967295|j>>>9),j=C+(D^$^W)+O[13]+681279174&4294967295,C=D+(j<<4&4294967295|j>>>28),j=W+(C^D^$)+O[0]+3936430074&4294967295,W=C+(j<<11&4294967295|j>>>21),j=$+(W^C^D)+O[3]+3572445317&4294967295,$=W+(j<<16&4294967295|j>>>16),j=D+($^W^C)+O[6]+76029189&4294967295,D=$+(j<<23&4294967295|j>>>9),j=C+(D^$^W)+O[9]+3654602809&4294967295,C=D+(j<<4&4294967295|j>>>28),j=W+(C^D^$)+O[12]+3873151461&4294967295,W=C+(j<<11&4294967295|j>>>21),j=$+(W^C^D)+O[15]+530742520&4294967295,$=W+(j<<16&4294967295|j>>>16),j=D+($^W^C)+O[2]+3299628645&4294967295,D=$+(j<<23&4294967295|j>>>9),j=C+($^(D|~W))+O[0]+4096336452&4294967295,C=D+(j<<6&4294967295|j>>>26),j=W+(D^(C|~$))+O[7]+1126891415&4294967295,W=C+(j<<10&4294967295|j>>>22),j=$+(C^(W|~D))+O[14]+2878612391&4294967295,$=W+(j<<15&4294967295|j>>>17),j=D+(W^($|~C))+O[5]+4237533241&4294967295,D=$+(j<<21&4294967295|j>>>11),j=C+($^(D|~W))+O[12]+1700485571&4294967295,C=D+(j<<6&4294967295|j>>>26),j=W+(D^(C|~$))+O[3]+2399980690&4294967295,W=C+(j<<10&4294967295|j>>>22),j=$+(C^(W|~D))+O[10]+4293915773&4294967295,$=W+(j<<15&4294967295|j>>>17),j=D+(W^($|~C))+O[1]+2240044497&4294967295,D=$+(j<<21&4294967295|j>>>11),j=C+($^(D|~W))+O[8]+1873313359&4294967295,C=D+(j<<6&4294967295|j>>>26),j=W+(D^(C|~$))+O[15]+4264355552&4294967295,W=C+(j<<10&4294967295|j>>>22),j=$+(C^(W|~D))+O[6]+2734768916&4294967295,$=W+(j<<15&4294967295|j>>>17),j=D+(W^($|~C))+O[13]+1309151649&4294967295,D=$+(j<<21&4294967295|j>>>11),j=C+($^(D|~W))+O[4]+4149444226&4294967295,C=D+(j<<6&4294967295|j>>>26),j=W+(D^(C|~$))+O[11]+3174756917&4294967295,W=C+(j<<10&4294967295|j>>>22),j=$+(C^(W|~D))+O[2]+718787259&4294967295,$=W+(j<<15&4294967295|j>>>17),j=D+(W^($|~C))+O[9]+3951481745&4294967295,z.g[0]=z.g[0]+C&4294967295,z.g[1]=z.g[1]+($+(j<<21&4294967295|j>>>11))&4294967295,z.g[2]=z.g[2]+$&4294967295,z.g[3]=z.g[3]+W&4294967295}r.prototype.u=function(z,C){C===void 0&&(C=z.length);for(var D=C-this.blockSize,O=this.B,$=this.h,W=0;W<C;){if($==0)for(;W<=D;)i(this,z,W),W+=this.blockSize;if(typeof z=="string"){for(;W<C;)if(O[$++]=z.charCodeAt(W++),$==this.blockSize){i(this,O),$=0;break}}else for(;W<C;)if(O[$++]=z[W++],$==this.blockSize){i(this,O),$=0;break}}this.h=$,this.o+=C},r.prototype.v=function(){var z=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);z[0]=128;for(var C=1;C<z.length-8;++C)z[C]=0;var D=8*this.o;for(C=z.length-8;C<z.length;++C)z[C]=D&255,D/=256;for(this.u(z),z=Array(16),C=D=0;4>C;++C)for(var O=0;32>O;O+=8)z[D++]=this.g[C]>>>O&255;return z};function s(z,C){var D=h;return Object.prototype.hasOwnProperty.call(D,z)?D[z]:D[z]=C(z)}function u(z,C){this.h=C;for(var D=[],O=!0,$=z.length-1;0<=$;$--){var W=z[$]|0;O&&W==C||(D[$]=W,O=!1)}this.g=D}var h={};function f(z){return-128<=z&&128>z?s(z,function(C){return new u([C|0],0>C?-1:0)}):new u([z|0],0>z?-1:0)}function y(z){if(isNaN(z)||!isFinite(z))return E;if(0>z)return Q(y(-z));for(var C=[],D=1,O=0;z>=D;O++)C[O]=z/D|0,D*=4294967296;return new u(C,0)}function _(z,C){if(z.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(z.charAt(0)=="-")return Q(_(z.substring(1),C));if(0<=z.indexOf("-"))throw Error('number format error: interior "-" character');for(var D=y(Math.pow(C,8)),O=E,$=0;$<z.length;$+=8){var W=Math.min(8,z.length-$),j=parseInt(z.substring($,$+W),C);8>W?(W=y(Math.pow(C,W)),O=O.j(W).add(y(j))):(O=O.j(D),O=O.add(y(j)))}return O}var E=f(0),I=f(1),U=f(16777216);t=u.prototype,t.m=function(){if(X(this))return-Q(this).m();for(var z=0,C=1,D=0;D<this.g.length;D++){var O=this.i(D);z+=(0<=O?O:4294967296+O)*C,C*=4294967296}return z},t.toString=function(z){if(z=z||10,2>z||36<z)throw Error("radix out of range: "+z);if(q(this))return"0";if(X(this))return"-"+Q(this).toString(z);for(var C=y(Math.pow(z,6)),D=this,O="";;){var $=K(D,C).g;D=P(D,$.j(C));var W=((0<D.g.length?D.g[0]:D.h)>>>0).toString(z);if(D=$,q(D))return W+O;for(;6>W.length;)W="0"+W;O=W+O}},t.i=function(z){return 0>z?0:z<this.g.length?this.g[z]:this.h};function q(z){if(z.h!=0)return!1;for(var C=0;C<z.g.length;C++)if(z.g[C]!=0)return!1;return!0}function X(z){return z.h==-1}t.l=function(z){return z=P(this,z),X(z)?-1:q(z)?0:1};function Q(z){for(var C=z.g.length,D=[],O=0;O<C;O++)D[O]=~z.g[O];return new u(D,~z.h).add(I)}t.abs=function(){return X(this)?Q(this):this},t.add=function(z){for(var C=Math.max(this.g.length,z.g.length),D=[],O=0,$=0;$<=C;$++){var W=O+(this.i($)&65535)+(z.i($)&65535),j=(W>>>16)+(this.i($)>>>16)+(z.i($)>>>16);O=j>>>16,W&=65535,j&=65535,D[$]=j<<16|W}return new u(D,D[D.length-1]&-2147483648?-1:0)};function P(z,C){return z.add(Q(C))}t.j=function(z){if(q(this)||q(z))return E;if(X(this))return X(z)?Q(this).j(Q(z)):Q(Q(this).j(z));if(X(z))return Q(this.j(Q(z)));if(0>this.l(U)&&0>z.l(U))return y(this.m()*z.m());for(var C=this.g.length+z.g.length,D=[],O=0;O<2*C;O++)D[O]=0;for(O=0;O<this.g.length;O++)for(var $=0;$<z.g.length;$++){var W=this.i(O)>>>16,j=this.i(O)&65535,Ke=z.i($)>>>16,Te=z.i($)&65535;D[2*O+2*$]+=j*Te,M(D,2*O+2*$),D[2*O+2*$+1]+=W*Te,M(D,2*O+2*$+1),D[2*O+2*$+1]+=j*Ke,M(D,2*O+2*$+1),D[2*O+2*$+2]+=W*Ke,M(D,2*O+2*$+2)}for(O=0;O<C;O++)D[O]=D[2*O+1]<<16|D[2*O];for(O=C;O<2*C;O++)D[O]=0;return new u(D,0)};function M(z,C){for(;(z[C]&65535)!=z[C];)z[C+1]+=z[C]>>>16,z[C]&=65535,C++}function L(z,C){this.g=z,this.h=C}function K(z,C){if(q(C))throw Error("division by zero");if(q(z))return new L(E,E);if(X(z))return C=K(Q(z),C),new L(Q(C.g),Q(C.h));if(X(C))return C=K(z,Q(C)),new L(Q(C.g),C.h);if(30<z.g.length){if(X(z)||X(C))throw Error("slowDivide_ only works with positive integers.");for(var D=I,O=C;0>=O.l(z);)D=te(D),O=te(O);var $=ie(D,1),W=ie(O,1);for(O=ie(O,2),D=ie(D,2);!q(O);){var j=W.add(O);0>=j.l(z)&&($=$.add(D),W=j),O=ie(O,1),D=ie(D,1)}return C=P(z,$.j(C)),new L($,C)}for($=E;0<=z.l(C);){for(D=Math.max(1,Math.floor(z.m()/C.m())),O=Math.ceil(Math.log(D)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),W=y(D),j=W.j(C);X(j)||0<j.l(z);)D-=O,W=y(D),j=W.j(C);q(W)&&(W=I),$=$.add(W),z=P(z,j)}return new L($,z)}t.A=function(z){return K(this,z).h},t.and=function(z){for(var C=Math.max(this.g.length,z.g.length),D=[],O=0;O<C;O++)D[O]=this.i(O)&z.i(O);return new u(D,this.h&z.h)},t.or=function(z){for(var C=Math.max(this.g.length,z.g.length),D=[],O=0;O<C;O++)D[O]=this.i(O)|z.i(O);return new u(D,this.h|z.h)},t.xor=function(z){for(var C=Math.max(this.g.length,z.g.length),D=[],O=0;O<C;O++)D[O]=this.i(O)^z.i(O);return new u(D,this.h^z.h)};function te(z){for(var C=z.g.length+1,D=[],O=0;O<C;O++)D[O]=z.i(O)<<1|z.i(O-1)>>>31;return new u(D,z.h)}function ie(z,C){var D=C>>5;C%=32;for(var O=z.g.length-D,$=[],W=0;W<O;W++)$[W]=0<C?z.i(W+D)>>>C|z.i(W+D+1)<<32-C:z.i(W+D);return new u($,z.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=y,u.fromString=_,Kp=u}).apply(typeof ig<"u"?ig:typeof self<"u"?self:typeof window<"u"?window:{});var e0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var A6,tl,I6,E0,Ef,C6,N6,P6;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,x){return c==Array.prototype||c==Object.prototype||(c[g]=x.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof e0=="object"&&e0];for(var g=0;g<c.length;++g){var x=c[g];if(x&&x.Math==Math)return x}throw Error("Cannot find global object")}var r=n(this);function i(c,g){if(g)e:{var x=r;c=c.split(".");for(var N=0;N<c.length-1;N++){var J=c[N];if(!(J in x))break e;x=x[J]}c=c[c.length-1],N=x[c],g=g(N),g!=N&&g!=null&&e(x,c,{configurable:!0,writable:!0,value:g})}}function s(c,g){c instanceof String&&(c+="");var x=0,N=!1,J={next:function(){if(!N&&x<c.length){var ne=x++;return{value:g(ne,c[ne]),done:!1}}return N=!0,{done:!0,value:void 0}}};return J[Symbol.iterator]=function(){return J},J}i("Array.prototype.values",function(c){return c||function(){return s(this,function(g,x){return x})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},h=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function y(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function _(c,g,x){return c.call.apply(c.bind,arguments)}function E(c,g,x){if(!c)throw Error();if(2<arguments.length){var N=Array.prototype.slice.call(arguments,2);return function(){var J=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(J,N),c.apply(g,J)}}return function(){return c.apply(g,arguments)}}function I(c,g,x){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:E,I.apply(null,arguments)}function U(c,g){var x=Array.prototype.slice.call(arguments,1);return function(){var N=x.slice();return N.push.apply(N,arguments),c.apply(this,N)}}function q(c,g){function x(){}x.prototype=g.prototype,c.aa=g.prototype,c.prototype=new x,c.prototype.constructor=c,c.Qb=function(N,J,ne){for(var fe=Array(arguments.length-2),Ge=2;Ge<arguments.length;Ge++)fe[Ge-2]=arguments[Ge];return g.prototype[J].apply(N,fe)}}function X(c){const g=c.length;if(0<g){const x=Array(g);for(let N=0;N<g;N++)x[N]=c[N];return x}return[]}function Q(c,g){for(let x=1;x<arguments.length;x++){const N=arguments[x];if(f(N)){const J=c.length||0,ne=N.length||0;c.length=J+ne;for(let fe=0;fe<ne;fe++)c[J+fe]=N[fe]}else c.push(N)}}class P{constructor(g,x){this.i=g,this.j=x,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function M(c){return/^[\s\xa0]*$/.test(c)}function L(){var c=h.navigator;return c&&(c=c.userAgent)?c:""}function K(c){return K[" "](c),c}K[" "]=function(){};var te=L().indexOf("Gecko")!=-1&&!(L().toLowerCase().indexOf("webkit")!=-1&&L().indexOf("Edge")==-1)&&!(L().indexOf("Trident")!=-1||L().indexOf("MSIE")!=-1)&&L().indexOf("Edge")==-1;function ie(c,g,x){for(const N in c)g.call(x,c[N],N,c)}function z(c,g){for(const x in c)g.call(void 0,c[x],x,c)}function C(c){const g={};for(const x in c)g[x]=c[x];return g}const D="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(c,g){let x,N;for(let J=1;J<arguments.length;J++){N=arguments[J];for(x in N)c[x]=N[x];for(let ne=0;ne<D.length;ne++)x=D[ne],Object.prototype.hasOwnProperty.call(N,x)&&(c[x]=N[x])}}function $(c){var g=1;c=c.split(":");const x=[];for(;0<g&&c.length;)x.push(c.shift()),g--;return c.length&&x.push(c.join(":")),x}function W(c){h.setTimeout(()=>{throw c},0)}function j(){var c=Ee;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class Ke{constructor(){this.h=this.g=null}add(g,x){const N=Te.get();N.set(g,x),this.h?this.h.next=N:this.g=N,this.h=N}}var Te=new P(()=>new $e,c=>c.reset());class $e{constructor(){this.next=this.g=this.h=null}set(g,x){this.h=g,this.g=x,this.next=null}reset(){this.next=this.g=this.h=null}}let St,me=!1,Ee=new Ke,Ce=()=>{const c=h.Promise.resolve(void 0);St=()=>{c.then(oe)}};var oe=()=>{for(var c;c=j();){try{c.h.call(c.g)}catch(x){W(x)}var g=Te;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}me=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Me(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}Me.prototype.h=function(){this.defaultPrevented=!0};var Et=function(){if(!h.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const x=()=>{};h.addEventListener("test",x,g),h.removeEventListener("test",x,g)}catch{}return c}();function Pt(c,g){if(Me.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var x=this.type=c.type,N=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(te){e:{try{K(g.nodeName);var J=!0;break e}catch{}J=!1}J||(g=null)}}else x=="mouseover"?g=c.fromElement:x=="mouseout"&&(g=c.toElement);this.relatedTarget=g,N?(this.clientX=N.clientX!==void 0?N.clientX:N.pageX,this.clientY=N.clientY!==void 0?N.clientY:N.pageY,this.screenX=N.screenX||0,this.screenY=N.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:sn[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Pt.aa.h.call(this)}}q(Pt,Me);var sn={2:"touch",3:"pen",4:"mouse"};Pt.prototype.h=function(){Pt.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ir="closure_listenable_"+(1e6*Math.random()|0),Yc=0;function Jc(c,g,x,N,J){this.listener=c,this.proxy=null,this.src=g,this.type=x,this.capture=!!N,this.ha=J,this.key=++Yc,this.da=this.fa=!1}function Ys(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Js(c){this.src=c,this.g={},this.h=0}Js.prototype.add=function(c,g,x,N,J){var ne=c.toString();c=this.g[ne],c||(c=this.g[ne]=[],this.h++);var fe=va(c,g,N,J);return-1<fe?(g=c[fe],x||(g.fa=!1)):(g=new Jc(g,this.src,ne,!!N,J),g.fa=x,c.push(g)),g};function ya(c,g){var x=g.type;if(x in c.g){var N=c.g[x],J=Array.prototype.indexOf.call(N,g,void 0),ne;(ne=0<=J)&&Array.prototype.splice.call(N,J,1),ne&&(Ys(g),c.g[x].length==0&&(delete c.g[x],c.h--))}}function va(c,g,x,N){for(var J=0;J<c.length;++J){var ne=c[J];if(!ne.da&&ne.listener==g&&ne.capture==!!x&&ne.ha==N)return J}return-1}var wa="closure_lm_"+(1e6*Math.random()|0),xa={};function ba(c,g,x,N,J){if(Array.isArray(g)){for(var ne=0;ne<g.length;ne++)ba(c,g[ne],x,N,J);return null}return x=fu(x),c&&c[ir]?c.K(g,x,y(N)?!!N.capture:!1,J):Zc(c,g,x,!1,N,J)}function Zc(c,g,x,N,J,ne){if(!g)throw Error("Invalid event type");var fe=y(J)?!!J.capture:!!J,Ge=is(c);if(Ge||(c[wa]=Ge=new Js(c)),x=Ge.add(g,x,N,fe,ne),x.proxy)return x;if(N=rs(),x.proxy=N,N.src=c,N.listener=x,c.addEventListener)Et||(J=fe),J===void 0&&(J=!1),c.addEventListener(g.toString(),N,J);else if(c.attachEvent)c.attachEvent(_a(g.toString()),N);else if(c.addListener&&c.removeListener)c.addListener(N);else throw Error("addEventListener and attachEvent are unavailable.");return x}function rs(){function c(x){return g.call(c.src,c.listener,x)}const g=ed;return c}function Dn(c,g,x,N,J){if(Array.isArray(g))for(var ne=0;ne<g.length;ne++)Dn(c,g[ne],x,N,J);else N=y(N)?!!N.capture:!!N,x=fu(x),c&&c[ir]?(c=c.i,g=String(g).toString(),g in c.g&&(ne=c.g[g],x=va(ne,x,N,J),-1<x&&(Ys(ne[x]),Array.prototype.splice.call(ne,x,1),ne.length==0&&(delete c.g[g],c.h--)))):c&&(c=is(c))&&(g=c.g[g.toString()],c=-1,g&&(c=va(g,x,N,J)),(x=-1<c?g[c]:null)&&gi(x))}function gi(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[ir])ya(g.i,c);else{var x=c.type,N=c.proxy;g.removeEventListener?g.removeEventListener(x,N,c.capture):g.detachEvent?g.detachEvent(_a(x),N):g.addListener&&g.removeListener&&g.removeListener(N),(x=is(g))?(ya(x,c),x.h==0&&(x.src=null,g[wa]=null)):Ys(c)}}}function _a(c){return c in xa?xa[c]:xa[c]="on"+c}function ed(c,g){if(c.da)c=!0;else{g=new Pt(g,this);var x=c.listener,N=c.ha||c.src;c.fa&&gi(c),c=x.call(N,g)}return c}function is(c){return c=c[wa],c instanceof Js?c:null}var ss="__closure_events_fn_"+(1e9*Math.random()>>>0);function fu(c){return typeof c=="function"?c:(c[ss]||(c[ss]=function(g){return c.handleEvent(g)}),c[ss])}function Lt(){_e.call(this),this.i=new Js(this),this.M=this,this.F=null}q(Lt,_e),Lt.prototype[ir]=!0,Lt.prototype.removeEventListener=function(c,g,x,N){Dn(this,c,g,x,N)};function zt(c,g){var x,N=c.F;if(N)for(x=[];N;N=N.F)x.push(N);if(c=c.M,N=g.type||g,typeof g=="string")g=new Me(g,c);else if(g instanceof Me)g.target=g.target||c;else{var J=g;g=new Me(N,c),O(g,J)}if(J=!0,x)for(var ne=x.length-1;0<=ne;ne--){var fe=g.g=x[ne];J=os(fe,N,!0,g)&&J}if(fe=g.g=c,J=os(fe,N,!0,g)&&J,J=os(fe,N,!1,g)&&J,x)for(ne=0;ne<x.length;ne++)fe=g.g=x[ne],J=os(fe,N,!1,g)&&J}Lt.prototype.N=function(){if(Lt.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var x=c.g[g],N=0;N<x.length;N++)Ys(x[N]);delete c.g[g],c.h--}}this.F=null},Lt.prototype.K=function(c,g,x,N){return this.i.add(String(c),g,!1,x,N)},Lt.prototype.L=function(c,g,x,N){return this.i.add(String(c),g,!0,x,N)};function os(c,g,x,N){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var J=!0,ne=0;ne<g.length;++ne){var fe=g[ne];if(fe&&!fe.da&&fe.capture==x){var Ge=fe.listener,kt=fe.ha||fe.src;fe.fa&&ya(c.i,fe),J=Ge.call(kt,N)!==!1&&J}}return J&&!N.defaultPrevented}function $n(c,g,x){if(typeof c=="function")x&&(c=I(c,x));else if(c&&typeof c.handleEvent=="function")c=I(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:h.setTimeout(c,g||0)}function pu(c){c.g=$n(()=>{c.g=null,c.i&&(c.i=!1,pu(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class Sa extends _e{constructor(g,x){super(),this.m=g,this.l=x,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:pu(this)}N(){super.N(),this.g&&(h.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(c){_e.call(this),this.h=c,this.g={}}q(as,_e);var Ea=[];function et(c){ie(c.g,function(g,x){this.g.hasOwnProperty(x)&&gi(g)},c),c.g={}}as.prototype.N=function(){as.aa.N.call(this),et(this)},as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=h.JSON.stringify,br=h.JSON.parse,mu=class{stringify(c){return h.JSON.stringify(c,void 0)}parse(c){return h.JSON.parse(c,void 0)}};function Zs(){}Zs.prototype.h=null;function gu(c){return c.h||(c.h=c.i())}function Ta(){}var sr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ls(){Me.call(this,"d")}q(ls,Me);function ka(){Me.call(this,"c")}q(ka,Me);var Br={},mn=null;function kn(){return mn=mn||new Lt}Br.La="serverreachability";function or(c){Me.call(this,Br.La,c)}q(or,Me);function Ur(c){const g=kn();zt(g,new or(g))}Br.STAT_EVENT="statevent";function Aa(c,g){Me.call(this,Br.STAT_EVENT,c),this.stat=g}q(Aa,Me);function Gt(c){const g=kn();zt(g,new Aa(g,c))}Br.Ma="timingevent";function yu(c,g){Me.call(this,Br.Ma,c),this.size=g}q(yu,Me);function us(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return h.setTimeout(function(){c()},g)}function _r(){this.g=!0}_r.prototype.xa=function(){this.g=!1};function it(c,g,x,N,J,ne){c.info(function(){if(c.g)if(ne)for(var fe="",Ge=ne.split("&"),kt=0;kt<Ge.length;kt++){var Oe=Ge[kt].split("=");if(1<Oe.length){var Rt=Oe[0];Oe=Oe[1];var Bt=Rt.split("_");fe=2<=Bt.length&&Bt[1]=="type"?fe+(Rt+"="+Oe+"&"):fe+(Rt+"=redacted&")}}else fe=null;else fe=ne;return"XMLHTTP REQ ("+N+") [attempt "+J+"]: "+g+`
`+x+`
`+fe})}function m(c,g,x,N,J,ne,fe){c.info(function(){return"XMLHTTP RESP ("+N+") [ attempt "+J+"]: "+g+`
`+x+`
`+ne+" "+fe})}function v(c,g,x,N){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+S(c,x)+(N?" "+N:"")})}function le(c,g){c.info(function(){return"TIMEOUT: "+g})}_r.prototype.info=function(){};function S(c,g){if(!c.g)return g;if(!g)return null;try{var x=JSON.parse(g);if(x){for(c=0;c<x.length;c++)if(Array.isArray(x[c])){var N=x[c];if(!(2>N.length)){var J=N[1];if(Array.isArray(J)&&!(1>J.length)){var ne=J[0];if(ne!="noop"&&ne!="stop"&&ne!="close")for(var fe=1;fe<J.length;fe++)J[fe]=""}}}}return he(x)}catch{return g}}var V={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Je={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ge;function Tt(){}q(Tt,Zs),Tt.prototype.g=function(){return new XMLHttpRequest},Tt.prototype.i=function(){return{}},ge=new Tt;function gn(c,g,x,N){this.j=c,this.i=g,this.l=x,this.R=N||1,this.U=new as(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Se}function Se(){this.i=null,this.g="",this.h=!1}var ht={},Kt={};function yi(c,g,x){c.L=1,c.v=io(ar(g)),c.m=x,c.P=!0,F(c,null)}function F(c,g){c.F=Date.now(),cs(c),c.A=ar(c.v);var x=c.A,N=c.R;Array.isArray(N)||(N=[String(N)]),gs(x.i,"t",N),c.C=0,x=c.j.J,c.h=new Se,c.g=po(c.j,x?g:null,!c.m),0<c.O&&(c.M=new Sa(I(c.Y,c,c.g),c.O)),g=c.U,x=c.g,N=c.ca;var J="readystatechange";Array.isArray(J)||(J&&(Ea[0]=J.toString()),J=Ea);for(var ne=0;ne<J.length;ne++){var fe=ba(x,J[ne],N||g.handleEvent,!1,g.h||g);if(!fe)break;g.g[fe.key]=fe}g=c.H?C(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),Ur(),it(c.i,c.u,c.A,c.l,c.R,c.m)}gn.prototype.ca=function(c){c=c.target;const g=this.M;g&&ae(c)==3?g.j():this.Y(c)},gn.prototype.Y=function(c){try{if(c==this.g)e:{const Bt=ae(this.g);var g=this.g.Ba();const Qr=this.g.Z();if(!(3>Bt)&&(Bt!=3||this.g&&(this.h.h||this.g.oa()||wn(this.g)))){this.J||Bt!=4||g==7||(g==8||0>=Qr?Ur(3):Ur(2)),eo(this);var x=this.g.Z();this.X=x;t:if(Hn(this)){var N=wn(this.g);c="";var J=N.length,ne=ae(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){be(this),Sr(this);var fe="";break t}this.h.i=new h.TextDecoder}for(g=0;g<J;g++)this.h.h=!0,c+=this.h.i.decode(N[g],{stream:!(ne&&g==J-1)});N.length=0,this.h.g+=c,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=x==200,m(this.i,this.u,this.A,this.l,this.R,Bt,x),this.o){if(this.T&&!this.K){t:{if(this.g){var Ge,kt=this.g;if((Ge=kt.g?kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(Ge)){var Oe=Ge;break t}}Oe=null}if(x=Oe)v(this.i,this.l,x,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ds(this,x);else{this.o=!1,this.s=3,Gt(12),be(this),Sr(this);break e}}if(this.P){x=!0;let Xt;for(;!this.J&&this.C<fe.length;)if(Xt=H(this,fe),Xt==Kt){Bt==4&&(this.s=4,Gt(14),x=!1),v(this.i,this.l,null,"[Incomplete Response]");break}else if(Xt==ht){this.s=4,Gt(15),v(this.i,this.l,fe,"[Invalid Chunk]"),x=!1;break}else v(this.i,this.l,Xt,null),ds(this,Xt);if(Hn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Bt!=4||fe.length!=0||this.h.h||(this.s=1,Gt(16),x=!1),this.o=this.o&&x,!x)v(this.i,this.l,fe,"[Invalid Chunked Response]"),be(this),Sr(this);else if(0<fe.length&&!this.W){this.W=!0;var Rt=this.j;Rt.g==this&&Rt.ba&&!Rt.M&&(Rt.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),La(Rt),Rt.M=!0,Gt(11))}}else v(this.i,this.l,fe,null),ds(this,fe);Bt==4&&be(this),this.o&&!this.J&&(Bt==4?od(this.j,this):(this.o=!1,cs(this)))}else Ma(this.g),x==400&&0<fe.indexOf("Unknown SID")?(this.s=3,Gt(12)):(this.s=0,Gt(13)),be(this),Sr(this)}}}catch{}finally{}};function Hn(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function H(c,g){var x=c.C,N=g.indexOf(`
`,x);return N==-1?Kt:(x=Number(g.substring(x,N)),isNaN(x)?ht:(N+=1,N+x>g.length?Kt:(g=g.slice(N,N+x),c.C=N+x,g)))}gn.prototype.cancel=function(){this.J=!0,be(this)};function cs(c){c.S=Date.now()+c.I,Ia(c,c.I)}function Ia(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=us(I(c.ba,c),g)}function eo(c){c.B&&(h.clearTimeout(c.B),c.B=null)}gn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(le(this.i,this.A),this.L!=2&&(Ur(),Gt(17)),be(this),this.s=2,Sr(this)):Ia(this,this.S-c)};function Sr(c){c.j.G==0||c.J||od(c.j,c)}function be(c){eo(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,et(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function ds(c,g){try{var x=c.j;if(x.G!=0&&(x.g==c||yn(x.h,c))){if(!c.K&&yn(x.h,c)&&x.G==3){try{var N=x.Da.g.parse(g)}catch{N=null}if(Array.isArray(N)&&N.length==3){var J=N;if(J[0]==0){e:if(!x.u){if(x.g)if(x.g.F+3e3<c.F)za(x),On(x);else break e;Oa(x),Gt(18)}}else x.za=J[1],0<x.za-x.T&&37500>J[2]&&x.F&&x.v==0&&!x.C&&(x.C=us(I(x.Za,x),6e3));if(1>=hs(x.h)&&x.ca){try{x.ca()}catch{}x.ca=void 0}}else ke(x,11)}else if((c.K||x.g==c)&&za(x),!M(g))for(J=x.Da.g.parse(g),g=0;g<J.length;g++){let Oe=J[g];if(x.T=Oe[0],Oe=Oe[1],x.G==2)if(Oe[0]=="c"){x.K=Oe[1],x.ia=Oe[2];const Rt=Oe[3];Rt!=null&&(x.la=Rt,x.j.info("VER="+x.la));const Bt=Oe[4];Bt!=null&&(x.Aa=Bt,x.j.info("SVER="+x.Aa));const Qr=Oe[5];Qr!=null&&typeof Qr=="number"&&0<Qr&&(N=1.5*Qr,x.L=N,x.j.info("backChannelRequestTimeoutMs_="+N)),N=x;const Xt=c.g;if(Xt){const xi=Xt.g?Xt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(xi){var ne=N.h;ne.g||xi.indexOf("spdy")==-1&&xi.indexOf("quic")==-1&&xi.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(Na(ne,ne.h),ne.h=null))}if(N.D){const go=Xt.g?Xt.g.getResponseHeader("X-HTTP-Session-Id"):null;go&&(N.ya=go,Ze(N.I,N.D,go))}}x.G=3,x.l&&x.l.ua(),x.ba&&(x.R=Date.now()-c.F,x.j.info("Handshake RTT: "+x.R+"ms")),N=x;var fe=c;if(N.qa=xs(N,N.J?N.ia:null,N.W),fe.K){wu(N.h,fe);var Ge=fe,kt=N.L;kt&&(Ge.I=kt),Ge.B&&(eo(Ge),cs(Ge)),N.g=fe}else Au(N);0<x.i.length&&vs(x)}else Oe[0]!="stop"&&Oe[0]!="close"||ke(x,7);else x.G==3&&(Oe[0]=="stop"||Oe[0]=="close"?Oe[0]=="stop"?ke(x,7):jt(x):Oe[0]!="noop"&&x.l&&x.l.ta(Oe),x.v=0)}}Ur(4)}catch{}}var to=class{constructor(c,g){this.g=c,this.map=g}};function Ca(c){this.l=c||10,h.PerformanceNavigationTiming?(c=h.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(h.chrome&&h.chrome.loadTimes&&h.chrome.loadTimes()&&h.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function vu(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function hs(c){return c.h?1:c.g?c.g.size:0}function yn(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Na(c,g){c.g?c.g.add(g):c.h=g}function wu(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}Ca.prototype.cancel=function(){if(this.i=xu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function xu(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const x of c.g.values())g=g.concat(x.D);return g}return X(c.i)}function td(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],x=c.length,N=0;N<x;N++)g.push(c[N]);return g}g=[],x=0;for(N in c)g[x++]=c[N];return g}function nd(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var x=0;x<c;x++)g.push(x);return g}g=[],x=0;for(const N in c)g[x++]=N;return g}}}function no(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var x=nd(c),N=td(c),J=N.length,ne=0;ne<J;ne++)g.call(void 0,N[ne],x&&x[ne],c)}var Qt=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bu(c,g){if(c){c=c.split("&");for(var x=0;x<c.length;x++){var N=c[x].indexOf("="),J=null;if(0<=N){var ne=c[x].substring(0,N);J=c[x].substring(N+1)}else ne=c[x];g(ne,J?decodeURIComponent(J.replace(/\+/g," ")):"")}}}function qr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof qr){this.h=c.h,fs(this,c.j),this.o=c.o,this.g=c.g,ro(this,c.s),this.l=c.l;var g=c.i,x=new ps;x.i=g.i,g.g&&(x.g=new Map(g.g),x.h=g.h),_u(this,x),this.m=c.m}else c&&(g=String(c).match(Qt))?(this.h=!1,fs(this,g[1]||"",!0),this.o=Er(g[2]||""),this.g=Er(g[3]||"",!0),ro(this,g[4]),this.l=Er(g[5]||"",!0),_u(this,g[6]||"",!0),this.m=Er(g[7]||"")):(this.h=!1,this.i=new ps(null,this.h))}qr.prototype.toString=function(){var c=[],g=this.j;g&&c.push(vi(g,rd,!0),":");var x=this.g;return(x||g=="file")&&(c.push("//"),(g=this.o)&&c.push(vi(g,rd,!0),"@"),c.push(encodeURIComponent(String(x)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),x=this.s,x!=null&&c.push(":",String(x))),(x=this.l)&&(this.g&&x.charAt(0)!="/"&&c.push("/"),c.push(vi(x,x.charAt(0)=="/"?st:Z,!0))),(x=this.i.toString())&&c.push("?",x),(x=this.m)&&c.push("#",vi(x,lr)),c.join("")};function ar(c){return new qr(c)}function fs(c,g,x){c.j=x?Er(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function ro(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function _u(c,g,x){g instanceof ps?(c.i=g,Hr(c.i,c.h)):(x||(g=vi(g,$r)),c.i=new ps(g,c.h))}function Ze(c,g,x){c.i.set(g,x)}function io(c){return Ze(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Er(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function vi(c,g,x){return typeof c=="string"?(c=encodeURI(c).replace(g,Su),x&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Su(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var rd=/[#\/\?@]/g,Z=/[#\?:]/g,st=/[#\?]/g,$r=/[#\?@]/g,lr=/#/g;function ps(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function Tr(c){c.g||(c.g=new Map,c.h=0,c.i&&bu(c.i,function(g,x){c.add(decodeURIComponent(g.replace(/\+/g," ")),x)}))}t=ps.prototype,t.add=function(c,g){Tr(this),this.i=null,c=pe(this,c);var x=this.g.get(c);return x||this.g.set(c,x=[]),x.push(g),this.h+=1,this};function Pa(c,g){Tr(c),g=pe(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function ms(c,g){return Tr(c),g=pe(c,g),c.g.has(g)}t.forEach=function(c,g){Tr(this),this.g.forEach(function(x,N){x.forEach(function(J){c.call(g,J,N,this)},this)},this)},t.na=function(){Tr(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),x=[];for(let N=0;N<g.length;N++){const J=c[N];for(let ne=0;ne<J.length;ne++)x.push(g[N])}return x},t.V=function(c){Tr(this);let g=[];if(typeof c=="string")ms(this,c)&&(g=g.concat(this.g.get(pe(this,c))));else{c=Array.from(this.g.values());for(let x=0;x<c.length;x++)g=g.concat(c[x])}return g},t.set=function(c,g){return Tr(this),this.i=null,c=pe(this,c),ms(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function gs(c,g,x){Pa(c,g),0<x.length&&(c.i=null,c.g.set(pe(c,g),X(x)),c.h+=x.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var x=0;x<g.length;x++){var N=g[x];const ne=encodeURIComponent(String(N)),fe=this.V(N);for(N=0;N<fe.length;N++){var J=ne;fe[N]!==""&&(J+="="+encodeURIComponent(String(fe[N]))),c.push(J)}}return this.i=c.join("&")};function pe(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function Hr(c,g){g&&!c.j&&(Tr(c),c.i=null,c.g.forEach(function(x,N){var J=N.toLowerCase();N!=J&&(Pa(this,N),gs(this,J,x))},c)),c.j=g}function so(c,g){const x=new _r;if(h.Image){const N=new Image;N.onload=U(Vt,x,"TestLoadImage: loaded",!0,g,N),N.onerror=U(Vt,x,"TestLoadImage: error",!1,g,N),N.onabort=U(Vt,x,"TestLoadImage: abort",!1,g,N),N.ontimeout=U(Vt,x,"TestLoadImage: timeout",!1,g,N),h.setTimeout(function(){N.ontimeout&&N.ontimeout()},1e4),N.src=c}else g(!1)}function ft(c,g){const x=new _r,N=new AbortController,J=setTimeout(()=>{N.abort(),Vt(x,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:N.signal}).then(ne=>{clearTimeout(J),ne.ok?Vt(x,"TestPingServer: ok",!0,g):Vt(x,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(J),Vt(x,"TestPingServer: error",!1,g)})}function Vt(c,g,x,N,J){try{J&&(J.onload=null,J.onerror=null,J.onabort=null,J.ontimeout=null),N(x)}catch{}}function id(){this.g=new mu}function sd(c,g,x){const N=x||"";try{no(c,function(J,ne){let fe=J;y(J)&&(fe=he(J)),g.push(N+ne+"="+encodeURIComponent(fe))})}catch(J){throw g.push(N+"type="+encodeURIComponent("_badmap")),J}}function oo(c){this.l=c.Ub||null,this.j=c.eb||!1}q(oo,Zs),oo.prototype.g=function(){return new ao(this.l,this.j)},oo.prototype.i=function(c){return function(){return c}}({});function ao(c,g){Lt.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}q(ao,Lt),t=ao.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,wi(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||h).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wr(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,wi(this)),this.g&&(this.readyState=3,wi(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof h.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;vt(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function vt(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Wr(this):wi(this),this.readyState==3&&vt(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Wr(this))},t.Qa=function(c){this.g&&(this.response=c,Wr(this))},t.ga=function(){this.g&&Wr(this)};function Wr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,wi(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var x=g.next();!x.done;)x=x.value,c.push(x[0]+": "+x[1]),x=g.next();return c.join(`\r
`)};function wi(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ao.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function lo(c){let g="";return ie(c,function(x,N){g+=N,g+=":",g+=x,g+=`\r
`}),g}function ys(c,g,x){e:{for(N in x){var N=!1;break e}N=!0}N||(x=lo(x),typeof c=="string"?x!=null&&encodeURIComponent(String(x)):Ze(c,g,x))}function Ye(c){Lt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}q(Ye,Lt);var ze=/^https?$/i,uo=["POST","PUT"];t=Ye.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,x,N){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ge.g(),this.v=this.o?gu(this.o):gu(ge),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(ne){co(this,ne);return}if(c=x||"",x=new Map(this.headers),N)if(Object.getPrototypeOf(N)===Object.prototype)for(var J in N)x.set(J,N[J]);else if(typeof N.keys=="function"&&typeof N.get=="function")for(const ne of N.keys())x.set(ne,N.get(ne));else throw Error("Unknown input type for opt_headers: "+String(N));N=Array.from(x.keys()).find(ne=>ne.toLowerCase()=="content-type"),J=h.FormData&&c instanceof h.FormData,!(0<=Array.prototype.indexOf.call(uo,g,void 0))||N||J||x.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,fe]of x)this.g.setRequestHeader(ne,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Eu(this),this.u=!0,this.g.send(c),this.u=!1}catch(ne){co(this,ne)}};function co(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,Ra(c),vn(c)}function Ra(c){c.A||(c.A=!0,zt(c,"complete"),zt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,zt(this,"complete"),zt(this,"abort"),vn(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vn(this,!0)),Ye.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?on(this):this.bb())},t.bb=function(){on(this)};function on(c){if(c.h&&typeof u<"u"&&(!c.v[1]||ae(c)!=4||c.Z()!=2)){if(c.u&&ae(c)==4)$n(c.Ea,0,c);else if(zt(c,"readystatechange"),ae(c)==4){c.h=!1;try{const fe=c.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var x;if(!(x=g)){var N;if(N=fe===0){var J=String(c.D).match(Qt)[1]||null;!J&&h.self&&h.self.location&&(J=h.self.location.protocol.slice(0,-1)),N=!ze.test(J?J.toLowerCase():"")}x=N}if(x)zt(c,"complete"),zt(c,"success");else{c.m=6;try{var ne=2<ae(c)?c.g.statusText:""}catch{ne=""}c.l=ne+" ["+c.Z()+"]",Ra(c)}}finally{vn(c)}}}}function vn(c,g){if(c.g){Eu(c);const x=c.g,N=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||zt(c,"ready");try{x.onreadystatechange=N}catch{}}}function Eu(c){c.I&&(h.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function ae(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<ae(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),br(g)}};function wn(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ma(c){const g={};c=(c.g&&2<=ae(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let N=0;N<c.length;N++){if(M(c[N]))continue;var x=$(c[N]);const J=x[0];if(x=x[1],typeof x!="string")continue;x=x.trim();const ne=g[J]||[];g[J]=ne,ne.push(x)}z(g,function(N){return N.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Gr(c,g,x){return x&&x.internalChannelParams&&x.internalChannelParams[c]||g}function ho(c){this.Aa=0,this.i=[],this.j=new _r,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gr("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gr("baseRetryDelayMs",5e3,c),this.cb=Gr("retryDelaySeedMs",1e4,c),this.Wa=Gr("forwardChannelMaxRetries",2,c),this.wa=Gr("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ca(c&&c.concurrentRequestLimit),this.Da=new id,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=ho.prototype,t.la=8,t.G=1,t.connect=function(c,g,x,N){Gt(0),this.W=c,this.H=g||{},x&&N!==void 0&&(this.H.OSID=x,this.H.OAID=N),this.F=this.X,this.I=xs(this,null,this.W),vs(this)};function jt(c){if(We(c),c.G==3){var g=c.U++,x=ar(c.I);if(Ze(x,"SID",c.K),Ze(x,"RID",g),Ze(x,"TYPE","terminate"),ws(c,x),g=new gn(c,c.j,g),g.L=2,g.v=io(ar(x)),x=!1,h.navigator&&h.navigator.sendBeacon)try{x=h.navigator.sendBeacon(g.v.toString(),"")}catch{}!x&&h.Image&&(new Image().src=g.v,x=!0),x||(g.g=po(g.j,null),g.g.ea(g.v)),g.F=Date.now(),cs(g)}fo(c)}function On(c){c.g&&(La(c),c.g.cancel(),c.g=null)}function We(c){On(c),c.u&&(h.clearTimeout(c.u),c.u=null),za(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&h.clearTimeout(c.s),c.s=null)}function vs(c){if(!vu(c.h)&&!c.s){c.s=!0;var g=c.Ga;St||Ce(),me||(St(),me=!0),Ee.add(g,c),c.B=0}}function Tu(c,g){return hs(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=us(I(c.Ga,c,g),Wn(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const J=new gn(this,this.j,c);let ne=this.o;if(this.S&&(ne?(ne=C(ne),O(ne,this.S)):ne=this.S),this.m!==null||this.O||(J.H=ne,ne=null),this.P)e:{for(var g=0,x=0;x<this.i.length;x++){t:{var N=this.i[x];if("__data__"in N.map&&(N=N.map.__data__,typeof N=="string")){N=N.length;break t}N=void 0}if(N===void 0)break;if(g+=N,4096<g){g=x;break e}if(g===4096||x===this.i.length-1){g=x+1;break e}}g=1e3}else g=1e3;g=ku(this,J,g),x=ar(this.I),Ze(x,"RID",c),Ze(x,"CVER",22),this.D&&Ze(x,"X-HTTP-Session-Id",this.D),ws(this,x),ne&&(this.O?g="headers="+encodeURIComponent(String(lo(ne)))+"&"+g:this.m&&ys(x,this.m,ne)),Na(this.h,J),this.Ua&&Ze(x,"TYPE","init"),this.P?(Ze(x,"$req",g),Ze(x,"SID","null"),J.T=!0,yi(J,x,null)):yi(J,x,g),this.G=2}}else this.G==3&&(c?Da(this,c):this.i.length==0||vu(this.h)||Da(this))};function Da(c,g){var x;g?x=g.l:x=c.U++;const N=ar(c.I);Ze(N,"SID",c.K),Ze(N,"RID",x),Ze(N,"AID",c.T),ws(c,N),c.m&&c.o&&ys(N,c.m,c.o),x=new gn(c,c.j,x,c.B+1),c.m===null&&(x.H=c.o),g&&(c.i=g.D.concat(c.i)),g=ku(c,x,1e3),x.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Na(c.h,x),yi(x,N,g)}function ws(c,g){c.H&&ie(c.H,function(x,N){Ze(g,N,x)}),c.l&&no({},function(x,N){Ze(g,N,x)})}function ku(c,g,x){x=Math.min(c.i.length,x);var N=c.l?I(c.l.Na,c.l,c):null;e:{var J=c.i;let ne=-1;for(;;){const fe=["count="+x];ne==-1?0<x?(ne=J[0].g,fe.push("ofs="+ne)):ne=0:fe.push("ofs="+ne);let Ge=!0;for(let kt=0;kt<x;kt++){let Oe=J[kt].g;const Rt=J[kt].map;if(Oe-=ne,0>Oe)ne=Math.max(0,J[kt].g-100),Ge=!1;else try{sd(Rt,fe,"req"+Oe+"_")}catch{N&&N(Rt)}}if(Ge){N=fe.join("&");break e}}}return c=c.i.splice(0,x),g.D=c,N}function Au(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;St||Ce(),me||(St(),me=!0),Ee.add(g,c),c.v=0}}function Oa(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=us(I(c.Fa,c),Wn(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=us(I(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Gt(10),On(this),Iu(this))};function La(c){c.A!=null&&(h.clearTimeout(c.A),c.A=null)}function Iu(c){c.g=new gn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=ar(c.qa);Ze(g,"RID","rpc"),Ze(g,"SID",c.K),Ze(g,"AID",c.T),Ze(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ze(g,"TO",c.ja),Ze(g,"TYPE","xmlhttp"),ws(c,g),c.m&&c.o&&ys(g,c.m,c.o),c.L&&(c.g.I=c.L);var x=c.g;c=c.ia,x.L=1,x.v=io(ar(g)),x.m=null,x.P=!0,F(x,c)}t.Za=function(){this.C!=null&&(this.C=null,On(this),Oa(this),Gt(19))};function za(c){c.C!=null&&(h.clearTimeout(c.C),c.C=null)}function od(c,g){var x=null;if(c.g==g){za(c),La(c),c.g=null;var N=2}else if(yn(c.h,g))x=g.D,wu(c.h,g),N=1;else return;if(c.G!=0){if(g.o)if(N==1){x=g.m?g.m.length:0,g=Date.now()-g.F;var J=c.B;N=kn(),zt(N,new yu(N,x)),vs(c)}else Au(c);else if(J=g.s,J==3||J==0&&0<g.X||!(N==1&&Tu(c,g)||N==2&&Oa(c)))switch(x&&0<x.length&&(g=c.h,g.i=g.i.concat(x)),J){case 1:ke(c,5);break;case 4:ke(c,10);break;case 3:ke(c,6);break;default:ke(c,2)}}}function Wn(c,g){let x=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(x*=2),x*g}function ke(c,g){if(c.j.info("Error code "+g),g==2){var x=I(c.fb,c),N=c.Xa;const J=!N;N=new qr(N||"//www.google.com/images/cleardot.gif"),h.location&&h.location.protocol=="http"||fs(N,"https"),io(N),J?so(N.toString(),x):ft(N.toString(),x)}else Gt(2);c.G=0,c.l&&c.l.sa(g),fo(c),We(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Gt(2)):(this.j.info("Failed to ping google.com"),Gt(1))};function fo(c){if(c.G=0,c.ka=[],c.l){const g=xu(c.h);(g.length!=0||c.i.length!=0)&&(Q(c.ka,g),Q(c.ka,c.i),c.h.i.length=0,X(c.i),c.i.length=0),c.l.ra()}}function xs(c,g,x){var N=x instanceof qr?ar(x):new qr(x);if(N.g!="")g&&(N.g=g+"."+N.g),ro(N,N.s);else{var J=h.location;N=J.protocol,g=g?g+"."+J.hostname:J.hostname,J=+J.port;var ne=new qr(null);N&&fs(ne,N),g&&(ne.g=g),J&&ro(ne,J),x&&(ne.l=x),N=ne}return x=c.D,g=c.ya,x&&g&&Ze(N,x,g),Ze(N,"VER",c.la),ws(c,N),N}function po(c,g,x){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new Ye(new oo({eb:x})):new Ye(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Va(){}t=Va.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function mo(){}mo.prototype.g=function(c,g){return new Ft(c,g)};function Ft(c,g){Lt.call(this),this.g=new ho(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!M(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!M(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Kr(this)}q(Ft,Lt),Ft.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ft.prototype.close=function(){jt(this.g)},Ft.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var x={};x.__data__=c,c=x}else this.u&&(x={},x.__data__=he(c),c=x);g.i.push(new to(g.Ya++,c)),g.G==3&&vs(g)},Ft.prototype.N=function(){this.g.l=null,delete this.j,jt(this.g),delete this.g,Ft.aa.N.call(this)};function Cu(c){ls.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const x in g){c=x;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}q(Cu,ls);function ja(){ka.call(this),this.status=1}q(ja,ka);function Kr(c){this.g=c}q(Kr,Va),Kr.prototype.ua=function(){zt(this.g,"a")},Kr.prototype.ta=function(c){zt(this.g,new Cu(c))},Kr.prototype.sa=function(c){zt(this.g,new ja)},Kr.prototype.ra=function(){zt(this.g,"b")},mo.prototype.createWebChannel=mo.prototype.g,Ft.prototype.send=Ft.prototype.o,Ft.prototype.open=Ft.prototype.m,Ft.prototype.close=Ft.prototype.close,P6=function(){return new mo},N6=function(){return kn()},C6=Br,Ef={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},V.NO_ERROR=0,V.TIMEOUT=8,V.HTTP_ERROR=6,E0=V,Je.COMPLETE="complete",I6=Je,Ta.EventType=sr,sr.OPEN="a",sr.CLOSE="b",sr.ERROR="c",sr.MESSAGE="d",Lt.prototype.listen=Lt.prototype.K,tl=Ta,Ye.prototype.listenOnce=Ye.prototype.L,Ye.prototype.getLastError=Ye.prototype.Ka,Ye.prototype.getLastErrorCode=Ye.prototype.Ba,Ye.prototype.getStatus=Ye.prototype.Z,Ye.prototype.getResponseJson=Ye.prototype.Oa,Ye.prototype.getResponseText=Ye.prototype.oa,Ye.prototype.send=Ye.prototype.ea,Ye.prototype.setWithCredentials=Ye.prototype.Ha,A6=Ye}).apply(typeof e0<"u"?e0:typeof self<"u"?self:typeof window<"u"?window:{});const sg="@firebase/firestore",og="4.7.16";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ma="11.8.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new Op("@firebase/firestore");function xo(){return Us.logLevel}function we(t,...e){if(Us.logLevel<=Le.DEBUG){const n=e.map(Qp);Us.debug(`Firestore (${ma}): ${t}`,...n)}}function qs(t,...e){if(Us.logLevel<=Le.ERROR){const n=e.map(Qp);Us.error(`Firestore (${ma}): ${t}`,...n)}}function Uc(t,...e){if(Us.logLevel<=Le.WARN){const n=e.map(Qp);Us.warn(`Firestore (${ma}): ${t}`,...n)}}function Qp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,R6(t,r,n)}function R6(t,e,n){let r=`FIRESTORE (${ma}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw qs(r),new Error(r)}function bt(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||R6(e,i,r)}function rt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const de={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends mi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M6{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class pS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(cn.UNAUTHENTICATED))}shutdown(){}}class mS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class gS{constructor(e){this.t=e,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){bt(this.o===void 0,42304);let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let s=new Rs;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Rs,e.enqueueRetryable(()=>i(this.currentUser))};const u=()=>{const f=s;e.enqueueRetryable(async()=>{await f.promise,await i(this.currentUser)})},h=f=>{we("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(f=>h(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(we("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Rs)}},0),u()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(we("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(bt(typeof r.accessToken=="string",31837,{l:r}),new M6(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string",2055,{h:e}),new cn(e)}}class yS{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class vS{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new yS(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(cn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ag{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wS{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mr(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){bt(this.o===void 0,3512);const r=s=>{s.error!=null&&we("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const u=s.token!==this.m;return this.m=s.token,we("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{we("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):we("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new ag(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(bt(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new ag(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D6{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=xS(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Ue(t,e){return t<e?-1:t>e?1:0}function Tf(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return Ue(r,i);{const s=bS(),u=_S(s.encode(lg(t,n)),s.encode(lg(e,n)));return u!==0?u:Ue(r,i)}}n+=r>65535?2:1}return Ue(t.length,e.length)}function lg(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function _S(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return Ue(t[n],e[n]);return Ue(t.length,e.length)}function na(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ug=-62135596800,cg=1e6;class Wt{static now(){return Wt.fromMillis(Date.now())}static fromDate(e){return Wt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*cg);return new Wt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Ie(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ie(de.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<ug)throw new Ie(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(de.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cg}_compareTo(e){return this.seconds===e.seconds?Ue(this.nanoseconds,e.nanoseconds):Ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-ug;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{static fromTimestamp(e){return new ct(e)}static min(){return new ct(new Wt(0,0))}static max(){return new ct(new Wt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dg="__name__";class Pr{constructor(e,n,r){n===void 0?n=0:n>e.length&&Re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&Re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Pr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Pr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Pr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Ue(e.length,n.length)}static compareSegments(e,n){const r=Pr.isNumericId(e),i=Pr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Pr.extractNumericId(e).compare(Pr.extractNumericId(n)):Tf(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Kp.fromString(e.substring(4,e.length-2))}}class It extends Pr{construct(e,n,r){return new It(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ie(de.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new It(n)}static emptyPath(){return new It([])}}const SS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Pr{construct(e,n,r){return new en(e,n,r)}static isValidIdentifier(e){return SS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===dg}static keyField(){return new en([dg])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ie(de.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let u=!1;for(;i<e.length;){const h=e[i];if(h==="\\"){if(i+1===e.length)throw new Ie(de.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Ie(de.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else h==="`"?(u=!u,i++):h!=="."||u?(r+=h,i++):(s(),i++)}if(s(),u)throw new Ie(de.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new en(n)}static emptyPath(){return new en([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(It.fromString(e))}static fromName(e){return new Ne(It.fromString(e).popFirst(5))}static empty(){return new Ne(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return It.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new It(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=-1;function ES(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ct.fromTimestamp(r===1e9?new Wt(n+1,0):new Wt(n,r));return new Xi(i,Ne.empty(),e)}function TS(t){return new Xi(t.readTime,t.key,Fl)}class Xi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xi(ct.min(),Ne.empty(),Fl)}static max(){return new Xi(ct.max(),Ne.empty(),Fl)}}function kS(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Ne.comparator(t.documentKey,e.documentKey),n!==0?n:Ue(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class IS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xp(t){if(t.code!==de.FAILED_PRECONDITION||t.message!==AS)throw t;we("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new se((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof se?n:se.resolve(n)}catch(n){return se.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):se.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):se.reject(n)}static resolve(e){return new se((n,r)=>{n(e)})}static reject(e){return new se((n,r)=>{r(e)})}static waitFor(e){return new se((n,r)=>{let i=0,s=0,u=!1;e.forEach(h=>{++i,h.next(()=>{++s,u&&s===i&&n()},f=>r(f))}),u=!0,s===i&&n()})}static or(e){let n=se.resolve(!1);for(const r of e)n=n.next(i=>i?se.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new se((r,i)=>{const s=e.length,u=new Array(s);let h=0;for(let f=0;f<s;f++){const y=f;n(e[y]).next(_=>{u[y]=_,++h,h===s&&r(u)},_=>i(_))}})}static doWhile(e,n){return new se((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function CS(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function au(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Yp.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp=-1;function Zp(t){return t==null}function lc(t){return t===0&&1/t==-1/0}function NS(t){return typeof t=="number"&&Number.isInteger(t)&&!lc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O6="";function PS(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=hg(e)),e=RS(t.get(n),e);return hg(e)}function RS(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case O6:n+="";break;default:n+=s}}return n}function hg(t){return t+O6+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ga(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function L6(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mn{constructor(e,n){this.comparator=e,this.root=n||Jt.EMPTY}insert(e,n){return new Mn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Jt.BLACK,null,null))}remove(e){return new Mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Jt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new t0(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new t0(this.root,e,this.comparator,!1)}getReverseIterator(){return new t0(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new t0(this.root,e,this.comparator,!0)}}class t0{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Jt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Jt.RED,this.left=i??Jt.EMPTY,this.right=s??Jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Jt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Jt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}Jt.EMPTY=null,Jt.RED=!0,Jt.BLACK=!1;Jt.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Jt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.comparator=e,this.data=new Mn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new pg(this.data.getIterator())}getIteratorFrom(e){return new pg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new nn(this.comparator);return n.data=e,n}}class pg{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e){this.fields=e,e.sort(en.comparator)}static empty(){return new yr([])}unionWith(e){let n=new nn(en.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new yr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return na(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new MS("Invalid base64 string: "+s):s}}(e);return new jr(n)}static fromUint8Array(e){const n=function(i){let s="";for(let u=0;u<i.length;++u)s+=String.fromCharCode(i[u]);return s}(e);return new jr(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jr.EMPTY_BYTE_STRING=new jr("");const DS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(t){if(bt(!!t,39018),typeof t=="string"){let e=0;const n=DS.exec(t);if(bt(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zt(t.seconds),nanos:Zt(t.nanos)}}function Zt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ra(t){return typeof t=="string"?jr.fromBase64String(t):jr.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z6="server_timestamp",V6="__type__",j6="__previous_value__",F6="__local_write_time__";function em(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[V6])===null||n===void 0?void 0:n.stringValue)===z6}function tm(t){const e=t.mapValue.fields[j6];return em(e)?tm(e):e}function uc(t){const e=$s(t.mapValue.fields[F6].timestampValue);return new Wt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OS{constructor(e,n,r,i,s,u,h,f,y,_){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=u,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=y,this.isUsingEmulator=_}}const cc="(default)";class dc{constructor(e,n){this.projectId=e,this.database=n||cc}static empty(){return new dc("","")}get isDefaultDatabase(){return this.database===cc}isEqual(e){return e instanceof dc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6="__type__",LS="__max__",n0={mapValue:{}},U6="__vector__",kf="value";function Hs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?em(t)?4:VS(t)?9007199254740991:zS(t)?10:11:Re(28295,{value:t})}function Fr(t,e){if(t===e)return!0;const n=Hs(t);if(n!==Hs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return uc(t).isEqual(uc(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const u=$s(i.timestampValue),h=$s(s.timestampValue);return u.seconds===h.seconds&&u.nanos===h.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return ra(i.bytesValue).isEqual(ra(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Zt(i.geoPointValue.latitude)===Zt(s.geoPointValue.latitude)&&Zt(i.geoPointValue.longitude)===Zt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Zt(i.integerValue)===Zt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const u=Zt(i.doubleValue),h=Zt(s.doubleValue);return u===h?lc(u)===lc(h):isNaN(u)&&isNaN(h)}return!1}(t,e);case 9:return na(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(i,s){const u=i.mapValue.fields||{},h=s.mapValue.fields||{};if(fg(u)!==fg(h))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(h[f]===void 0||!Fr(u[f],h[f])))return!1;return!0}(t,e);default:return Re(52216,{left:t})}}function Bl(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function ia(t,e){if(t===e)return 0;const n=Hs(t),r=Hs(e);if(n!==r)return Ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ue(t.booleanValue,e.booleanValue);case 2:return function(s,u){const h=Zt(s.integerValue||s.doubleValue),f=Zt(u.integerValue||u.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1}(t,e);case 3:return mg(t.timestampValue,e.timestampValue);case 4:return mg(uc(t),uc(e));case 5:return Tf(t.stringValue,e.stringValue);case 6:return function(s,u){const h=ra(s),f=ra(u);return h.compareTo(f)}(t.bytesValue,e.bytesValue);case 7:return function(s,u){const h=s.split("/"),f=u.split("/");for(let y=0;y<h.length&&y<f.length;y++){const _=Ue(h[y],f[y]);if(_!==0)return _}return Ue(h.length,f.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,u){const h=Ue(Zt(s.latitude),Zt(u.latitude));return h!==0?h:Ue(Zt(s.longitude),Zt(u.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return gg(t.arrayValue,e.arrayValue);case 10:return function(s,u){var h,f,y,_;const E=s.fields||{},I=u.fields||{},U=(h=E[kf])===null||h===void 0?void 0:h.arrayValue,q=(f=I[kf])===null||f===void 0?void 0:f.arrayValue,X=Ue(((y=U==null?void 0:U.values)===null||y===void 0?void 0:y.length)||0,((_=q==null?void 0:q.values)===null||_===void 0?void 0:_.length)||0);return X!==0?X:gg(U,q)}(t.mapValue,e.mapValue);case 11:return function(s,u){if(s===n0.mapValue&&u===n0.mapValue)return 0;if(s===n0.mapValue)return 1;if(u===n0.mapValue)return-1;const h=s.fields||{},f=Object.keys(h),y=u.fields||{},_=Object.keys(y);f.sort(),_.sort();for(let E=0;E<f.length&&E<_.length;++E){const I=Tf(f[E],_[E]);if(I!==0)return I;const U=ia(h[f[E]],y[_[E]]);if(U!==0)return U}return Ue(f.length,_.length)}(t.mapValue,e.mapValue);default:throw Re(23264,{Pe:n})}}function mg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ue(t,e);const n=$s(t),r=$s(e),i=Ue(n.seconds,r.seconds);return i!==0?i:Ue(n.nanos,r.nanos)}function gg(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=ia(n[i],r[i]);if(s)return s}return Ue(n.length,r.length)}function sa(t){return Af(t)}function Af(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=$s(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ra(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Ne.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Af(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const u of r)s?s=!1:i+=",",i+=`${u}:${Af(n.fields[u])}`;return i+"}"}(t.mapValue):Re(61005,{value:t})}function T0(t){switch(Hs(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tm(t);return e?16+T0(e):16;case 5:return 2*t.stringValue.length;case 6:return ra(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+T0(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return ga(r.fields,(s,u)=>{i+=s.length+T0(u)}),i}(t.mapValue);default:throw Re(13486,{value:t})}}function If(t){return!!t&&"integerValue"in t}function nm(t){return!!t&&"arrayValue"in t}function k0(t){return!!t&&"mapValue"in t}function zS(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[B6])===null||n===void 0?void 0:n.stringValue)===U6}function pl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ga(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=pl(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=pl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function VS(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===LS}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.value=e}static empty(){return new mr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!k0(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=pl(n)}setAll(e){let n=en.emptyPath(),r={},i=[];e.forEach((u,h)=>{if(!n.isImmediateParentOf(h)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=h.popLast()}u?r[h.lastSegment()]=pl(u):i.push(h.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());k0(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];k0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ga(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new mr(pl(this.value))}}function q6(t){const e=[];return ga(t.fields,(n,r)=>{const i=new en([n]);if(k0(r)){const s=q6(r.mapValue).fields;if(s.length===0)e.push(i);else for(const u of s)e.push(i.child(u))}else e.push(i)}),new yr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,n,r,i,s,u,h){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=u,this.documentState=h}static newInvalidDocument(e){return new fr(e,0,ct.min(),ct.min(),ct.min(),mr.empty(),0)}static newFoundDocument(e,n,r,i){return new fr(e,1,n,ct.min(),r,i,0)}static newNoDocument(e,n){return new fr(e,2,n,ct.min(),ct.min(),mr.empty(),0)}static newUnknownDocument(e,n){return new fr(e,3,n,ct.min(),ct.min(),mr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ct.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,n){this.position=e,this.inclusive=n}}function yg(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],u=t.position[i];if(s.field.isKeyField()?r=Ne.comparator(Ne.fromName(u.referenceValue),n.key):r=ia(u,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function vg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(e,n="asc"){this.field=e,this.dir=n}}function jS(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $6{}class $t extends $6{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new BS(e,n,r):n==="array-contains"?new $S(e,r):n==="in"?new HS(e,r):n==="not-in"?new WS(e,r):n==="array-contains-any"?new GS(e,r):new $t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new US(e,r):new qS(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(ia(n,this.value)):n!==null&&Hs(this.value)===Hs(n)&&this.matchesComparison(ia(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yi extends $6{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Yi(e,n)}matches(e){return H6(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function H6(t){return t.op==="and"}function W6(t){return FS(t)&&H6(t)}function FS(t){for(const e of t.filters)if(e instanceof Yi)return!1;return!0}function Cf(t){if(t instanceof $t)return t.field.canonicalString()+t.op.toString()+sa(t.value);if(W6(t))return t.filters.map(e=>Cf(e)).join(",");{const e=t.filters.map(n=>Cf(n)).join(",");return`${t.op}(${e})`}}function G6(t,e){return t instanceof $t?function(r,i){return i instanceof $t&&r.op===i.op&&r.field.isEqual(i.field)&&Fr(r.value,i.value)}(t,e):t instanceof Yi?function(r,i){return i instanceof Yi&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,u,h)=>s&&G6(u,i.filters[h]),!0):!1}(t,e):void Re(19439)}function K6(t){return t instanceof $t?function(n){return`${n.field.canonicalString()} ${n.op} ${sa(n.value)}`}(t):t instanceof Yi?function(n){return n.op.toString()+" {"+n.getFilters().map(K6).join(" ,")+"}"}(t):"Filter"}class BS extends $t{constructor(e,n,r){super(e,n,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const n=Ne.comparator(e.key,this.key);return this.matchesComparison(n)}}class US extends $t{constructor(e,n){super(e,"in",n),this.keys=Q6("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class qS extends $t{constructor(e,n){super(e,"not-in",n),this.keys=Q6("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Q6(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Ne.fromName(r.referenceValue))}class $S extends $t{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return nm(n)&&Bl(n.arrayValue,this.value)}}class HS extends $t{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Bl(this.value.arrayValue,n)}}class WS extends $t{constructor(e,n){super(e,"not-in",n)}matches(e){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Bl(this.value.arrayValue,n)}}class GS extends $t{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!nm(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Bl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,n=null,r=[],i=[],s=null,u=null,h=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=u,this.endAt=h,this.Ie=null}}function wg(t,e=null,n=[],r=[],i=null,s=null,u=null){return new KS(t,e,n,r,i,s,u)}function rm(t){const e=rt(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Cf(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Zp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>sa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>sa(r)).join(",")),e.Ie=n}return e.Ie}function im(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jS(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!G6(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!vg(t.startAt,e.startAt)&&vg(t.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e,n=null,r=[],i=[],s=null,u="F",h=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=u,this.startAt=h,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function QS(t,e,n,r,i,s,u,h){return new qc(t,e,n,r,i,s,u,h)}function XS(t){return new qc(t)}function xg(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function YS(t){return t.collectionGroup!==null}function ml(t){const e=rt(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ee.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let h=new nn(en.comparator);return u.filters.forEach(f=>{f.getFlattenedFilters().forEach(y=>{y.isInequality()&&(h=h.add(y.field))})}),h})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ee.push(new fc(s,r))}),n.has(en.keyField().canonicalString())||e.Ee.push(new fc(en.keyField(),r))}return e.Ee}function Ms(t){const e=rt(t);return e.de||(e.de=JS(e,ml(t))),e.de}function JS(t,e){if(t.limitType==="F")return wg(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new fc(i.field,s)});const n=t.endAt?new hc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new hc(t.startAt.position,t.startAt.inclusive):null;return wg(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Nf(t,e,n){return new qc(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function X6(t,e){return im(Ms(t),Ms(e))&&t.limitType===e.limitType}function Y6(t){return`${rm(Ms(t))}|lt:${t.limitType}`}function Xa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>K6(i)).join(", ")}]`),Zp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>sa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>sa(i)).join(",")),`Target(${r})`}(Ms(t))}; limitType=${t.limitType})`}function sm(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ne.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ml(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(u,h,f){const y=yg(u,h,f);return u.inclusive?y<=0:y<0}(r.startAt,ml(r),i)||r.endAt&&!function(u,h,f){const y=yg(u,h,f);return u.inclusive?y>=0:y>0}(r.endAt,ml(r),i))}(t,e)}function ZS(t){return(e,n)=>{let r=!1;for(const i of ml(t)){const s=eE(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function eE(t,e,n){const r=t.field.isKeyField()?Ne.comparator(e.key,n.key):function(s,u,h){const f=u.data.field(s),y=h.data.field(s);return f!==null&&y!==null?ia(f,y):Re(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ga(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return L6(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=new Mn(Ne.comparator);function pc(){return tE}const J6=new Mn(Ne.comparator);function r0(...t){let e=J6;for(const n of t)e=e.insert(n.key,n);return e}function Z6(t){let e=J6;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function As(){return gl()}function ey(){return gl()}function gl(){return new Qs(t=>t.toString(),(t,e)=>t.isEqual(e))}const nE=new Mn(Ne.comparator),rE=new nn(Ne.comparator);function hn(...t){let e=rE;for(const n of t)e=e.add(n);return e}const iE=new nn(Ue);function sE(){return iE}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(e)?"-0":e}}function ty(t){return{integerValue:""+t}}function oE(t,e){return NS(e)?ty(e):om(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(){this._=void 0}}function aE(t,e,n){return t instanceof mc?function(i,s){const u={fields:{[V6]:{stringValue:z6},[F6]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&em(s)&&(s=tm(s)),s&&(u.fields[j6]=s),{mapValue:u}}(n,e):t instanceof Ul?ry(t,e):t instanceof ql?iy(t,e):function(i,s){const u=ny(i,s),h=bg(u)+bg(i.Re);return If(u)&&If(i.Re)?ty(h):om(i.serializer,h)}(t,e)}function lE(t,e,n){return t instanceof Ul?ry(t,e):t instanceof ql?iy(t,e):n}function ny(t,e){return t instanceof gc?function(r){return If(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class mc extends $c{}class Ul extends $c{constructor(e){super(),this.elements=e}}function ry(t,e){const n=sy(e);for(const r of t.elements)n.some(i=>Fr(i,r))||n.push(r);return{arrayValue:{values:n}}}class ql extends $c{constructor(e){super(),this.elements=e}}function iy(t,e){let n=sy(e);for(const r of t.elements)n=n.filter(i=>!Fr(i,r));return{arrayValue:{values:n}}}class gc extends $c{constructor(e,n){super(),this.serializer=e,this.Re=n}}function bg(t){return Zt(t.integerValue||t.doubleValue)}function sy(t){return nm(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function uE(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ul&&i instanceof Ul||r instanceof ql&&i instanceof ql?na(r.elements,i.elements,Fr):r instanceof gc&&i instanceof gc?Fr(r.Re,i.Re):r instanceof mc&&i instanceof mc}(t.transform,e.transform)}class cE{constructor(e,n){this.version=e,this.transformResults=n}}class ii{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ii}static exists(e){return new ii(void 0,e)}static updateTime(e){return new ii(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function A0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Hc{}function oy(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new ly(t.key,ii.none()):new lu(t.key,t.data,ii.none());{const n=t.data,r=mr.empty();let i=new nn(en.comparator);for(let s of e.fields)if(!i.has(s)){let u=n.field(s);u===null&&s.length>1&&(s=s.popLast(),u=n.field(s)),u===null?r.delete(s):r.set(s,u),i=i.add(s)}return new Xs(t.key,r,new yr(i.toArray()),ii.none())}}function dE(t,e,n){t instanceof lu?function(i,s,u){const h=i.value.clone(),f=Sg(i.fieldTransforms,s,u.transformResults);h.setAll(f),s.convertToFoundDocument(u.version,h).setHasCommittedMutations()}(t,e,n):t instanceof Xs?function(i,s,u){if(!A0(i.precondition,s))return void s.convertToUnknownDocument(u.version);const h=Sg(i.fieldTransforms,s,u.transformResults),f=s.data;f.setAll(ay(i)),f.setAll(h),s.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(t,e,n):function(i,s,u){s.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,n)}function yl(t,e,n,r){return t instanceof lu?function(s,u,h,f){if(!A0(s.precondition,u))return h;const y=s.value.clone(),_=Eg(s.fieldTransforms,f,u);return y.setAll(_),u.convertToFoundDocument(u.version,y).setHasLocalMutations(),null}(t,e,n,r):t instanceof Xs?function(s,u,h,f){if(!A0(s.precondition,u))return h;const y=Eg(s.fieldTransforms,f,u),_=u.data;return _.setAll(ay(s)),_.setAll(y),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),h===null?null:h.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(E=>E.field))}(t,e,n,r):function(s,u,h){return A0(s.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):h}(t,e,n)}function hE(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=ny(r.transform,i||null);s!=null&&(n===null&&(n=mr.empty()),n.set(r.field,s))}return n||null}function _g(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&na(r,i,(s,u)=>uE(s,u))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lu extends Hc{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Xs extends Hc{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function ay(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Sg(t,e,n){const r=new Map;bt(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let i=0;i<n.length;i++){const s=t[i],u=s.transform,h=e.data.field(s.field);r.set(s.field,lE(u,h,n[i]))}return r}function Eg(t,e,n){const r=new Map;for(const i of t){const s=i.transform,u=n.data.field(i.field);r.set(i.field,aE(s,u,e))}return r}class ly extends Hc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fE extends Hc{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&dE(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=yl(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=yl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=ey();return this.mutations.forEach(i=>{const s=e.get(i.key),u=s.overlayedDocument;let h=this.applyToLocalView(u,s.mutatedFields);h=n.has(i.key)?null:h;const f=oy(u,h);f!==null&&r.set(i.key,f),u.isValidDocument()||u.convertToNoDocument(ct.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),hn())}isEqual(e){return this.batchId===e.batchId&&na(this.mutations,e.mutations,(n,r)=>_g(n,r))&&na(this.baseMutations,e.baseMutations,(n,r)=>_g(n,r))}}class am{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){bt(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return nE}();const s=e.mutations;for(let u=0;u<s.length;u++)i=i.insert(s[u].key,r[u].version);return new am(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,Fe;function gE(t){switch(t){case de.OK:return Re(64938);case de.CANCELLED:case de.UNKNOWN:case de.DEADLINE_EXCEEDED:case de.RESOURCE_EXHAUSTED:case de.INTERNAL:case de.UNAVAILABLE:case de.UNAUTHENTICATED:return!1;case de.INVALID_ARGUMENT:case de.NOT_FOUND:case de.ALREADY_EXISTS:case de.PERMISSION_DENIED:case de.FAILED_PRECONDITION:case de.ABORTED:case de.OUT_OF_RANGE:case de.UNIMPLEMENTED:case de.DATA_LOSS:return!0;default:return Re(15467,{code:t})}}function yE(t){if(t===void 0)return qs("GRPC error has no .code"),de.UNKNOWN;switch(t){case At.OK:return de.OK;case At.CANCELLED:return de.CANCELLED;case At.UNKNOWN:return de.UNKNOWN;case At.DEADLINE_EXCEEDED:return de.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return de.RESOURCE_EXHAUSTED;case At.INTERNAL:return de.INTERNAL;case At.UNAVAILABLE:return de.UNAVAILABLE;case At.UNAUTHENTICATED:return de.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return de.INVALID_ARGUMENT;case At.NOT_FOUND:return de.NOT_FOUND;case At.ALREADY_EXISTS:return de.ALREADY_EXISTS;case At.PERMISSION_DENIED:return de.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return de.FAILED_PRECONDITION;case At.ABORTED:return de.ABORTED;case At.OUT_OF_RANGE:return de.OUT_OF_RANGE;case At.UNIMPLEMENTED:return de.UNIMPLEMENTED;case At.DATA_LOSS:return de.DATA_LOSS;default:return Re(39323,{code:t})}}(Fe=At||(At={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Kp([4294967295,4294967295],0);class vE{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Pf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function wE(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function xE(t,e){return Pf(t,e.toTimestamp())}function Ho(t){return bt(!!t,49232),ct.fromTimestamp(function(n){const r=$s(n);return new Wt(r.seconds,r.nanos)}(t))}function uy(t,e){return Rf(t,e).canonicalString()}function Rf(t,e){const n=function(i){return new It(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function bE(t){const e=It.fromString(t);return bt(CE(e),10190,{key:e.toString()}),e}function Mf(t,e){return uy(t.databaseId,e.path)}function _E(t){const e=bE(t);return e.length===4?It.emptyPath():EE(e)}function SE(t){return new It(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function EE(t){return bt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Tg(t,e,n){return{name:Mf(t,e),fields:n.value.mapValue.fields}}function TE(t,e){let n;if(e instanceof lu)n={update:Tg(t,e.key,e.value)};else if(e instanceof ly)n={delete:Mf(t,e.key)};else if(e instanceof Xs)n={update:Tg(t,e.key,e.data),updateMask:IE(e.fieldMask)};else{if(!(e instanceof fE))return Re(16599,{ft:e.type});n={verify:Mf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const h=u.transform;if(h instanceof mc)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof Ul)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof ql)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof gc)return{fieldPath:u.field.canonicalString(),increment:h.Re};throw Re(20930,{transform:u.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:xE(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Re(27497)}(t,e.precondition)),n}function kE(t,e){return t&&t.length>0?(bt(e!==void 0,14353),t.map(n=>function(i,s){let u=i.updateTime?Ho(i.updateTime):Ho(s);return u.isEqual(ct.min())&&(u=Ho(s)),new cE(u,i.transformResults||[])}(n,e))):[]}function AE(t){let e=_E(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){bt(r===1,65062);const _=n.from[0];_.allDescendants?i=_.collectionId:e=e.child(_.collectionId)}let s=[];n.where&&(s=function(E){const I=cy(E);return I instanceof Yi&&W6(I)?I.getFilters():[I]}(n.where));let u=[];n.orderBy&&(u=function(E){return E.map(I=>function(q){return new fc(bo(q.field),function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(q.direction))}(I))}(n.orderBy));let h=null;n.limit&&(h=function(E){let I;return I=typeof E=="object"?E.value:E,Zp(I)?null:I}(n.limit));let f=null;n.startAt&&(f=function(E){const I=!!E.before,U=E.values||[];return new hc(U,I)}(n.startAt));let y=null;return n.endAt&&(y=function(E){const I=!E.before,U=E.values||[];return new hc(U,I)}(n.endAt)),QS(e,i,u,s,h,"F",f,y)}function cy(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bo(n.unaryFilter.field);return $t.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=bo(n.unaryFilter.field);return $t.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=bo(n.unaryFilter.field);return $t.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=bo(n.unaryFilter.field);return $t.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(t):t.fieldFilter!==void 0?function(n){return $t.create(bo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yi.create(n.compositeFilter.filters.map(r=>cy(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(n.compositeFilter.op))}(t):Re(30097,{filter:t})}function bo(t){return en.fromServerFormat(t.fieldPath)}function IE(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function CE(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.wt=e}}function PE(t){const e=AE({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Nf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(){this.Cn=new ME}addToCollectionParentIndex(e,n){return this.Cn.add(n),se.resolve()}getCollectionParents(e,n){return se.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return se.resolve()}deleteFieldIndex(e,n){return se.resolve()}deleteAllFieldIndexes(e){return se.resolve()}createTargetIndexes(e,n){return se.resolve()}getDocumentsMatchingTarget(e,n){return se.resolve(null)}getIndexType(e,n){return se.resolve(0)}getFieldIndexes(e,n){return se.resolve([])}getNextCollectionGroupToUpdate(e){return se.resolve(null)}getMinOffset(e,n){return se.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,n){return se.resolve(Xi.min())}updateCollectionGroup(e,n,r){return se.resolve()}updateIndexEntries(e,n){return se.resolve()}}class ME{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new nn(It.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new nn(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},dy=41943040;class An{static withCacheSize(e){return new An(e,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(dy,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new oa(0)}static lr(){return new oa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ag="LruGarbageCollector",DE=1048576;function Ig([t,e],[n,r]){const i=Ue(t,n);return i===0?Ue(e,r):i}class OE{constructor(e){this.Er=e,this.buffer=new nn(Ig),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Ig(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class LE{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){we(Ag,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){au(n)?we(Ag,"Ignoring IndexedDB error during garbage collection: ",n):await Xp(n)}await this.mr(3e5)})}}class zE{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return se.resolve(Yp.le);const r=new OE(n);return this.gr.forEachTarget(e,i=>r.Rr(i.sequenceNumber)).next(()=>this.gr.yr(e,i=>r.Rr(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.gr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(we("LruGarbageCollector","Garbage collection skipped; disabled"),se.resolve(kg)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(we("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kg):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let r,i,s,u,h,f,y;const _=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(E=>(E>this.params.maximumSequenceNumbersToCollect?(we("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${E}`),i=this.params.maximumSequenceNumbersToCollect):i=E,u=Date.now(),this.nthSequenceNumber(e,i))).next(E=>(r=E,h=Date.now(),this.removeTargets(e,r,n))).next(E=>(s=E,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(E=>(y=Date.now(),xo()<=Le.DEBUG&&we("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-_}ms
	Determined least recently used ${i} in `+(h-u)+`ms
	Removed ${s} targets in `+(f-h)+`ms
	Removed ${E} documents in `+(y-f)+`ms
Total Duration: ${y-_}ms`),se.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:E})))}}function VE(t,e){return new zE(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this.changes=new Qs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fr.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?se.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&yl(r.mutation,i,yr.empty(),Wt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,hn()).next(()=>r))}getLocalViewOfDocuments(e,n,r=hn()){const i=As();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let u=r0();return s.forEach((h,f)=>{u=u.insert(h,f.overlayedDocument)}),u}))}getOverlayedDocuments(e,n){const r=As();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,hn()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((u,h)=>{n.set(u,h)})})}computeViews(e,n,r,i){let s=pc();const u=gl(),h=function(){return gl()}();return n.forEach((f,y)=>{const _=r.get(y.key);i.has(y.key)&&(_===void 0||_.mutation instanceof Xs)?s=s.insert(y.key,y):_!==void 0?(u.set(y.key,_.mutation.getFieldMask()),yl(_.mutation,y,_.mutation.getFieldMask(),Wt.now())):u.set(y.key,yr.empty())}),this.recalculateAndSaveOverlays(e,s).next(f=>(f.forEach((y,_)=>u.set(y,_)),n.forEach((y,_)=>{var E;return h.set(y,new FE(_,(E=u.get(y))!==null&&E!==void 0?E:null))}),h))}recalculateAndSaveOverlays(e,n){const r=gl();let i=new Mn((u,h)=>u-h),s=hn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(u=>{for(const h of u)h.keys().forEach(f=>{const y=n.get(f);if(y===null)return;let _=r.get(f)||yr.empty();_=h.applyToLocalView(y,_),r.set(f,_);const E=(i.get(h.batchId)||hn()).add(f);i=i.insert(h.batchId,E)})}).next(()=>{const u=[],h=i.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),y=f.key,_=f.value,E=ey();_.forEach(I=>{if(!s.has(I)){const U=oy(n.get(I),r.get(I));U!==null&&E.set(I,U),s=s.add(I)}}),u.push(this.documentOverlayCache.saveOverlays(e,y,E))}return se.waitFor(u)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(u){return Ne.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):YS(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const u=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):se.resolve(As());let h=Fl,f=s;return u.next(y=>se.forEach(y,(_,E)=>(h<E.largestBatchId&&(h=E.largestBatchId),s.get(_)?se.resolve():this.remoteDocumentCache.getEntry(e,_).next(I=>{f=f.insert(_,I)}))).next(()=>this.populateOverlays(e,y,s)).next(()=>this.computeViews(e,f,y,hn())).next(_=>({batchId:h,changes:Z6(_)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Ne(n)).next(r=>{let i=r0();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let u=r0();return this.indexManager.getCollectionParents(e,s).next(h=>se.forEach(h,f=>{const y=function(E,I){return new qc(I,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(n,f.child(s));return this.getDocumentsMatchingCollectionQuery(e,y,r,i).next(_=>{_.forEach((E,I)=>{u=u.insert(E,I)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(u=>{s.forEach((f,y)=>{const _=y.getKey();u.get(_)===null&&(u=u.insert(_,fr.newInvalidDocument(_)))});let h=r0();return u.forEach((f,y)=>{const _=s.get(f);_!==void 0&&yl(_.mutation,y,yr.empty(),Wt.now()),sm(n,y)&&(h=h.insert(f,y))}),h})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UE{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return se.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ho(i.createTime)}}(n)),se.resolve()}getNamedQuery(e,n){return se.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(i){return{name:i.name,query:PE(i.bundledQuery),readTime:Ho(i.readTime)}}(n)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(){this.overlays=new Mn(Ne.comparator),this.Qr=new Map}getOverlay(e,n){return se.resolve(this.overlays.get(n))}getOverlays(e,n){const r=As();return se.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.bt(e,n,s)}),se.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Qr.delete(r)),se.resolve()}getOverlaysForCollection(e,n,r){const i=As(),s=n.length+1,u=new Ne(n.child("")),h=this.overlays.getIteratorFrom(u);for(;h.hasNext();){const f=h.getNext().value,y=f.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===s&&f.largestBatchId>r&&i.set(f.getKey(),f)}return se.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Mn((y,_)=>y-_);const u=this.overlays.getIterator();for(;u.hasNext();){const y=u.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>r){let _=s.get(y.largestBatchId);_===null&&(_=As(),s=s.insert(y.largestBatchId,_)),_.set(y.getKey(),y)}}const h=As(),f=s.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((y,_)=>h.set(y,_)),!(h.size()>=i)););return se.resolve(h)}bt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const u=this.Qr.get(i.largestBatchId).delete(r.key);this.Qr.set(i.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new mE(n,r));let s=this.Qr.get(n);s===void 0&&(s=hn(),this.Qr.set(n,s)),this.Qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(){this.sessionToken=jr.EMPTY_BYTE_STRING}getSessionToken(e){return se.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,se.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(){this.$r=new nn(Ut.Ur),this.Kr=new nn(Ut.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const r=new Ut(e,n);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.zr(new Ut(e,n))}jr(e,n){e.forEach(r=>this.removeReference(r,n))}Hr(e){const n=new Ne(new It([])),r=new Ut(n,e),i=new Ut(n,e+1),s=[];return this.Kr.forEachInRange([r,i],u=>{this.zr(u),s.push(u.key)}),s}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new Ne(new It([])),r=new Ut(n,e),i=new Ut(n,e+1);let s=hn();return this.Kr.forEachInRange([r,i],u=>{s=s.add(u.key)}),s}containsKey(e){const n=new Ut(e,0),r=this.$r.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Ut{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return Ne.comparator(e.key,n.key)||Ue(e.Zr,n.Zr)}static Wr(e,n){return Ue(e.Zr,n.Zr)||Ne.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HE{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new nn(Ut.Ur)}checkEmpty(e){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new pE(s,n,r,i);this.mutationQueue.push(u);for(const h of i)this.Xr=this.Xr.add(new Ut(h.key,s)),this.indexManager.addToCollectionParentIndex(e,h.key.path.popLast());return se.resolve(u)}lookupMutationBatch(e,n){return se.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ti(r),s=i<0?0:i;return se.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?Jp:this.nr-1)}getAllMutationBatches(e){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Ut(n,0),i=new Ut(n,Number.POSITIVE_INFINITY),s=[];return this.Xr.forEachInRange([r,i],u=>{const h=this.ei(u.Zr);s.push(h)}),se.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new nn(Ue);return n.forEach(i=>{const s=new Ut(i,0),u=new Ut(i,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([s,u],h=>{r=r.add(h.Zr)})}),se.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;Ne.isDocumentKey(s)||(s=s.child(""));const u=new Ut(new Ne(s),0);let h=new nn(Ue);return this.Xr.forEachWhile(f=>{const y=f.key.path;return!!r.isPrefixOf(y)&&(y.length===i&&(h=h.add(f.Zr)),!0)},u),se.resolve(this.ni(h))}ni(e){const n=[];return e.forEach(r=>{const i=this.ei(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){bt(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return se.forEach(n.mutations,i=>{const s=new Ut(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,n){const r=new Ut(n,0),i=this.Xr.firstAfterOrEqual(r);return se.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,se.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this.ii=e,this.docs=function(){return new Mn(Ne.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,u=this.ii(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:u}),this.size+=u-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return se.resolve(r?r.document.mutableCopy():fr.newInvalidDocument(n))}getEntries(e,n){let r=pc();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():fr.newInvalidDocument(i))}),se.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=pc();const u=n.path,h=new Ne(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:y,value:{document:_}}=f.getNext();if(!u.isPrefixOf(y.path))break;y.path.length>u.length+1||kS(TS(_),r)<=0||(i.has(_.key)||sm(n,_))&&(s=s.insert(_.key,_.mutableCopy()))}return se.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Re(9500)}si(e,n){return se.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new GE(this)}getSize(e){return se.resolve(this.size)}}class GE extends jE{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Br.addEntry(e,i)):this.Br.removeEntry(r)}),se.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KE{constructor(e){this.persistence=e,this.oi=new Qs(n=>rm(n),im),this.lastRemoteSnapshotVersion=ct.min(),this.highestTargetId=0,this._i=0,this.ai=new lm,this.targetCount=0,this.ui=oa.cr()}forEachTarget(e,n){return this.oi.forEach((r,i)=>n(i)),se.resolve()}getLastRemoteSnapshotVersion(e){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return se.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this._i&&(this._i=n),se.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new oa(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,se.resolve()}updateTargetData(e,n){return this.Tr(n),se.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,se.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.oi.forEach((u,h)=>{h.sequenceNumber<=n&&r.get(h.targetId)===null&&(this.oi.delete(u),s.push(this.removeMatchingKeysForTargetId(e,h.targetId)),i++)}),se.waitFor(s).next(()=>i)}getTargetCount(e){return se.resolve(this.targetCount)}getTargetData(e,n){const r=this.oi.get(n)||null;return se.resolve(r)}addMatchingKeys(e,n,r){return this.ai.Gr(n,r),se.resolve()}removeMatchingKeys(e,n,r){this.ai.jr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(u=>{s.push(i.markPotentiallyOrphaned(e,u))}),se.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),se.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ai.Yr(n);return se.resolve(r)}containsKey(e,n){return se.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n){this.ci={},this.overlays={},this.li=new Yp(0),this.hi=!1,this.hi=!0,this.Pi=new $E,this.referenceDelegate=e(this),this.Ti=new KE(this),this.indexManager=new RE,this.remoteDocumentCache=function(i){return new WE(i)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new NE(n),this.Ei=new UE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new qE,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ci[e.toKey()];return r||(r=new HE(n,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,r){we("MemoryPersistence","Starting transaction:",e);const i=new QE(this.li.next());return this.referenceDelegate.di(),r(i).next(s=>this.referenceDelegate.Ai(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ri(e,n){return se.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,n)))}}class QE extends IS{constructor(e){super(),this.currentSequenceNumber=e}}class um{constructor(e){this.persistence=e,this.Vi=new lm,this.mi=null}static fi(e){return new um(e)}get gi(){if(this.mi)return this.mi;throw Re(60996)}addReference(e,n,r){return this.Vi.addReference(r,n),this.gi.delete(r.toString()),se.resolve()}removeReference(e,n,r){return this.Vi.removeReference(r,n),this.gi.add(r.toString()),se.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),se.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(i=>this.gi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.gi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.gi,r=>{const i=Ne.fromPath(r);return this.pi(e,i).next(s=>{s||n.removeEntry(i,ct.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(r=>{r?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return se.or([()=>se.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class yc{constructor(e,n){this.persistence=e,this.yi=new Qs(r=>PS(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=VE(this,n)}static fi(e,n){return new yc(e,n)}di(){}Ai(e){return se.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}Sr(e){let n=0;return this.yr(e,r=>{n++}).next(()=>n)}yr(e,n){return se.forEach(this.yi,(r,i)=>this.Dr(e,r,i).next(s=>s?se.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.si(e,u=>this.Dr(e,u,n).next(h=>{h||(r++,s.removeEntry(u,ct.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),se.resolve()}removeReference(e,n,r){return this.yi.set(r,e.currentSequenceNumber),se.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),se.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=T0(e.data.value)),n}Dr(e,n,r){return se.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.yi.get(n);return se.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.ds=r,this.As=i}static Rs(e,n){let r=hn(),i=hn();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new cm(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YE{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Jw()?8:CS(pn())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ws(e,n).next(u=>{s.result=u}).next(()=>{if(!s.result)return this.Ss(e,n,i,r).next(u=>{s.result=u})}).next(()=>{if(s.result)return;const u=new XE;return this.bs(e,n,u).next(h=>{if(s.result=h,this.fs)return this.Ds(e,n,u,h.size)})}).next(()=>s.result)}Ds(e,n,r,i){return r.documentReadCount<this.gs?(xo()<=Le.DEBUG&&we("QueryEngine","SDK will not create cache indexes for query:",Xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),se.resolve()):(xo()<=Le.DEBUG&&we("QueryEngine","Query:",Xa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ps*i?(xo()<=Le.DEBUG&&we("QueryEngine","The SDK decides to create cache indexes for query:",Xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ms(n))):se.resolve())}ws(e,n){if(xg(n))return se.resolve(null);let r=Ms(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Nf(n,null,"F"),r=Ms(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const u=hn(...s);return this.ys.getDocuments(e,u).next(h=>this.indexManager.getMinOffset(e,r).next(f=>{const y=this.vs(n,h);return this.Cs(n,y,u,f.readTime)?this.ws(e,Nf(n,null,"F")):this.Fs(e,y,n,f)}))})))}Ss(e,n,r,i){return xg(n)||i.isEqual(ct.min())?se.resolve(null):this.ys.getDocuments(e,r).next(s=>{const u=this.vs(n,s);return this.Cs(n,u,r,i)?se.resolve(null):(xo()<=Le.DEBUG&&we("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xa(n)),this.Fs(e,u,n,ES(i,Fl)).next(h=>h))})}vs(e,n){let r=new nn(ZS(e));return n.forEach((i,s)=>{sm(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}bs(e,n,r){return xo()<=Le.DEBUG&&we("QueryEngine","Using full collection scan to execute query:",Xa(n)),this.ys.getDocumentsMatchingQuery(e,n,Xi.min(),r)}Fs(e,n,r,i){return this.ys.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(u=>{s=s.insert(u.key,u)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JE="LocalStore";class ZE{constructor(e,n,r,i){this.persistence=e,this.Ms=n,this.serializer=i,this.xs=new Mn(Ue),this.Os=new Qs(s=>rm(s),im),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new BE(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function eT(t,e,n,r){return new ZE(t,e,n,r)}async function fy(t,e){const n=rt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const u=[],h=[];let f=hn();for(const y of i){u.push(y.batchId);for(const _ of y.mutations)f=f.add(_.key)}for(const y of s){h.push(y.batchId);for(const _ of y.mutations)f=f.add(_.key)}return n.localDocuments.getDocuments(r,f).next(y=>({ks:y,removedBatchIds:u,addedBatchIds:h}))})})}function tT(t,e){const n=rt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Bs.newChangeBuffer({trackRemovals:!0});return function(h,f,y,_){const E=y.batch,I=E.keys();let U=se.resolve();return I.forEach(q=>{U=U.next(()=>_.getEntry(f,q)).next(X=>{const Q=y.docVersions.get(q);bt(Q!==null,48541),X.version.compareTo(Q)<0&&(E.applyToRemoteDocument(X,y),X.isValidDocument()&&(X.setReadTime(y.commitVersion),_.addEntry(X)))})}),U.next(()=>h.mutationQueue.removeMutationBatch(f,E))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(h){let f=hn();for(let y=0;y<h.mutationResults.length;++y)h.mutationResults[y].transformResults.length>0&&(f=f.add(h.batch.mutations[y].key));return f}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function nT(t){const e=rt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function rT(t,e){const n=rt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Jp),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class Cg{constructor(){this.activeTargetIds=sE()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class iT{constructor(){this.xo=new Cg,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,r){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new Cg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sT{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ng="ConnectivityMonitor";class Pg{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){we(Ng,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){we(Ng,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i0=null;function Df(){return i0===null?i0=function(){return 268435456+Math.round(2147483648*Math.random())}():i0++,"0x"+i0.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh="RestConnection",oT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class aT{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${r}/databases/${i}`,this.Go=this.databaseId.database===cc?`project_id=${r}`:`project_id=${r}&database_id=${i}`}zo(e,n,r,i,s){const u=Df(),h=this.jo(e,n.toUriEncodedString());we(uh,`Sending RPC '${e}' ${u}:`,h,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,i,s);const{host:y}=new URL(h),_=tu(y);return this.Jo(e,h,f,r,_).then(E=>(we(uh,`Received RPC '${e}' ${u}: `,E),E),E=>{throw Uc(uh,`RPC '${e}' ${u} failed with error: `,E,"url: ",h,"request:",r),E})}Yo(e,n,r,i,s,u){return this.zo(e,n,r,i,s)}Ho(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ma}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}jo(e,n){const r=oT[e];return`${this.Ko}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const un="WebChannelConnection";class uT extends aT{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const u=Df();return new Promise((h,f)=>{const y=new A6;y.setWithCredentials(!0),y.listenOnce(I6.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case E0.NO_ERROR:const E=y.getResponseJson();we(un,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(E)),h(E);break;case E0.TIMEOUT:we(un,`RPC '${e}' ${u} timed out`),f(new Ie(de.DEADLINE_EXCEEDED,"Request time out"));break;case E0.HTTP_ERROR:const I=y.getStatus();if(we(un,`RPC '${e}' ${u} failed with status:`,I,"response text:",y.getResponseText()),I>0){let U=y.getResponseJson();Array.isArray(U)&&(U=U[0]);const q=U==null?void 0:U.error;if(q&&q.status&&q.message){const X=function(P){const M=P.toLowerCase().replace(/_/g,"-");return Object.values(de).indexOf(M)>=0?M:de.UNKNOWN}(q.status);f(new Ie(X,q.message))}else f(new Ie(de.UNKNOWN,"Server responded with status "+y.getStatus()))}else f(new Ie(de.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{l_:e,streamId:u,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{we(un,`RPC '${e}' ${u} completed.`)}});const _=JSON.stringify(i);we(un,`RPC '${e}' ${u} sending request:`,i),y.send(n,"POST",_,r,15)})}T_(e,n,r){const i=Df(),s=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=P6(),h=N6(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(f.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const _=s.join("");we(un,`Creating RPC '${e}' stream ${i}: ${_}`,f);const E=u.createWebChannel(_,f);let I=!1,U=!1;const q=new lT({Zo:Q=>{U?we(un,`Not sending because RPC '${e}' stream ${i} is closed:`,Q):(I||(we(un,`Opening RPC '${e}' stream ${i} transport.`),E.open(),I=!0),we(un,`RPC '${e}' stream ${i} sending:`,Q),E.send(Q))},Xo:()=>E.close()}),X=(Q,P,M)=>{Q.listen(P,L=>{try{M(L)}catch(K){setTimeout(()=>{throw K},0)}})};return X(E,tl.EventType.OPEN,()=>{U||(we(un,`RPC '${e}' stream ${i} transport opened.`),q.__())}),X(E,tl.EventType.CLOSE,()=>{U||(U=!0,we(un,`RPC '${e}' stream ${i} transport closed`),q.u_())}),X(E,tl.EventType.ERROR,Q=>{U||(U=!0,Uc(un,`RPC '${e}' stream ${i} transport errored. Name:`,Q.name,"Message:",Q.message),q.u_(new Ie(de.UNAVAILABLE,"The operation could not be completed")))}),X(E,tl.EventType.MESSAGE,Q=>{var P;if(!U){const M=Q.data[0];bt(!!M,16349);const L=M,K=(L==null?void 0:L.error)||((P=L[0])===null||P===void 0?void 0:P.error);if(K){we(un,`RPC '${e}' stream ${i} received error:`,K);const te=K.status;let ie=function(D){const O=At[D];if(O!==void 0)return yE(O)}(te),z=K.message;ie===void 0&&(ie=de.INTERNAL,z="Unknown error status: "+te+" with message "+K.message),U=!0,q.u_(new Ie(ie,z)),E.close()}else we(un,`RPC '${e}' stream ${i} received:`,M),q.c_(M)}}),X(h,C6.STAT_EVENT,Q=>{Q.stat===Ef.PROXY?we(un,`RPC '${e}' stream ${i} detected buffering proxy`):Q.stat===Ef.NOPROXY&&we(un,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{q.a_()},0),q}}function ch(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wc(t){return new vE(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n,r=1e3,i=1.5,s=6e4){this.xi=e,this.timerId=n,this.I_=r,this.E_=i,this.d_=s,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const n=Math.floor(this.A_+this.g_()),r=Math.max(0,Date.now()-this.V_),i=Math.max(0,n-r);i>0&&we("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.A_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,i,()=>(this.V_=Date.now(),e())),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){this.R_!==null&&(this.R_.skipDelay(),this.R_=null)}cancel(){this.R_!==null&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rg="PersistentStream";class cT{constructor(e,n,r,i,s,u,h,f){this.xi=e,this.y_=r,this.w_=i,this.connection=s,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new py(e,n)}F_(){return this.state===1||this.state===5||this.M_()}M_(){return this.state===2||this.state===3}start(){this.v_=0,this.state!==4?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&this.b_===null&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,()=>this.B_()))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,n){this.k_(),this.q_(),this.C_.cancel(),this.S_++,e!==4?this.C_.reset():n&&n.code===de.RESOURCE_EXHAUSTED?(qs(n.toString()),qs("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):n&&n.code===de.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),n=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.S_===n&&this.K_(r,i)},r=>{e(()=>{const i=new Ie(de.UNKNOWN,"Fetching auth token failed: "+r.message);return this.W_(i)})})}K_(e,n){const r=this.U_(this.S_);this.stream=this.G_(e,n),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,()=>(this.M_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(i=>{r(()=>this.W_(i))}),this.stream.onMessage(i=>{r(()=>++this.v_==1?this.z_(i):this.onNext(i))})}x_(){this.state=5,this.C_.f_(async()=>{this.state=0,this.start()})}W_(e){return we(Rg,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return n=>{this.xi.enqueueAndForget(()=>this.S_===e?n():(we(Rg,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class dT extends cT{constructor(e,n,r,i,s,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,u),this.serializer=s}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,n){return this.connection.T_("Write",e,n)}z_(e){return bt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0,55816),this.listener.X_()}onNext(e){bt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const n=kE(e.writeResults,e.commitTime),r=Ho(e.commitTime);return this.listener.ea(r,n)}ta(){const e={};e.database=SE(this.serializer),this.L_(e)}Z_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>TE(this.serializer,r))};this.L_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hT{}class fT extends hT{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.na=!1}ra(){if(this.na)throw new Ie(de.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.zo(e,Rf(n,r),i,s,u)).catch(s=>{throw s.name==="FirebaseError"?(s.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ie(de.UNKNOWN,s.toString())})}Yo(e,n,r,i,s){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Yo(e,Rf(n,r),i,u,h,s)).catch(u=>{throw u.name==="FirebaseError"?(u.code===de.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ie(de.UNKNOWN,u.toString())})}terminate(){this.na=!0,this.connection.terminate()}}class pT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){this.ia===0&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve())))}ca(e){this.state==="Online"?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,e==="Online"&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(qs(n),this.oa=!1):we("OnlineStateTracker",n)}la(){this.sa!==null&&(this.sa.cancel(),this.sa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uu="RemoteStore";class mT{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=s,this.Ea.No(u=>{r.enqueueAndForget(async()=>{du(this)&&(we(uu,"Restarting streams for network reachability change."),await async function(f){const y=rt(f);y.Ta.add(4),await cu(y),y.da.set("Unknown"),y.Ta.delete(4),await Gc(y)}(this))})}),this.da=new pT(r,i)}}async function Gc(t){if(du(t))for(const e of t.Ia)await e(!0)}async function cu(t){for(const e of t.Ia)await e(!1)}function du(t){return rt(t).Ta.size===0}async function my(t,e,n){if(!au(e))throw e;t.Ta.add(1),await cu(t),t.da.set("Offline"),n||(n=()=>nT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{we(uu,"Retrying IndexedDB access"),await n(),t.Ta.delete(1),await Gc(t)})}function gy(t,e){return e().catch(n=>my(t,n,e))}async function Kc(t){const e=rt(t),n=Ji(e);let r=e.ha.length>0?e.ha[e.ha.length-1].batchId:Jp;for(;gT(e);)try{const i=await rT(e.localStore,r);if(i===null){e.ha.length===0&&n.N_();break}r=i.batchId,yT(e,i)}catch(i){await my(e,i)}yy(e)&&vy(e)}function gT(t){return du(t)&&t.ha.length<10}function yT(t,e){t.ha.push(e);const n=Ji(t);n.M_()&&n.Y_&&n.Z_(e.mutations)}function yy(t){return du(t)&&!Ji(t).F_()&&t.ha.length>0}function vy(t){Ji(t).start()}async function vT(t){Ji(t).ta()}async function wT(t){const e=Ji(t);for(const n of t.ha)e.Z_(n.mutations)}async function xT(t,e,n){const r=t.ha.shift(),i=am.from(r,e,n);await gy(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Kc(t)}async function bT(t,e){e&&Ji(t).Y_&&await async function(r,i){if(function(u){return gE(u)&&u!==de.ABORTED}(i.code)){const s=r.ha.shift();Ji(r).O_(),await gy(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Kc(r)}}(t,e),yy(t)&&vy(t)}async function Mg(t,e){const n=rt(t);n.asyncQueue.verifyOperationInProgress(),we(uu,"RemoteStore received new credentials");const r=du(n);n.Ta.add(3),await cu(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ta.delete(3),await Gc(n)}async function _T(t,e){const n=rt(t);e?(n.Ta.delete(2),await Gc(n)):e||(n.Ta.add(2),await cu(n),n.da.set("Unknown"))}function Ji(t){return t.Va||(t.Va=function(n,r,i){const s=rt(n);return s.ra(),new dT(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{e_:()=>Promise.resolve(),n_:vT.bind(null,t),i_:bT.bind(null,t),X_:wT.bind(null,t),ea:xT.bind(null,t)}),t.Ia.push(async e=>{e?(t.Va.O_(),await Kc(t)):(await t.Va.stop(),t.ha.length>0&&(we(uu,`Stopping write stream with ${t.ha.length} pending writes`),t.ha=[]))})),t.Va}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Rs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const u=Date.now()+r,h=new dm(e,n,u,i,s);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(de.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wy(t,e){if(qs("AsyncQueue",`${e}: ${t}`),au(t))return new Ie(de.UNAVAILABLE,`${e}: ${t}`);throw t}class ST{constructor(){this.queries=Dg(),this.onlineState="Unknown",this.ba=new Set}terminate(){(function(n,r){const i=rt(n),s=i.queries;i.queries=Dg(),s.forEach((u,h)=>{for(const f of h.ya)f.onError(r)})})(this,new Ie(de.ABORTED,"Firestore shutting down"))}}function Dg(){return new Qs(t=>Y6(t),X6)}function ET(t){t.ba.forEach(e=>{e.next()})}var Og,Lg;(Lg=Og||(Og={})).Ca="default",Lg.Cache="cache";const TT="SyncEngine";class kT{constructor(e,n,r,i,s,u){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=u,this.au={},this.uu=new Qs(h=>Y6(h),X6),this.cu=new Map,this.lu=new Set,this.hu=new Mn(Ne.comparator),this.Pu=new Map,this.Tu=new lm,this.Iu={},this.Eu=new Map,this.du=oa.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return this.Au===!0}}async function AT(t,e,n){const r=PT(t);try{const i=await function(u,h){const f=rt(u),y=Wt.now(),_=h.reduce((U,q)=>U.add(q.key),hn());let E,I;return f.persistence.runTransaction("Locally write mutations","readwrite",U=>{let q=pc(),X=hn();return f.Bs.getEntries(U,_).next(Q=>{q=Q,q.forEach((P,M)=>{M.isValidDocument()||(X=X.add(P))})}).next(()=>f.localDocuments.getOverlayedDocuments(U,q)).next(Q=>{E=Q;const P=[];for(const M of h){const L=hE(M,E.get(M.key).overlayedDocument);L!=null&&P.push(new Xs(M.key,L,q6(L.value.mapValue),ii.exists(!0)))}return f.mutationQueue.addMutationBatch(U,y,P,h)}).next(Q=>{I=Q;const P=Q.applyToLocalDocumentSet(E,X);return f.documentOverlayCache.saveOverlays(U,Q.batchId,P)})}).then(()=>({batchId:I.batchId,changes:Z6(E)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,h,f){let y=u.Iu[u.currentUser.toKey()];y||(y=new Mn(Ue)),y=y.insert(h,f),u.Iu[u.currentUser.toKey()]=y}(r,i.batchId,n),await Qc(r,i.changes),await Kc(r.remoteStore)}catch(i){const s=wy(i,"Failed to persist write");n.reject(s)}}function zg(t,e,n){const r=rt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.uu.forEach((s,u)=>{const h=u.view.Da(e);h.snapshot&&i.push(h.snapshot)}),function(u,h){const f=rt(u);f.onlineState=h;let y=!1;f.queries.forEach((_,E)=>{for(const I of E.ya)I.Da(h)&&(y=!0)}),y&&ET(f)}(r.eventManager,e),i.length&&r.au.j_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function IT(t,e){const n=rt(t),r=e.batch.batchId;try{const i=await tT(n.localStore,e);by(n,r,null),xy(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Qc(n,i)}catch(i){await Xp(i)}}async function CT(t,e,n){const r=rt(t);try{const i=await function(u,h){const f=rt(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let _;return f.mutationQueue.lookupMutationBatch(y,h).next(E=>(bt(E!==null,37113),_=E.keys(),f.mutationQueue.removeMutationBatch(y,E))).next(()=>f.mutationQueue.performConsistencyCheck(y)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(y,_,h)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,_)).next(()=>f.localDocuments.getDocuments(y,_))})}(r.localStore,e);by(r,e,n),xy(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Qc(r,i)}catch(i){await Xp(i)}}function xy(t,e){(t.Eu.get(e)||[]).forEach(n=>{n.resolve()}),t.Eu.delete(e)}function by(t,e,n){const r=rt(t);let i=r.Iu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Iu[r.currentUser.toKey()]=i}}async function Qc(t,e,n){const r=rt(t),i=[],s=[],u=[];r.uu.isEmpty()||(r.uu.forEach((h,f)=>{u.push(r.Ru(f,e,n).then(y=>{var _;if((y||n)&&r.isPrimaryClient){const E=y?!y.fromCache:(_=void 0)===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(f.targetId,E?"current":"not-current")}if(y){i.push(y);const E=cm.Rs(f.targetId,y);s.push(E)}}))}),await Promise.all(u),r.au.j_(i),await async function(f,y){const _=rt(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",E=>se.forEach(y,I=>se.forEach(I.ds,U=>_.persistence.referenceDelegate.addReference(E,I.targetId,U)).next(()=>se.forEach(I.As,U=>_.persistence.referenceDelegate.removeReference(E,I.targetId,U)))))}catch(E){if(!au(E))throw E;we(JE,"Failed to update sequence numbers: "+E)}for(const E of y){const I=E.targetId;if(!E.fromCache){const U=_.xs.get(I),q=U.snapshotVersion,X=U.withLastLimboFreeSnapshotVersion(q);_.xs=_.xs.insert(I,X)}}}(r.localStore,s))}async function NT(t,e){const n=rt(t);if(!n.currentUser.isEqual(e)){we(TT,"User change. New user:",e.toKey());const r=await fy(n.localStore,e);n.currentUser=e,function(s,u){s.Eu.forEach(h=>{h.forEach(f=>{f.reject(new Ie(de.CANCELLED,u))})}),s.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Qc(n,r.ks)}}function PT(t){const e=rt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=IT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=CT.bind(null,e),e}class vc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Wc(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,n){return null}bu(e,n){return null}wu(e){return eT(this.persistence,new YE,e.initialUser,this.serializer)}yu(e){return new hy(um.fi,this.serializer)}pu(e){return new iT}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}vc.provider={build:()=>new vc};class RT extends vc{constructor(e){super(),this.cacheSizeBytes=e}Su(e,n){bt(this.persistence.referenceDelegate instanceof yc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new LE(r,e.asyncQueue,n)}yu(e){const n=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new hy(r=>yc.fi(r,n),this.serializer)}}class Of{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=NT.bind(null,this.syncEngine),await _T(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new ST}()}createDatastore(e){const n=Wc(e.databaseInfo.databaseId),r=function(s){return new uT(s)}(e.databaseInfo);return function(s,u,h,f){return new fT(s,u,h,f)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,u,h){return new mT(r,i,s,u,h)}(this.localStore,this.datastore,e.asyncQueue,n=>zg(this.syncEngine,n,0),function(){return Pg.C()?new Pg:new sT}())}createSyncEngine(e,n){return function(i,s,u,h,f,y,_){const E=new kT(i,s,u,h,f,y);return _&&(E.Au=!0),E}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=rt(i);we(uu,"RemoteStore shutting down."),s.Ta.add(5),await cu(s),s.Ea.shutdown(),s.da.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Of.provider={build:()=>new Of};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi="FirestoreClient";class MT{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=cn.UNAUTHENTICATED,this.clientId=D6.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async u=>{we(Zi,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(r,u=>(we(Zi,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Rs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=wy(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function dh(t,e){t.asyncQueue.verifyOperationInProgress(),we(Zi,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await fy(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Vg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await DT(t);we(Zi,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>Mg(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Mg(e.remoteStore,i)),t._onlineComponents=e}async function DT(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){we(Zi,"Using user provided OfflineComponentProvider");try{await dh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===de.FAILED_PRECONDITION||i.code===de.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Uc("Error using user provided cache. Falling back to memory cache: "+n),await dh(t,new vc)}}else we(Zi,"Using default OfflineComponentProvider"),await dh(t,new RT(void 0));return t._offlineComponents}async function OT(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(we(Zi,"Using user provided OnlineComponentProvider"),await Vg(t,t._uninitializedComponentsProvider._online)):(we(Zi,"Using default OnlineComponentProvider"),await Vg(t,new Of))),t._onlineComponents}function LT(t){return OT(t).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t,e,n){if(!n)throw new Ie(de.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VT(t,e,n,r){if(e===!0&&r===!0)throw new Ie(de.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Fg(t){if(!Ne.isDocumentKey(t))throw new Ie(de.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hm(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Re(12329,{type:typeof t})}function Lf(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Ie(de.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=hm(t);throw new Ie(de.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sy="firestore.googleapis.com",Bg=!0;class Ug{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(de.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Sy,this.ssl=Bg}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Bg;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=dy;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<DE)throw new Ie(de.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_y((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Ie(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ie(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ie(de.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class fm{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Ug({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(de.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(de.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Ug(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pS;switch(r.type){case"firstParty":return new vS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Ie(de.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=jg.get(n);r&&(we("ComponentProvider","Removing Datastore"),jg.delete(n),r.terminate())}(this),Promise.resolve()}}function jT(t,e,n,r={}){var i;t=Lf(t,fm);const s=tu(e),u=t._getSettings(),h=Object.assign(Object.assign({},u),{emulatorOptions:t._getEmulatorOptions()}),f=`${e}:${n}`;s&&(U5(`https://${f}`),q5("Firestore",!0)),u.host!==Sy&&u.host!==f&&Uc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},u),{host:f,ssl:s,emulatorOptions:r});if(!js(y,h)&&(t._setSettings(y),r.mockUserToken)){let _,E;if(typeof r.mockUserToken=="string")_=r.mockUserToken,E=cn.MOCK_USER;else{_=qw(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new Ie(de.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");E=new cn(I)}t._authCredentials=new mS(new M6(_,E))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new pm(this.firestore,e,this._query)}}class si{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new $l(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new si(this.firestore,e,this._key)}}class $l extends pm{constructor(e,n,r){super(e,n,XS(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new si(this.firestore,null,new Ne(e))}withConverter(e){return new $l(this.firestore,e,this._path)}}function Ey(t,e,...n){if(t=Vr(t),arguments.length===1&&(e=D6.newId()),zT("doc","path",e),t instanceof fm){const r=It.fromString(e,...n);return Fg(r),new si(t,null,new Ne(r))}{if(!(t instanceof si||t instanceof $l))throw new Ie(de.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(It.fromString(e,...n));return Fg(r),new si(t.firestore,t instanceof $l?t.converter:null,new Ne(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="AsyncQueue";class $g{constructor(e=Promise.resolve()){this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new py(this,"async_queue_retry"),this.ec=()=>{const r=ch();r&&we(qg,"Visibility state changed to "+r.visibilityState),this.C_.p_()},this.tc=e;const n=ch();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const n=ch();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise(()=>{});const n=new Rs;return this.rc(()=>this.ju&&this.Zu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.zu.push(e),this.sc()))}async sc(){if(this.zu.length!==0){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(e){if(!au(e))throw e;we(qg,"Operation failed with retryable error: "+e)}this.zu.length>0&&this.C_.f_(()=>this.sc())}}rc(e){const n=this.tc.then(()=>(this.Yu=!0,e().catch(r=>{throw this.Ju=r,this.Yu=!1,qs("INTERNAL UNHANDLED ERROR: ",Hg(r)),r}).then(r=>(this.Yu=!1,r))));return this.tc=n,n}enqueueAfterDelay(e,n,r){this.nc(),this.Xu.indexOf(e)>-1&&(n=0);const i=dm.createAndSchedule(this,e,n,r,s=>this.oc(s));return this.Hu.push(i),i}nc(){this.Ju&&Re(47125,{_c:Hg(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do e=this.tc,await e;while(e!==this.tc)}uc(e){for(const n of this.Hu)if(n.timerId===e)return!0;return!1}cc(e){return this.ac().then(()=>{this.Hu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Hu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.ac()})}lc(e){this.Xu.push(e)}oc(e){const n=this.Hu.indexOf(e);this.Hu.splice(n,1)}}function Hg(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class Ty extends fm{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new $g,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $g(e),this._firestoreClient=void 0,await e}}}function ky(t,e){const n=W5(),r=cc,i=zp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Bw("firestore");s&&jT(i,...s)}return i}function FT(t){if(t._terminated)throw new Ie(de.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||BT(t),t._firestoreClient}function BT(t){var e,n,r;const i=t._freezeSettings(),s=function(h,f,y,_){return new OS(h,f,y,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,_y(_.experimentalLongPollingOptions),_.useFetchStreams,_.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new MT(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(h){const f=h==null?void 0:h._online.build();return{_offline:h==null?void 0:h._offline.build(f),_online:f}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Hl(jr.fromBase64String(e))}catch(n){throw new Ie(de.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Hl(jr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Ie(de.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Ie(de.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Ie(de.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ue(this._lat,e._lat)||Ue(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT=/^__.*__$/;class qT{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Xs(e,this.data,this.fieldMask,n,this.fieldTransforms):new lu(e,this.data,n,this.fieldTransforms)}}function Py(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{hc:t})}}class mm{constructor(e,n,r,i,s,u){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Pc(),this.fieldTransforms=s||[],this.fieldMask=u||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new mm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.dc(e),i}Ac(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Tc({path:r,Ec:!1});return i.Pc(),i}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return wc(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(e.length===0)throw this.Vc("Document fields must not be empty");if(Py(this.hc)&&UT.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class $T{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wc(e)}gc(e,n,r,i=!1){return new mm({hc:e,methodName:n,fc:r,path:en.emptyPath(),Ec:!1,mc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function HT(t){const e=t._freezeSettings(),n=Wc(t._databaseId);return new $T(t._databaseId,!!e.ignoreUndefinedProperties,n)}function WT(t,e,n,r,i,s={}){const u=t.gc(s.merge||s.mergeFields?2:0,e,n,i);Oy("Data must be an object, but it was:",u,r);const h=My(r,u);let f,y;if(s.merge)f=new yr(u.fieldMask),y=u.fieldTransforms;else if(s.mergeFields){const _=[];for(const E of s.mergeFields){const I=GT(e,E,n);if(!u.contains(I))throw new Ie(de.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);XT(_,I)||_.push(I)}f=new yr(_),y=u.fieldTransforms.filter(E=>f.covers(E.field))}else f=null,y=u.fieldTransforms;return new qT(new mr(h),f,y)}function Ry(t,e){if(Dy(t=Vr(t)))return Oy("Unsupported field value:",e,t),My(t,e);if(t instanceof Iy)return function(r,i){if(!Py(i.hc))throw i.Vc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Vc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Ec&&e.hc!==4)throw e.Vc("Nested arrays are not supported");return function(r,i){const s=[];let u=0;for(const h of r){let f=Ry(h,i.Rc(u));f==null&&(f={nullValue:"NULL_VALUE"}),s.push(f),u++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Vr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return oE(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Wt.fromDate(r);return{timestampValue:Pf(i.serializer,s)}}if(r instanceof Wt){const s=new Wt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pf(i.serializer,s)}}if(r instanceof Cy)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Hl)return{bytesValue:wE(i.serializer,r._byteString)};if(r instanceof si){const s=i.databaseId,u=r.firestore._databaseId;if(!u.isEqual(s))throw i.Vc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:uy(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ny)return function(u,h){return{mapValue:{fields:{[B6]:{stringValue:U6},[kf]:{arrayValue:{values:u.toArray().map(y=>{if(typeof y!="number")throw h.Vc("VectorValues must only contain numeric values.");return om(h.serializer,y)})}}}}}}(r,i);throw i.Vc(`Unsupported field value: ${hm(r)}`)}(t,e)}function My(t,e){const n={};return L6(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ga(t,(r,i)=>{const s=Ry(i,e.Ic(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Dy(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Wt||t instanceof Cy||t instanceof Hl||t instanceof si||t instanceof Iy||t instanceof Ny)}function Oy(t,e,n){if(!Dy(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=hm(n);throw r==="an object"?e.Vc(t+" a custom object"):e.Vc(t+" "+r)}}function GT(t,e,n){if((e=Vr(e))instanceof Ay)return e._internalPath;if(typeof e=="string")return QT(t,e);throw wc("Field path arguments must be of type string or ",t,!1,void 0,n)}const KT=new RegExp("[~\\*/\\[\\]]");function QT(t,e,n){if(e.search(KT)>=0)throw wc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ay(...e.split("."))._internalPath}catch{throw wc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function wc(t,e,n,r,i){const s=r&&!r.isEmpty(),u=i!==void 0;let h=`Function ${e}() called with invalid data`;n&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(s||u)&&(f+=" (found",s&&(f+=` in field ${r}`),u&&(f+=` in document ${i}`),f+=")"),new Ie(de.INVALID_ARGUMENT,h+t+f)}function XT(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t,e,n){let r;return r=t?t.toFirestore(e):e,r}function Ly(t,e,n){t=Lf(t,si);const r=Lf(t.firestore,Ty),i=YT(t.converter,e);return JT(r,[WT(HT(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,ii.none())])}function JT(t,e){return function(r,i){const s=new Rs;return r.asyncQueue.enqueueAndForget(async()=>AT(await LT(r),i,s)),s.promise}(FT(t),e)}(function(e,n=!0){(function(i){ma=i})(fa),ea(new Fs("firestore",(r,{instanceIdentifier:i,options:s})=>{const u=r.getProvider("app").getImmediate(),h=new Ty(new gS(r.getProvider("auth-internal")),new wS(u,r.getProvider("app-check-internal")),function(y,_){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Ie(de.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new dc(y.options.projectId,_)}(u,i),u);return s=Object.assign({useFetchStreams:n},s),h._setSettings(s),h},"PUBLIC").setMultipleInstances(!0)),Ns(sg,og,e),Ns(sg,og,"esm2017")})();const ZT=()=>{const{weekId:t,exerciseId:e}=ha(),n=[{question:"Sea f(x, y) = ln(xy). ¿Cuál es el dominio de f?",options:["x > 0, y > 0","x ≠ 0, y ≠ 0","x ≥ 0, y ≥ 0","x < 0, y < 0"],correct:"x > 0, y > 0"},{question:"¿Cuál es el valor de la derivada parcial ∂/∂y de f(x, y) = x²y³ en (1,2)?",options:["12","6","8","4"],correct:"12"},{question:"Sea F(x, y) = (y, x). ¿Cuál es el rotacional de F?",options:["0","2","-2","1"],correct:"-2"},{question:"¿Cuál es el valor de la integral doble ∫∫_D (x + y) dA sobre el cuadrado D: 0 ≤ x ≤ 1, 0 ≤ y ≤ 1?",options:["1","2","0.5","4"],correct:"1"},{question:"¿Cuál de las siguientes afirmaciones es verdadera sobre el gradiente?",options:["Siempre apunta en la dirección de máximo crecimiento de la función","Siempre es perpendicular al eje x","Es igual a la divergencia","No existe para funciones continuas"],correct:"Siempre apunta en la dirección de máximo crecimiento de la función"}],[r,i]=re.useState(Array(5).fill(null)),[s,u]=re.useState(!1),[h,f]=re.useState(!1),y=r.filter((q,X)=>q===n[X].correct).length,_=k6(),E=ky();async function I(){if(!_.currentUser)return;const q=_.currentUser.uid;await Ly(Ey(E,"exerciseCompletions",`${q}_w${t}_e${e}`),{userId:q,weekId:t,exerciseId:e,correctCount:y,timestamp:new Date().toISOString()}),f(!0)}function U(q,X){if(h)return;const Q=[...r];Q[q]=X,i(Q),u(!0)}return k.jsxs("div",{className:"container mx-auto px-4 py-8",children:[k.jsx("div",{className:"mb-6",children:k.jsxs(_n,{to:`/semana/${t}`,className:"text-primary-600 hover:underline",children:["← Volver a Semana ",t]})}),k.jsxs("h1",{className:"text-3xl font-bold mb-6",children:["Ejercicio Analítico ",e]}),k.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[k.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Quiz de opción múltiple"}),n.map((q,X)=>k.jsxs("div",{className:"mb-6",children:[k.jsxs("p",{className:"mb-2 font-medium",children:[X+1,". ",q.question]}),k.jsx("div",{className:"flex flex-wrap gap-2 mb-1",children:q.options.map((Q,P)=>k.jsx("button",{className:`px-3 py-1 rounded border ${r[X]===Q?Q===q.correct?"bg-green-500 text-white":"bg-red-500 text-white":"bg-gray-100 hover:bg-blue-100"}`,disabled:r[X]!==null||h,onClick:()=>U(X,Q),children:Q},P))}),r[X]&&k.jsx("span",{className:r[X]===q.correct?"text-green-600":"text-red-600",children:r[X]===q.correct?"¡Correcto!":`Incorrecto. Respuesta correcta: ${q.correct}`})]},X)),k.jsx("button",{className:`mt-4 px-4 py-2 rounded font-bold ${y>=4&&r.every(q=>q!==null)&&!h?"bg-green-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!(y>=4&&r.every(q=>q!==null))||h,onClick:I,children:h?"¡Ejercicio completado!":"Marcar como completado"}),s&&!(y>=4&&r.every(q=>q!==null))&&!h&&k.jsx("div",{className:"mt-4 text-red-600 font-semibold",children:"Debes responder correctamente al menos 4 de 5 preguntas para completar el ejercicio."}),h&&k.jsx("div",{className:"mt-4 text-green-600 font-semibold",children:"¡Tu progreso se ha guardado!"})]})]})};function ek(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Wg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Wg(Object(n),!0).forEach(function(r){ek(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Wg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tk(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function nk(t,e){if(t==null)return{};var n=tk(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rk(t,e){return ik(t)||sk(t,e)||ok(t,e)||ak()}function ik(t){if(Array.isArray(t))return t}function sk(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var u=t[Symbol.iterator](),h;!(r=(h=u.next()).done)&&(n.push(h.value),!(e&&n.length===e));r=!0);}catch(f){i=!0,s=f}finally{try{!r&&u.return!=null&&u.return()}finally{if(i)throw s}}return n}}function ok(t,e){if(t){if(typeof t=="string")return Kg(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Kg(t,e)}}function Kg(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function ak(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lk(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qg(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xg(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Qg(Object(n),!0).forEach(function(r){lk(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Qg(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function uk(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(r){return e.reduceRight(function(i,s){return s(i)},r)}}function nl(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var u=arguments.length,h=new Array(u),f=0;f<u;f++)h[f]=arguments[f];return e.apply(n,[].concat(i,h))}}}function xc(t){return{}.toString.call(t).includes("Object")}function ck(t){return!Object.keys(t).length}function Wl(t){return typeof t=="function"}function dk(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function hk(t,e){return xc(e)||Gi("changeType"),Object.keys(e).some(function(n){return!dk(t,n)})&&Gi("changeField"),e}function fk(t){Wl(t)||Gi("selectorType")}function pk(t){Wl(t)||xc(t)||Gi("handlerType"),xc(t)&&Object.values(t).some(function(e){return!Wl(e)})&&Gi("handlersType")}function mk(t){t||Gi("initialIsRequired"),xc(t)||Gi("initialType"),ck(t)&&Gi("initialContent")}function gk(t,e){throw new Error(t[e]||t.default)}var yk={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},Gi=nl(gk)(yk),s0={changes:hk,selector:fk,handler:pk,initial:mk};function vk(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};s0.initial(t),s0.handler(e);var n={current:t},r=nl(bk)(n,e),i=nl(xk)(n),s=nl(s0.changes)(t),u=nl(wk)(n);function h(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(_){return _};return s0.selector(y),y(n.current)}function f(y){uk(r,i,s,u)(y)}return[h,f]}function wk(t,e){return Wl(e)?e(t.current):e}function xk(t,e){return t.current=Xg(Xg({},t.current),e),e}function bk(t,e,n){return Wl(e)?e(t.current):Object.keys(n).forEach(function(r){var i;return(i=e[r])===null||i===void 0?void 0:i.call(e,t.current[r])}),n}var _k={create:vk},Sk={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.52.2/min/vs"}};function Ek(t){return function e(){for(var n=this,r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return i.length>=t.length?t.apply(this,i):function(){for(var u=arguments.length,h=new Array(u),f=0;f<u;f++)h[f]=arguments[f];return e.apply(n,[].concat(i,h))}}}function Tk(t){return{}.toString.call(t).includes("Object")}function kk(t){return t||Yg("configIsRequired"),Tk(t)||Yg("configType"),t.urls?(Ak(),{paths:{vs:t.urls.monacoBase}}):t}function Ak(){console.warn(zy.deprecation)}function Ik(t,e){throw new Error(t[e]||t.default)}var zy={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Yg=Ek(Ik)(zy),Ck={config:kk},Nk=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return function(i){return n.reduceRight(function(s,u){return u(s)},i)}};function Vy(t,e){return Object.keys(e).forEach(function(n){e[n]instanceof Object&&t[n]&&Object.assign(e[n],Vy(t[n],e[n]))}),Gg(Gg({},t),e)}var Pk={type:"cancelation",msg:"operation is manually canceled"};function hh(t){var e=!1,n=new Promise(function(r,i){t.then(function(s){return e?i(Pk):r(s)}),t.catch(i)});return n.cancel=function(){return e=!0},n}var Rk=_k.create({config:Sk,isInitialized:!1,resolve:null,reject:null,monaco:null}),jy=rk(Rk,2),hu=jy[0],Xc=jy[1];function Mk(t){var e=Ck.config(t),n=e.monaco,r=nk(e,["monaco"]);Xc(function(i){return{config:Vy(i.config,r),monaco:n}})}function Dk(){var t=hu(function(e){var n=e.monaco,r=e.isInitialized,i=e.resolve;return{monaco:n,isInitialized:r,resolve:i}});if(!t.isInitialized){if(Xc({isInitialized:!0}),t.monaco)return t.resolve(t.monaco),hh(fh);if(window.monaco&&window.monaco.editor)return Fy(window.monaco),t.resolve(window.monaco),hh(fh);Nk(Ok,zk)(Vk)}return hh(fh)}function Ok(t){return document.body.appendChild(t)}function Lk(t){var e=document.createElement("script");return t&&(e.src=t),e}function zk(t){var e=hu(function(r){var i=r.config,s=r.reject;return{config:i,reject:s}}),n=Lk("".concat(e.config.paths.vs,"/loader.js"));return n.onload=function(){return t()},n.onerror=e.reject,n}function Vk(){var t=hu(function(n){var r=n.config,i=n.resolve,s=n.reject;return{config:r,resolve:i,reject:s}}),e=window.require;e.config(t.config),e(["vs/editor/editor.main"],function(n){Fy(n),t.resolve(n)},function(n){t.reject(n)})}function Fy(t){hu().monaco||Xc({monaco:t})}function jk(){return hu(function(t){var e=t.monaco;return e})}var fh=new Promise(function(t,e){return Xc({resolve:t,reject:e})}),By={config:Mk,init:Dk,__getMonacoInstance:jk},Fk={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},ph=Fk,Bk={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Uk=Bk;function qk({children:t}){return er.createElement("div",{style:Uk.container},t)}var $k=qk,Hk=$k;function Wk({width:t,height:e,isEditorReady:n,loading:r,_ref:i,className:s,wrapperProps:u}){return er.createElement("section",{style:{...ph.wrapper,width:t,height:e},...u},!n&&er.createElement(Hk,null,r),er.createElement("div",{ref:i,style:{...ph.fullWidth,...!n&&ph.hide},className:s}))}var Gk=Wk,Uy=re.memo(Gk);function Kk(t){re.useEffect(t,[])}var qy=Kk;function Qk(t,e,n=!0){let r=re.useRef(!0);re.useEffect(r.current||!n?()=>{r.current=!1}:t,e)}var Vn=Qk;function vl(){}function Oo(t,e,n,r){return Xk(t,r)||Yk(t,e,n,r)}function Xk(t,e){return t.editor.getModel($y(t,e))}function Yk(t,e,n,r){return t.editor.createModel(e,n,r?$y(t,r):void 0)}function $y(t,e){return t.Uri.parse(e)}function Jk({original:t,modified:e,language:n,originalLanguage:r,modifiedLanguage:i,originalModelPath:s,modifiedModelPath:u,keepCurrentOriginalModel:h=!1,keepCurrentModifiedModel:f=!1,theme:y="light",loading:_="Loading...",options:E={},height:I="100%",width:U="100%",className:q,wrapperProps:X={},beforeMount:Q=vl,onMount:P=vl}){let[M,L]=re.useState(!1),[K,te]=re.useState(!0),ie=re.useRef(null),z=re.useRef(null),C=re.useRef(null),D=re.useRef(P),O=re.useRef(Q),$=re.useRef(!1);qy(()=>{let Te=By.init();return Te.then($e=>(z.current=$e)&&te(!1)).catch($e=>($e==null?void 0:$e.type)!=="cancelation"&&console.error("Monaco initialization: error:",$e)),()=>ie.current?Ke():Te.cancel()}),Vn(()=>{if(ie.current&&z.current){let Te=ie.current.getOriginalEditor(),$e=Oo(z.current,t||"",r||n||"text",s||"");$e!==Te.getModel()&&Te.setModel($e)}},[s],M),Vn(()=>{if(ie.current&&z.current){let Te=ie.current.getModifiedEditor(),$e=Oo(z.current,e||"",i||n||"text",u||"");$e!==Te.getModel()&&Te.setModel($e)}},[u],M),Vn(()=>{let Te=ie.current.getModifiedEditor();Te.getOption(z.current.editor.EditorOption.readOnly)?Te.setValue(e||""):e!==Te.getValue()&&(Te.executeEdits("",[{range:Te.getModel().getFullModelRange(),text:e||"",forceMoveMarkers:!0}]),Te.pushUndoStop())},[e],M),Vn(()=>{var Te,$e;($e=(Te=ie.current)==null?void 0:Te.getModel())==null||$e.original.setValue(t||"")},[t],M),Vn(()=>{let{original:Te,modified:$e}=ie.current.getModel();z.current.editor.setModelLanguage(Te,r||n||"text"),z.current.editor.setModelLanguage($e,i||n||"text")},[n,r,i],M),Vn(()=>{var Te;(Te=z.current)==null||Te.editor.setTheme(y)},[y],M),Vn(()=>{var Te;(Te=ie.current)==null||Te.updateOptions(E)},[E],M);let W=re.useCallback(()=>{var St;if(!z.current)return;O.current(z.current);let Te=Oo(z.current,t||"",r||n||"text",s||""),$e=Oo(z.current,e||"",i||n||"text",u||"");(St=ie.current)==null||St.setModel({original:Te,modified:$e})},[n,e,i,t,r,s,u]),j=re.useCallback(()=>{var Te;!$.current&&C.current&&(ie.current=z.current.editor.createDiffEditor(C.current,{automaticLayout:!0,...E}),W(),(Te=z.current)==null||Te.editor.setTheme(y),L(!0),$.current=!0)},[E,y,W]);re.useEffect(()=>{M&&D.current(ie.current,z.current)},[M]),re.useEffect(()=>{!K&&!M&&j()},[K,M,j]);function Ke(){var $e,St,me,Ee;let Te=($e=ie.current)==null?void 0:$e.getModel();h||((St=Te==null?void 0:Te.original)==null||St.dispose()),f||((me=Te==null?void 0:Te.modified)==null||me.dispose()),(Ee=ie.current)==null||Ee.dispose()}return er.createElement(Uy,{width:U,height:I,isEditorReady:M,loading:_,_ref:C,className:q,wrapperProps:X})}var Zk=Jk;re.memo(Zk);function eA(t){let e=re.useRef();return re.useEffect(()=>{e.current=t},[t]),e.current}var tA=eA,o0=new Map;function nA({defaultValue:t,defaultLanguage:e,defaultPath:n,value:r,language:i,path:s,theme:u="light",line:h,loading:f="Loading...",options:y={},overrideServices:_={},saveViewState:E=!0,keepCurrentModel:I=!1,width:U="100%",height:q="100%",className:X,wrapperProps:Q={},beforeMount:P=vl,onMount:M=vl,onChange:L,onValidate:K=vl}){let[te,ie]=re.useState(!1),[z,C]=re.useState(!0),D=re.useRef(null),O=re.useRef(null),$=re.useRef(null),W=re.useRef(M),j=re.useRef(P),Ke=re.useRef(),Te=re.useRef(r),$e=tA(s),St=re.useRef(!1),me=re.useRef(!1);qy(()=>{let oe=By.init();return oe.then(_e=>(D.current=_e)&&C(!1)).catch(_e=>(_e==null?void 0:_e.type)!=="cancelation"&&console.error("Monaco initialization: error:",_e)),()=>O.current?Ce():oe.cancel()}),Vn(()=>{var _e,Me,Et,Pt;let oe=Oo(D.current,t||r||"",e||i||"",s||n||"");oe!==((_e=O.current)==null?void 0:_e.getModel())&&(E&&o0.set($e,(Me=O.current)==null?void 0:Me.saveViewState()),(Et=O.current)==null||Et.setModel(oe),E&&((Pt=O.current)==null||Pt.restoreViewState(o0.get(s))))},[s],te),Vn(()=>{var oe;(oe=O.current)==null||oe.updateOptions(y)},[y],te),Vn(()=>{!O.current||r===void 0||(O.current.getOption(D.current.editor.EditorOption.readOnly)?O.current.setValue(r):r!==O.current.getValue()&&(me.current=!0,O.current.executeEdits("",[{range:O.current.getModel().getFullModelRange(),text:r,forceMoveMarkers:!0}]),O.current.pushUndoStop(),me.current=!1))},[r],te),Vn(()=>{var _e,Me;let oe=(_e=O.current)==null?void 0:_e.getModel();oe&&i&&((Me=D.current)==null||Me.editor.setModelLanguage(oe,i))},[i],te),Vn(()=>{var oe;h!==void 0&&((oe=O.current)==null||oe.revealLine(h))},[h],te),Vn(()=>{var oe;(oe=D.current)==null||oe.editor.setTheme(u)},[u],te);let Ee=re.useCallback(()=>{var oe;if(!(!$.current||!D.current)&&!St.current){j.current(D.current);let _e=s||n,Me=Oo(D.current,r||t||"",e||i||"",_e||"");O.current=(oe=D.current)==null?void 0:oe.editor.create($.current,{model:Me,automaticLayout:!0,...y},_),E&&O.current.restoreViewState(o0.get(_e)),D.current.editor.setTheme(u),h!==void 0&&O.current.revealLine(h),ie(!0),St.current=!0}},[t,e,n,r,i,s,y,_,E,u,h]);re.useEffect(()=>{te&&W.current(O.current,D.current)},[te]),re.useEffect(()=>{!z&&!te&&Ee()},[z,te,Ee]),Te.current=r,re.useEffect(()=>{var oe,_e;te&&L&&((oe=Ke.current)==null||oe.dispose(),Ke.current=(_e=O.current)==null?void 0:_e.onDidChangeModelContent(Me=>{me.current||L(O.current.getValue(),Me)}))},[te,L]),re.useEffect(()=>{if(te){let oe=D.current.editor.onDidChangeMarkers(_e=>{var Et;let Me=(Et=O.current.getModel())==null?void 0:Et.uri;if(Me&&_e.find(Pt=>Pt.path===Me.path)){let Pt=D.current.editor.getModelMarkers({resource:Me});K==null||K(Pt)}});return()=>{oe==null||oe.dispose()}}return()=>{}},[te,K]);function Ce(){var oe,_e;(oe=Ke.current)==null||oe.dispose(),I?E&&o0.set(s,O.current.saveViewState()):(_e=O.current.getModel())==null||_e.dispose(),O.current.dispose()}return er.createElement(Uy,{width:U,height:q,isEditorReady:te,loading:f,_ref:$,className:X,wrapperProps:Q})}var rA=nA,iA=re.memo(rA),Hy=iA;const sA=()=>{const{weekId:t,exerciseId:e}=ha(),[n,r]=re.useState(`# Completa la función en Python puro

def calcular_gradiente(x, y):
    # Tu código aquí
    pass
`),[i,s]=re.useState(null),[u,h]=re.useState(null),[f,y]=re.useState(!1),[_,E]=re.useState(!1),I=k6(),U=ky();er.useEffect(()=>{if(window.pyodideLoaded)window.loadPyodide({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.25.1/full/"}).then(Q=>{h(Q),y(!1)});else{y(!0);const Q=document.createElement("script");Q.src="https://cdn.jsdelivr.net/pyodide/v0.25.1/full/pyodide.js",Q.onload=async()=>{window.loadPyodide({indexURL:"https://cdn.jsdelivr.net/pyodide/v0.25.1/full/"}).then(P=>{h(P),window.pyodideLoaded=!0,y(!1)})},document.body.appendChild(Q)}},[]);async function q(){if(y(!0),!u){s({passed:0,total:3,details:["Pyodide aún no está listo. Espera unos segundos y reintenta."]}),y(!1);return}const Q=[{input:[2,1],expected:[5,6]},{input:[1,2],expected:[6,5]},{input:[0,0],expected:[0,0]}];let P=0,M=[];try{await u.runPythonAsync(n+`
resultado = []
for x, y in [(2,1),(1,2),(0,0)]:
    resultado.append(tuple(calcular_gradiente(x, y)))`);const L=u.globals.get("resultado").toJs();Q.forEach((K,te)=>{Array.isArray(L[te])&&L[te][0]===K.expected[0]&&L[te][1]===K.expected[1]?(P++,M.push(`Test ${te+1}: OK (input ${K.input} → output ${L[te]})`)):M.push(`Test ${te+1}: Falló (input ${K.input} → output ${L[te]}, esperado ${K.expected})`)})}catch(L){M=["Error de ejecución: "+L.message]}s({passed:P,total:3,details:M}),y(!1)}async function X(){if(!I.currentUser)return;const Q=I.currentUser.uid;await Ly(Ey(U,"codeExerciseCompletions",`${Q}_w${t}_e${e}`),{userId:Q,weekId:t,exerciseId:e,timestamp:new Date().toISOString()}),E(!0)}return k.jsxs("div",{className:"container mx-auto px-4 py-8",children:[k.jsx("div",{className:"mb-6",children:k.jsxs(_n,{to:`/semana/${t}`,className:"text-primary-600 hover:underline",children:["← Volver a Semana ",t]})}),k.jsxs("h1",{className:"text-3xl font-bold mb-6",children:["Ejercicio de Código ",e]}),k.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[k.jsxs("div",{className:"mb-6",children:[k.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Instrucciones"}),k.jsx("p",{className:"text-gray-700 mb-4",children:"Implementa una función que calcule el gradiente de la función f(x, y) = x²y + xy² en cualquier punto."}),k.jsx("p",{className:"text-gray-700",children:"Tu función debe tomar dos parámetros (x, y) y devolver una tupla con las derivadas parciales."})]}),k.jsxs("div",{className:"mb-6",children:[k.jsx("h3",{className:"text-lg font-medium mb-3",children:"Editor de código"}),k.jsx("div",{className:"h-80 border rounded-md overflow-hidden",children:k.jsx(Hy,{height:"100%",defaultLanguage:"python",value:n,onChange:Q=>r(Q||""),theme:"vs-dark",options:{minimap:{enabled:!1},fontSize:14}})})]}),f&&k.jsx("div",{className:"mb-4 text-blue-600 font-semibold",children:"Ejecutando código y corriendo tests, espera..."}),i&&k.jsxs("div",{className:"mb-6 p-4 rounded-lg bg-gray-50",children:[k.jsx("h3",{className:"text-lg font-medium mb-2",children:"Resultado:"}),k.jsx("div",{className:"mb-3",children:k.jsxs("div",{className:"flex items-center",children:[k.jsx("span",{className:"font-medium",children:"Tests pasados:"}),k.jsxs("span",{className:"ml-2",children:[i.passed,"/",i.total]})]})}),k.jsx("div",{children:i.details.map((Q,P)=>k.jsx("div",{className:Q.includes("OK")?"text-green-700":"text-red-700",children:Q},P))})]}),k.jsxs("div",{className:"flex flex-col md:flex-row gap-4 justify-end items-center",children:[k.jsx("button",{onClick:q,className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700",disabled:f,children:"Ejecutar código"}),k.jsx("button",{onClick:X,className:`px-4 py-2 rounded-md font-bold ${i&&i.passed===i.total&&!_?"bg-green-600 text-white":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!(i&&i.passed===i.total)||_,children:_?"¡Completado y guardado!":"Marcar como completado"})]})]})]})};var zf={exports:{}},mh={exports:{}},gh,Jg;function oA(){if(Jg)return gh;Jg=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return gh=t,gh}var yh,Zg;function aA(){if(Zg)return yh;Zg=1;var t=oA();function e(){}function n(){}return n.resetWarningCache=e,yh=function(){function r(u,h,f,y,_,E){if(E!==t){var I=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw I.name="Invariant Violation",I}}r.isRequired=r;function i(){return r}var s={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:i,element:r,elementType:r,instanceOf:i,node:r,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:n,resetWarningCache:e};return s.PropTypes=s,s},yh}var e2;function lA(){return e2||(e2=1,mh.exports=aA()()),mh.exports}var vh={exports:{}},t2;function uA(){return t2||(t2=1,function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:r2,function(){return function(){var n={};(function(){n.d=function(a,o){for(var l in o)n.o(o,l)&&!n.o(a,l)&&Object.defineProperty(a,l,{enumerable:!0,get:o[l]})}})(),function(){n.o=function(a,o){return Object.prototype.hasOwnProperty.call(a,o)}}();var r={};n.d(r,{default:function(){return x7}});class i{constructor(o,l){this.name=void 0,this.position=void 0,this.length=void 0,this.rawMessage=void 0;let d="KaTeX parse error: "+o,p,w;const b=l&&l.loc;if(b&&b.start<=b.end){const R=b.lexer.input;p=b.start,w=b.end,p===R.length?d+=" at end of input: ":d+=" at position "+(p+1)+": ";const B=R.slice(p,w).replace(/[^]/g,"$&̲");let G;p>15?G="…"+R.slice(p-15,p):G=R.slice(0,p);let Y;w+15<R.length?Y=R.slice(w,w+15)+"…":Y=R.slice(w),d+=G+B+Y}const T=new Error(d);return T.name="ParseError",T.__proto__=i.prototype,T.position=p,p!=null&&w!=null&&(T.length=w-p),T.rawMessage=o,T}}i.prototype.__proto__=Error.prototype;var s=i;const u=function(a,o){return a.indexOf(o)!==-1},h=function(a,o){return a===void 0?o:a},f=/([A-Z])/g,y=function(a){return a.replace(f,"-$1").toLowerCase()},_={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},E=/[&><"']/g;function I(a){return String(a).replace(E,o=>_[o])}const U=function(a){return a.type==="ordgroup"||a.type==="color"?a.body.length===1?U(a.body[0]):a:a.type==="font"?U(a.body):a},q=function(a){const o=U(a);return o.type==="mathord"||o.type==="textord"||o.type==="atom"},X=function(a){if(!a)throw new Error("Expected non-null, but got "+String(a));return a};var P={contains:u,deflt:h,escape:I,hyphenate:y,getBaseElem:U,isCharacterBox:q,protocolFromUrl:function(a){const o=/^[\x00-\x20]*([^\\/#?]*?)(:|&#0*58|&#x0*3a|&colon)/i.exec(a);return o?o[2]!==":"||!/^[a-zA-Z][a-zA-Z0-9+\-.]*$/.test(o[1])?null:o[1].toLowerCase():"_relative"}};const M={displayMode:{type:"boolean",description:"Render math in display mode, which puts the math in display style (so \\int and \\sum are large, for example), and centers the math on the page on its own line.",cli:"-d, --display-mode"},output:{type:{enum:["htmlAndMathml","html","mathml"]},description:"Determines the markup language of the output.",cli:"-F, --format <type>"},leqno:{type:"boolean",description:"Render display math in leqno style (left-justified tags)."},fleqn:{type:"boolean",description:"Render display math flush left."},throwOnError:{type:"boolean",default:!0,cli:"-t, --no-throw-on-error",cliDescription:"Render errors (in the color given by --error-color) instead of throwing a ParseError exception when encountering an error."},errorColor:{type:"string",default:"#cc0000",cli:"-c, --error-color <color>",cliDescription:"A color string given in the format 'rgb' or 'rrggbb' (no #). This option determines the color of errors rendered by the -t option.",cliProcessor:a=>"#"+a},macros:{type:"object",cli:"-m, --macro <def>",cliDescription:"Define custom macro of the form '\\foo:expansion' (use multiple -m arguments for multiple macros).",cliDefault:[],cliProcessor:(a,o)=>(o.push(a),o)},minRuleThickness:{type:"number",description:"Specifies a minimum thickness, in ems, for fraction lines, `\\sqrt` top lines, `{array}` vertical lines, `\\hline`, `\\hdashline`, `\\underline`, `\\overline`, and the borders of `\\fbox`, `\\boxed`, and `\\fcolorbox`.",processor:a=>Math.max(0,a),cli:"--min-rule-thickness <size>",cliProcessor:parseFloat},colorIsTextColor:{type:"boolean",description:"Makes \\color behave like LaTeX's 2-argument \\textcolor, instead of LaTeX's one-argument \\color mode change.",cli:"-b, --color-is-text-color"},strict:{type:[{enum:["warn","ignore","error"]},"boolean","function"],description:"Turn on strict / LaTeX faithfulness mode, which throws an error if the input uses features that are not supported by LaTeX.",cli:"-S, --strict",cliDefault:!1},trust:{type:["boolean","function"],description:"Trust the input, enabling all HTML features such as \\url.",cli:"-T, --trust"},maxSize:{type:"number",default:1/0,description:"If non-zero, all user-specified sizes, e.g. in \\rule{500em}{500em}, will be capped to maxSize ems. Otherwise, elements and spaces can be arbitrarily large",processor:a=>Math.max(0,a),cli:"-s, --max-size <n>",cliProcessor:parseInt},maxExpand:{type:"number",default:1e3,description:"Limit the number of macro expansions to the specified number, to prevent e.g. infinite macro loops. If set to Infinity, the macro expander will try to fully expand as in LaTeX.",processor:a=>Math.max(0,a),cli:"-e, --max-expand <n>",cliProcessor:a=>a==="Infinity"?1/0:parseInt(a)},globalGroup:{type:"boolean",cli:!1}};function L(a){if(a.default)return a.default;const o=a.type,l=Array.isArray(o)?o[0]:o;if(typeof l!="string")return l.enum[0];switch(l){case"boolean":return!1;case"string":return"";case"number":return 0;case"object":return{}}}class K{constructor(o){this.displayMode=void 0,this.output=void 0,this.leqno=void 0,this.fleqn=void 0,this.throwOnError=void 0,this.errorColor=void 0,this.macros=void 0,this.minRuleThickness=void 0,this.colorIsTextColor=void 0,this.strict=void 0,this.trust=void 0,this.maxSize=void 0,this.maxExpand=void 0,this.globalGroup=void 0,o=o||{};for(const l in M)if(M.hasOwnProperty(l)){const d=M[l];this[l]=o[l]!==void 0?d.processor?d.processor(o[l]):o[l]:L(d)}}reportNonstrict(o,l,d){let p=this.strict;if(typeof p=="function"&&(p=p(o,l,d)),!(!p||p==="ignore")){if(p===!0||p==="error")throw new s("LaTeX-incompatible input and strict mode is set to 'error': "+(l+" ["+o+"]"),d);p==="warn"?typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(l+" ["+o+"]")):typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+p+"': "+l+" ["+o+"]"))}}useStrictBehavior(o,l,d){let p=this.strict;if(typeof p=="function")try{p=p(o,l,d)}catch{p="error"}return!p||p==="ignore"?!1:p===!0||p==="error"?!0:p==="warn"?(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to 'warn': "+(l+" ["+o+"]")),!1):(typeof console<"u"&&console.warn("LaTeX-incompatible input and strict mode is set to "+("unrecognized '"+p+"': "+l+" ["+o+"]")),!1)}isTrusted(o){if(o.url&&!o.protocol){const d=P.protocolFromUrl(o.url);if(d==null)return!1;o.protocol=d}return!!(typeof this.trust=="function"?this.trust(o):this.trust)}}class te{constructor(o,l,d){this.id=void 0,this.size=void 0,this.cramped=void 0,this.id=o,this.size=l,this.cramped=d}sup(){return Ke[Te[this.id]]}sub(){return Ke[$e[this.id]]}fracNum(){return Ke[St[this.id]]}fracDen(){return Ke[me[this.id]]}cramp(){return Ke[Ee[this.id]]}text(){return Ke[Ce[this.id]]}isTight(){return this.size>=2}}const ie=0,z=1,C=2,D=3,O=4,$=5,W=6,j=7,Ke=[new te(ie,0,!1),new te(z,0,!0),new te(C,1,!1),new te(D,1,!0),new te(O,2,!1),new te($,2,!0),new te(W,3,!1),new te(j,3,!0)],Te=[O,$,O,$,W,j,W,j],$e=[$,$,$,$,j,j,j,j],St=[C,D,O,$,W,j,W,j],me=[D,D,$,$,j,j,j,j],Ee=[z,z,D,D,$,$,j,j],Ce=[ie,z,C,D,C,D,C,D];var oe={DISPLAY:Ke[ie],TEXT:Ke[C],SCRIPT:Ke[O],SCRIPTSCRIPT:Ke[W]};const _e=[{name:"latin",blocks:[[256,591],[768,879]]},{name:"cyrillic",blocks:[[1024,1279]]},{name:"armenian",blocks:[[1328,1423]]},{name:"brahmic",blocks:[[2304,4255]]},{name:"georgian",blocks:[[4256,4351]]},{name:"cjk",blocks:[[12288,12543],[19968,40879],[65280,65376]]},{name:"hangul",blocks:[[44032,55215]]}];function Me(a){for(let o=0;o<_e.length;o++){const l=_e[o];for(let d=0;d<l.blocks.length;d++){const p=l.blocks[d];if(a>=p[0]&&a<=p[1])return l.name}}return null}const Et=[];_e.forEach(a=>a.blocks.forEach(o=>Et.push(...o)));function Pt(a){for(let o=0;o<Et.length;o+=2)if(a>=Et[o]&&a<=Et[o+1])return!0;return!1}const sn=80,ir=function(a,o){return"M95,"+(622+a+o)+`
c-2.7,0,-7.17,-2.7,-13.5,-8c-5.8,-5.3,-9.5,-10,-9.5,-14
c0,-2,0.3,-3.3,1,-4c1.3,-2.7,23.83,-20.7,67.5,-54
c44.2,-33.3,65.8,-50.3,66.5,-51c1.3,-1.3,3,-2,5,-2c4.7,0,8.7,3.3,12,10
s173,378,173,378c0.7,0,35.3,-71,104,-213c68.7,-142,137.5,-285,206.5,-429
c69,-144,104.5,-217.7,106.5,-221
l`+a/2.075+" -"+a+`
c5.3,-9.3,12,-14,20,-14
H400000v`+(40+a)+`H845.2724
s-225.272,467,-225.272,467s-235,486,-235,486c-2.7,4.7,-9,7,-19,7
c-6,0,-10,-1,-12,-3s-194,-422,-194,-422s-65,47,-65,47z
M`+(834+a)+" "+o+"h400000v"+(40+a)+"h-400000z"},Yc=function(a,o){return"M263,"+(601+a+o)+`c0.7,0,18,39.7,52,119
c34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120
c340,-704.7,510.7,-1060.3,512,-1067
l`+a/2.084+" -"+a+`
c4.7,-7.3,11,-11,19,-11
H40000v`+(40+a)+`H1012.3
s-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232
c-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1
s-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26
c-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z
M`+(1001+a)+" "+o+"h400000v"+(40+a)+"h-400000z"},Jc=function(a,o){return"M983 "+(10+a+o)+`
l`+a/3.13+" -"+a+`
c4,-6.7,10,-10,18,-10 H400000v`+(40+a)+`
H1013.1s-83.4,268,-264.1,840c-180.7,572,-277,876.3,-289,913c-4.7,4.7,-12.7,7,-24,7
s-12,0,-12,0c-1.3,-3.3,-3.7,-11.7,-7,-25c-35.3,-125.3,-106.7,-373.3,-214,-744
c-10,12,-21,25,-33,39s-32,39,-32,39c-6,-5.3,-15,-14,-27,-26s25,-30,25,-30
c26.7,-32.7,52,-63,76,-91s52,-60,52,-60s208,722,208,722
c56,-175.3,126.3,-397.3,211,-666c84.7,-268.7,153.8,-488.2,207.5,-658.5
c53.7,-170.3,84.5,-266.8,92.5,-289.5z
M`+(1001+a)+" "+o+"h400000v"+(40+a)+"h-400000z"},Ys=function(a,o){return"M424,"+(2398+a+o)+`
c-1.3,-0.7,-38.5,-172,-111.5,-514c-73,-342,-109.8,-513.3,-110.5,-514
c0,-2,-10.7,14.3,-32,49c-4.7,7.3,-9.8,15.7,-15.5,25c-5.7,9.3,-9.8,16,-12.5,20
s-5,7,-5,7c-4,-3.3,-8.3,-7.7,-13,-13s-13,-13,-13,-13s76,-122,76,-122s77,-121,77,-121
s209,968,209,968c0,-2,84.7,-361.7,254,-1079c169.3,-717.3,254.7,-1077.7,256,-1081
l`+a/4.223+" -"+a+`c4,-6.7,10,-10,18,-10 H400000
v`+(40+a)+`H1014.6
s-87.3,378.7,-272.6,1166c-185.3,787.3,-279.3,1182.3,-282,1185
c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2z M`+(1001+a)+" "+o+`
h400000v`+(40+a)+"h-400000z"},Js=function(a,o){return"M473,"+(2713+a+o)+`
c339.3,-1799.3,509.3,-2700,510,-2702 l`+a/5.298+" -"+a+`
c3.3,-7.3,9.3,-11,18,-11 H400000v`+(40+a)+`H1017.7
s-90.5,478,-276.2,1466c-185.7,988,-279.5,1483,-281.5,1485c-2,6,-10,9,-24,9
c-8,0,-12,-0.7,-12,-2c0,-1.3,-5.3,-32,-16,-92c-50.7,-293.3,-119.7,-693.3,-207,-1200
c0,-1.3,-5.3,8.7,-16,30c-10.7,21.3,-21.3,42.7,-32,64s-16,33,-16,33s-26,-26,-26,-26
s76,-153,76,-153s77,-151,77,-151c0.7,0.7,35.7,202,105,604c67.3,400.7,102,602.7,104,
606zM`+(1001+a)+" "+o+"h400000v"+(40+a)+"H1017.7z"},ya=function(a){const o=a/2;return"M400000 "+a+" H0 L"+o+" 0 l65 45 L145 "+(a-80)+" H400000z"},va=function(a,o,l){const d=l-54-o-a;return"M702 "+(a+o)+"H400000"+(40+a)+`
H742v`+d+`l-4 4-4 4c-.667.7 -2 1.5-4 2.5s-4.167 1.833-6.5 2.5-5.5 1-9.5 1
h-12l-28-84c-16.667-52-96.667 -294.333-240-727l-212 -643 -85 170
c-4-3.333-8.333-7.667-13 -13l-13-13l77-155 77-156c66 199.333 139 419.667
219 661 l218 661zM702 `+o+"H400000v"+(40+a)+"H742z"},wa=function(a,o,l){o=1e3*o;let d="";switch(a){case"sqrtMain":d=ir(o,sn);break;case"sqrtSize1":d=Yc(o,sn);break;case"sqrtSize2":d=Jc(o,sn);break;case"sqrtSize3":d=Ys(o,sn);break;case"sqrtSize4":d=Js(o,sn);break;case"sqrtTall":d=va(o,sn,l)}return d},xa=function(a,o){switch(a){case"⎜":return"M291 0 H417 V"+o+" H291z M291 0 H417 V"+o+" H291z";case"∣":return"M145 0 H188 V"+o+" H145z M145 0 H188 V"+o+" H145z";case"∥":return"M145 0 H188 V"+o+" H145z M145 0 H188 V"+o+" H145z"+("M367 0 H410 V"+o+" H367z M367 0 H410 V"+o+" H367z");case"⎟":return"M457 0 H583 V"+o+" H457z M457 0 H583 V"+o+" H457z";case"⎢":return"M319 0 H403 V"+o+" H319z M319 0 H403 V"+o+" H319z";case"⎥":return"M263 0 H347 V"+o+" H263z M263 0 H347 V"+o+" H263z";case"⎪":return"M384 0 H504 V"+o+" H384z M384 0 H504 V"+o+" H384z";case"⏐":return"M312 0 H355 V"+o+" H312z M312 0 H355 V"+o+" H312z";case"‖":return"M257 0 H300 V"+o+" H257z M257 0 H300 V"+o+" H257z"+("M478 0 H521 V"+o+" H478z M478 0 H521 V"+o+" H478z");default:return""}},ba={doubleleftarrow:`M262 157
l10-10c34-36 62.7-77 86-123 3.3-8 5-13.3 5-16 0-5.3-6.7-8-20-8-7.3
 0-12.2.5-14.5 1.5-2.3 1-4.8 4.5-7.5 10.5-49.3 97.3-121.7 169.3-217 216-28
 14-57.3 25-88 33-6.7 2-11 3.8-13 5.5-2 1.7-3 4.2-3 7.5s1 5.8 3 7.5
c2 1.7 6.3 3.5 13 5.5 68 17.3 128.2 47.8 180.5 91.5 52.3 43.7 93.8 96.2 124.5
 157.5 9.3 8 15.3 12.3 18 13h6c12-.7 18-4 18-10 0-2-1.7-7-5-15-23.3-46-52-87
-86-123l-10-10h399738v-40H218c328 0 0 0 0 0l-10-8c-26.7-20-65.7-43-117-69 2.7
-2 6-3.7 10-5 36.7-16 72.3-37.3 107-64l10-8h399782v-40z
m8 0v40h399730v-40zm0 194v40h399730v-40z`,doublerightarrow:`M399738 392l
-10 10c-34 36-62.7 77-86 123-3.3 8-5 13.3-5 16 0 5.3 6.7 8 20 8 7.3 0 12.2-.5
 14.5-1.5 2.3-1 4.8-4.5 7.5-10.5 49.3-97.3 121.7-169.3 217-216 28-14 57.3-25 88
-33 6.7-2 11-3.8 13-5.5 2-1.7 3-4.2 3-7.5s-1-5.8-3-7.5c-2-1.7-6.3-3.5-13-5.5-68
-17.3-128.2-47.8-180.5-91.5-52.3-43.7-93.8-96.2-124.5-157.5-9.3-8-15.3-12.3-18
-13h-6c-12 .7-18 4-18 10 0 2 1.7 7 5 15 23.3 46 52 87 86 123l10 10H0v40h399782
c-328 0 0 0 0 0l10 8c26.7 20 65.7 43 117 69-2.7 2-6 3.7-10 5-36.7 16-72.3 37.3
-107 64l-10 8H0v40zM0 157v40h399730v-40zm0 194v40h399730v-40z`,leftarrow:`M400000 241H110l3-3c68.7-52.7 113.7-120
 135-202 4-14.7 6-23 6-25 0-7.3-7-11-21-11-8 0-13.2.8-15.5 2.5-2.3 1.7-4.2 5.8
-5.5 12.5-1.3 4.7-2.7 10.3-4 17-12 48.7-34.8 92-68.5 130S65.3 228.3 18 247
c-10 4-16 7.7-18 11 0 8.7 6 14.3 18 17 47.3 18.7 87.8 47 121.5 85S196 441.3 208
 490c.7 2 1.3 5 2 9s1.2 6.7 1.5 8c.3 1.3 1 3.3 2 6s2.2 4.5 3.5 5.5c1.3 1 3.3
 1.8 6 2.5s6 1 10 1c14 0 21-3.7 21-11 0-2-2-10.3-6-25-20-79.3-65-146.7-135-202
 l-3-3h399890zM100 241v40h399900v-40z`,leftbrace:`M6 548l-6-6v-35l6-11c56-104 135.3-181.3 238-232 57.3-28.7 117
-45 179-50h399577v120H403c-43.3 7-81 15-113 26-100.7 33-179.7 91-237 174-2.7
 5-6 9-10 13-.7 1-7.3 1-20 1H6z`,leftbraceunder:`M0 6l6-6h17c12.688 0 19.313.3 20 1 4 4 7.313 8.3 10 13
 35.313 51.3 80.813 93.8 136.5 127.5 55.688 33.7 117.188 55.8 184.5 66.5.688
 0 2 .3 4 1 18.688 2.7 76 4.3 172 5h399450v120H429l-6-1c-124.688-8-235-61.7
-331-161C60.687 138.7 32.312 99.3 7 54L0 41V6z`,leftgroup:`M400000 80
H435C64 80 168.3 229.4 21 260c-5.9 1.2-18 0-18 0-2 0-3-1-3-3v-38C76 61 257 0
 435 0h399565z`,leftgroupunder:`M400000 262
H435C64 262 168.3 112.6 21 82c-5.9-1.2-18 0-18 0-2 0-3 1-3 3v38c76 158 257 219
 435 219h399565z`,leftharpoon:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3
-3.3 10.2-9.5 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5
-18.3 3-21-1.3-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7
-196 228-6.7 4.7-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40z`,leftharpoonplus:`M0 267c.7 5.3 3 10 7 14h399993v-40H93c3.3-3.3 10.2-9.5
 20.5-18.5s17.8-15.8 22.5-20.5c50.7-52 88-110.3 112-175 4-11.3 5-18.3 3-21-1.3
-4-7.3-6-18-6-8 0-13 .7-15 2s-4.7 6.7-8 16c-42 98.7-107.3 174.7-196 228-6.7 4.7
-10.7 8-12 10-1.3 2-2 5.7-2 11zm100-26v40h399900v-40zM0 435v40h400000v-40z
m0 0v40h400000v-40z`,leftharpoondown:`M7 241c-4 4-6.333 8.667-7 14 0 5.333.667 9 2 11s5.333
 5.333 12 10c90.667 54 156 130 196 228 3.333 10.667 6.333 16.333 9 17 2 .667 5
 1 9 1h5c10.667 0 16.667-2 18-6 2-2.667 1-9.667-3-21-32-87.333-82.667-157.667
-152-211l-3-3h399907v-40zM93 281 H400000 v-40L7 241z`,leftharpoondownplus:`M7 435c-4 4-6.3 8.7-7 14 0 5.3.7 9 2 11s5.3 5.3 12
 10c90.7 54 156 130 196 228 3.3 10.7 6.3 16.3 9 17 2 .7 5 1 9 1h5c10.7 0 16.7
-2 18-6 2-2.7 1-9.7-3-21-32-87.3-82.7-157.7-152-211l-3-3h399907v-40H7zm93 0
v40h399900v-40zM0 241v40h399900v-40zm0 0v40h399900v-40z`,lefthook:`M400000 281 H103s-33-11.2-61-33.5S0 197.3 0 164s14.2-61.2 42.5
-83.5C70.8 58.2 104 47 142 47 c16.7 0 25 6.7 25 20 0 12-8.7 18.7-26 20-40 3.3
-68.7 15.7-86 37-10 12-15 25.3-15 40 0 22.7 9.8 40.7 29.5 54 19.7 13.3 43.5 21
 71.5 23h399859zM103 281v-40h399897v40z`,leftlinesegment:`M40 281 V428 H0 V94 H40 V241 H400000 v40z
M40 281 V428 H0 V94 H40 V241 H400000 v40z`,leftmapsto:`M40 281 V448H0V74H40V241H400000v40z
M40 281 V448H0V74H40V241H400000v40z`,leftToFrom:`M0 147h400000v40H0zm0 214c68 40 115.7 95.7 143 167h22c15.3 0 23
-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69-70-101l-7-8h399905v-40H95l7-8
c28.7-32 52-65.7 70-101 10.7-23.3 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 265.3
 68 321 0 361zm0-174v-40h399900v40zm100 154v40h399900v-40z`,longequal:`M0 50 h400000 v40H0z m0 194h40000v40H0z
M0 50 h400000 v40H0z m0 194h40000v40H0z`,midbrace:`M200428 334
c-100.7-8.3-195.3-44-280-108-55.3-42-101.7-93-139-153l-9-14c-2.7 4-5.7 8.7-9 14
-53.3 86.7-123.7 153-211 199-66.7 36-137.3 56.3-212 62H0V214h199568c178.3-11.7
 311.7-78.3 403-201 6-8 9.7-12 11-12 .7-.7 6.7-1 18-1s17.3.3 18 1c1.3 0 5 4 11
 12 44.7 59.3 101.3 106.3 170 141s145.3 54.3 229 60h199572v120z`,midbraceunder:`M199572 214
c100.7 8.3 195.3 44 280 108 55.3 42 101.7 93 139 153l9 14c2.7-4 5.7-8.7 9-14
 53.3-86.7 123.7-153 211-199 66.7-36 137.3-56.3 212-62h199568v120H200432c-178.3
 11.7-311.7 78.3-403 201-6 8-9.7 12-11 12-.7.7-6.7 1-18 1s-17.3-.3-18-1c-1.3 0
-5-4-11-12-44.7-59.3-101.3-106.3-170-141s-145.3-54.3-229-60H0V214z`,oiintSize1:`M512.6 71.6c272.6 0 320.3 106.8 320.3 178.2 0 70.8-47.7 177.6
-320.3 177.6S193.1 320.6 193.1 249.8c0-71.4 46.9-178.2 319.5-178.2z
m368.1 178.2c0-86.4-60.9-215.4-368.1-215.4-306.4 0-367.3 129-367.3 215.4 0 85.8
60.9 214.8 367.3 214.8 307.2 0 368.1-129 368.1-214.8z`,oiintSize2:`M757.8 100.1c384.7 0 451.1 137.6 451.1 230 0 91.3-66.4 228.8
-451.1 228.8-386.3 0-452.7-137.5-452.7-228.8 0-92.4 66.4-230 452.7-230z
m502.4 230c0-111.2-82.4-277.2-502.4-277.2s-504 166-504 277.2
c0 110 84 276 504 276s502.4-166 502.4-276z`,oiiintSize1:`M681.4 71.6c408.9 0 480.5 106.8 480.5 178.2 0 70.8-71.6 177.6
-480.5 177.6S202.1 320.6 202.1 249.8c0-71.4 70.5-178.2 479.3-178.2z
m525.8 178.2c0-86.4-86.8-215.4-525.7-215.4-437.9 0-524.7 129-524.7 215.4 0
85.8 86.8 214.8 524.7 214.8 438.9 0 525.7-129 525.7-214.8z`,oiiintSize2:`M1021.2 53c603.6 0 707.8 165.8 707.8 277.2 0 110-104.2 275.8
-707.8 275.8-606 0-710.2-165.8-710.2-275.8C311 218.8 415.2 53 1021.2 53z
m770.4 277.1c0-131.2-126.4-327.6-770.5-327.6S248.4 198.9 248.4 330.1
c0 130 128.8 326.4 772.7 326.4s770.5-196.4 770.5-326.4z`,rightarrow:`M0 241v40h399891c-47.3 35.3-84 78-110 128
-16.7 32-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20
 11 8 0 13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7
 39-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85
-40.5-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
 151.7 139 205zm0 0v40h399900v-40z`,rightbrace:`M400000 542l
-6 6h-17c-12.7 0-19.3-.3-20-1-4-4-7.3-8.3-10-13-35.3-51.3-80.8-93.8-136.5-127.5
s-117.2-55.8-184.5-66.5c-.7 0-2-.3-4-1-18.7-2.7-76-4.3-172-5H0V214h399571l6 1
c124.7 8 235 61.7 331 161 31.3 33.3 59.7 72.7 85 118l7 13v35z`,rightbraceunder:`M399994 0l6 6v35l-6 11c-56 104-135.3 181.3-238 232-57.3
 28.7-117 45-179 50H-300V214h399897c43.3-7 81-15 113-26 100.7-33 179.7-91 237
-174 2.7-5 6-9 10-13 .7-1 7.3-1 20-1h17z`,rightgroup:`M0 80h399565c371 0 266.7 149.4 414 180 5.9 1.2 18 0 18 0 2 0
 3-1 3-3v-38c-76-158-257-219-435-219H0z`,rightgroupunder:`M0 262h399565c371 0 266.7-149.4 414-180 5.9-1.2 18 0 18
 0 2 0 3 1 3 3v38c-76 158-257 219-435 219H0z`,rightharpoon:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3
-3.7-15.3-11-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2
-10.7 0-16.7 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58
 69.2 92 94.5zm0 0v40h399900v-40z`,rightharpoonplus:`M0 241v40h399993c4.7-4.7 7-9.3 7-14 0-9.3-3.7-15.3-11
-18-92.7-56.7-159-133.7-199-231-3.3-9.3-6-14.7-8-16-2-1.3-7-2-15-2-10.7 0-16.7
 2-18 6-2 2.7-1 9.7 3 21 15.3 42 36.7 81.8 64 119.5 27.3 37.7 58 69.2 92 94.5z
m0 0v40h399900v-40z m100 194v40h399900v-40zm0 0v40h399900v-40z`,rightharpoondown:`M399747 511c0 7.3 6.7 11 20 11 8 0 13-.8 15-2.5s4.7-6.8
 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3 8.5-5.8 9.5
-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3-64.7 57-92 95
-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 241v40h399900v-40z`,rightharpoondownplus:`M399747 705c0 7.3 6.7 11 20 11 8 0 13-.8
 15-2.5s4.7-6.8 8-15.5c40-94 99.3-166.3 178-217 13.3-8 20.3-12.3 21-13 5.3-3.3
 8.5-5.8 9.5-7.5 1-1.7 1.5-5.2 1.5-10.5s-2.3-10.3-7-15H0v40h399908c-34 25.3
-64.7 57-92 95-27.3 38-48.7 77.7-64 119-3.3 8.7-5 14-5 16zM0 435v40h399900v-40z
m0-194v40h400000v-40zm0 0v40h400000v-40z`,righthook:`M399859 241c-764 0 0 0 0 0 40-3.3 68.7-15.7 86-37 10-12 15-25.3
 15-40 0-22.7-9.8-40.7-29.5-54-19.7-13.3-43.5-21-71.5-23-17.3-1.3-26-8-26-20 0
-13.3 8.7-20 26-20 38 0 71 11.2 99 33.5 0 0 7 5.6 21 16.7 14 11.2 21 33.5 21
 66.8s-14 61.2-42 83.5c-28 22.3-61 33.5-99 33.5L0 241z M0 281v-40h399859v40z`,rightlinesegment:`M399960 241 V94 h40 V428 h-40 V281 H0 v-40z
M399960 241 V94 h40 V428 h-40 V281 H0 v-40z`,rightToFrom:`M400000 167c-70.7-42-118-97.7-142-167h-23c-15.3 0-23 .3-23
 1 0 1.3 5.3 13.7 16 37 18 35.3 41.3 69 70 101l7 8H0v40h399905l-7 8c-28.7 32
-52 65.7-70 101-10.7 23.3-16 35.7-16 37 0 .7 7.7 1 23 1h23c24-69.3 71.3-125 142
-167z M100 147v40h399900v-40zM0 341v40h399900v-40z`,twoheadleftarrow:`M0 167c68 40
 115.7 95.7 143 167h22c15.3 0 23-.3 23-1 0-1.3-5.3-13.7-16-37-18-35.3-41.3-69
-70-101l-7-8h125l9 7c50.7 39.3 85 86 103 140h46c0-4.7-6.3-18.7-19-42-18-35.3
-40-67.3-66-96l-9-9h399716v-40H284l9-9c26-28.7 48-60.7 66-96 12.7-23.333 19
-37.333 19-42h-46c-18 54-52.3 100.7-103 140l-9 7H95l7-8c28.7-32 52-65.7 70-101
 10.7-23.333 16-35.7 16-37 0-.7-7.7-1-23-1h-22C115.7 71.3 68 127 0 167z`,twoheadrightarrow:`M400000 167
c-68-40-115.7-95.7-143-167h-22c-15.3 0-23 .3-23 1 0 1.3 5.3 13.7 16 37 18 35.3
 41.3 69 70 101l7 8h-125l-9-7c-50.7-39.3-85-86-103-140h-46c0 4.7 6.3 18.7 19 42
 18 35.3 40 67.3 66 96l9 9H0v40h399716l-9 9c-26 28.7-48 60.7-66 96-12.7 23.333
-19 37.333-19 42h46c18-54 52.3-100.7 103-140l9-7h125l-7 8c-28.7 32-52 65.7-70
 101-10.7 23.333-16 35.7-16 37 0 .7 7.7 1 23 1h22c27.3-71.3 75-127 143-167z`,tilde1:`M200 55.538c-77 0-168 73.953-177 73.953-3 0-7
-2.175-9-5.437L2 97c-1-2-2-4-2-6 0-4 2-7 5-9l20-12C116 12 171 0 207 0c86 0
 114 68 191 68 78 0 168-68 177-68 4 0 7 2 9 5l12 19c1 2.175 2 4.35 2 6.525 0
 4.35-2 7.613-5 9.788l-19 13.05c-92 63.077-116.937 75.308-183 76.128
-68.267.847-113-73.952-191-73.952z`,tilde2:`M344 55.266c-142 0-300.638 81.316-311.5 86.418
-8.01 3.762-22.5 10.91-23.5 5.562L1 120c-1-2-1-3-1-4 0-5 3-9 8-10l18.4-9C160.9
 31.9 283 0 358 0c148 0 188 122 331 122s314-97 326-97c4 0 8 2 10 7l7 21.114
c1 2.14 1 3.21 1 4.28 0 5.347-3 9.626-7 10.696l-22.3 12.622C852.6 158.372 751
 181.476 676 181.476c-149 0-189-126.21-332-126.21z`,tilde3:`M786 59C457 59 32 175.242 13 175.242c-6 0-10-3.457
-11-10.37L.15 138c-1-7 3-12 10-13l19.2-6.4C378.4 40.7 634.3 0 804.3 0c337 0
 411.8 157 746.8 157 328 0 754-112 773-112 5 0 10 3 11 9l1 14.075c1 8.066-.697
 16.595-6.697 17.492l-21.052 7.31c-367.9 98.146-609.15 122.696-778.15 122.696
 -338 0-409-156.573-744-156.573z`,tilde4:`M786 58C457 58 32 177.487 13 177.487c-6 0-10-3.345
-11-10.035L.15 143c-1-7 3-12 10-13l22-6.7C381.2 35 637.15 0 807.15 0c337 0 409
 177 744 177 328 0 754-127 773-127 5 0 10 3 11 9l1 14.794c1 7.805-3 13.38-9
 14.495l-20.7 5.574c-366.85 99.79-607.3 139.372-776.3 139.372-338 0-409
 -175.236-744-175.236z`,vec:`M377 20c0-5.333 1.833-10 5.5-14S391 0 397 0c4.667 0 8.667 1.667 12 5
3.333 2.667 6.667 9 10 19 6.667 24.667 20.333 43.667 41 57 7.333 4.667 11
10.667 11 18 0 6-1 10-3 12s-6.667 5-14 9c-28.667 14.667-53.667 35.667-75 63
-1.333 1.333-3.167 3.5-5.5 6.5s-4 4.833-5 5.5c-1 .667-2.5 1.333-4.5 2s-4.333 1
-7 1c-4.667 0-9.167-1.833-13.5-5.5S337 184 337 178c0-12.667 15.667-32.333 47-59
H213l-171-1c-8.667-6-13-12.333-13-19 0-4.667 4.333-11.333 13-20h359
c-16-25.333-24-45-24-59z`,widehat1:`M529 0h5l519 115c5 1 9 5 9 10 0 1-1 2-1 3l-4 22
c-1 5-5 9-11 9h-2L532 67 19 159h-2c-5 0-9-4-11-9l-5-22c-1-6 2-12 8-13z`,widehat2:`M1181 0h2l1171 176c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 220h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat3:`M1181 0h2l1171 236c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 280h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widehat4:`M1181 0h2l1171 296c6 0 10 5 10 11l-2 23c-1 6-5 10
-11 10h-1L1182 67 15 340h-1c-6 0-10-4-11-10l-2-23c-1-6 4-11 10-11z`,widecheck1:`M529,159h5l519,-115c5,-1,9,-5,9,-10c0,-1,-1,-2,-1,-3l-4,-22c-1,
-5,-5,-9,-11,-9h-2l-512,92l-513,-92h-2c-5,0,-9,4,-11,9l-5,22c-1,6,2,12,8,13z`,widecheck2:`M1181,220h2l1171,-176c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,153l-1167,-153h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck3:`M1181,280h2l1171,-236c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,213l-1167,-213h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,widecheck4:`M1181,340h2l1171,-296c6,0,10,-5,10,-11l-2,-23c-1,-6,-5,-10,
-11,-10h-1l-1168,273l-1167,-273h-1c-6,0,-10,4,-11,10l-2,23c-1,6,4,11,10,11z`,baraboveleftarrow:`M400000 620h-399890l3 -3c68.7 -52.7 113.7 -120 135 -202
c4 -14.7 6 -23 6 -25c0 -7.3 -7 -11 -21 -11c-8 0 -13.2 0.8 -15.5 2.5
c-2.3 1.7 -4.2 5.8 -5.5 12.5c-1.3 4.7 -2.7 10.3 -4 17c-12 48.7 -34.8 92 -68.5 130
s-74.2 66.3 -121.5 85c-10 4 -16 7.7 -18 11c0 8.7 6 14.3 18 17c47.3 18.7 87.8 47
121.5 85s56.5 81.3 68.5 130c0.7 2 1.3 5 2 9s1.2 6.7 1.5 8c0.3 1.3 1 3.3 2 6
s2.2 4.5 3.5 5.5c1.3 1 3.3 1.8 6 2.5s6 1 10 1c14 0 21 -3.7 21 -11
c0 -2 -2 -10.3 -6 -25c-20 -79.3 -65 -146.7 -135 -202l-3 -3h399890z
M100 620v40h399900v-40z M0 241v40h399900v-40zM0 241v40h399900v-40z`,rightarrowabovebar:`M0 241v40h399891c-47.3 35.3-84 78-110 128-16.7 32
-27.7 63.7-33 95 0 1.3-.2 2.7-.5 4-.3 1.3-.5 2.3-.5 3 0 7.3 6.7 11 20 11 8 0
13.2-.8 15.5-2.5 2.3-1.7 4.2-5.5 5.5-11.5 2-13.3 5.7-27 11-41 14.7-44.7 39
-84.5 73-119.5s73.7-60.2 119-75.5c6-2 9-5.7 9-11s-3-9-9-11c-45.3-15.3-85-40.5
-119-75.5s-58.3-74.8-73-119.5c-4.7-14-8.3-27.3-11-40-1.3-6.7-3.2-10.8-5.5
-12.5-2.3-1.7-7.5-2.5-15.5-2.5-14 0-21 3.7-21 11 0 2 2 10.3 6 25 20.7 83.3 67
151.7 139 205zm96 379h399894v40H0zm0 0h399904v40H0z`,baraboveshortleftharpoon:`M507,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17
c2,0.7,5,1,9,1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21
c-32,-87.3,-82.7,-157.7,-152,-211c0,0,-3,-3,-3,-3l399351,0l0,-40
c-398570,0,-399437,0,-399437,0z M593 435 v40 H399500 v-40z
M0 281 v-40 H399908 v40z M0 281 v-40 H399908 v40z`,rightharpoonaboveshortbar:`M0,241 l0,40c399126,0,399993,0,399993,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M0 241 v40 H399908 v-40z M0 475 v-40 H399500 v40z M0 475 v-40 H399500 v40z`,shortbaraboveleftharpoon:`M7,435c-4,4,-6.3,8.7,-7,14c0,5.3,0.7,9,2,11
c1.3,2,5.3,5.3,12,10c90.7,54,156,130,196,228c3.3,10.7,6.3,16.3,9,17c2,0.7,5,1,9,
1c0,0,5,0,5,0c10.7,0,16.7,-2,18,-6c2,-2.7,1,-9.7,-3,-21c-32,-87.3,-82.7,-157.7,
-152,-211c0,0,-3,-3,-3,-3l399907,0l0,-40c-399126,0,-399993,0,-399993,0z
M93 435 v40 H400000 v-40z M500 241 v40 H400000 v-40z M500 241 v40 H400000 v-40z`,shortrightharpoonabovebar:`M53,241l0,40c398570,0,399437,0,399437,0
c4.7,-4.7,7,-9.3,7,-14c0,-9.3,-3.7,-15.3,-11,-18c-92.7,-56.7,-159,-133.7,-199,
-231c-3.3,-9.3,-6,-14.7,-8,-16c-2,-1.3,-7,-2,-15,-2c-10.7,0,-16.7,2,-18,6
c-2,2.7,-1,9.7,3,21c15.3,42,36.7,81.8,64,119.5c27.3,37.7,58,69.2,92,94.5z
M500 241 v40 H399408 v-40z M500 435 v40 H400000 v-40z`},Zc=function(a,o){switch(a){case"lbrack":return"M403 1759 V84 H666 V0 H319 V1759 v"+o+` v1759 h347 v-84
H403z M403 1759 V0 H319 V1759 v`+o+" v1759 h84z";case"rbrack":return"M347 1759 V0 H0 V84 H263 V1759 v"+o+` v1759 H0 v84 H347z
M347 1759 V0 H263 V1759 v`+o+" v1759 h84z";case"vert":return"M145 15 v585 v"+o+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-o+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+o+" v585 h43z";case"doublevert":return"M145 15 v585 v"+o+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-o+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M188 15 H145 v585 v`+o+` v585 h43z
M367 15 v585 v`+o+` v585 c2.667,10,9.667,15,21,15
c10,0,16.667,-5,20,-15 v-585 v`+-o+` v-585 c-2.667,-10,-9.667,-15,-21,-15
c-10,0,-16.667,5,-20,15z M410 15 H367 v585 v`+o+" v585 h43z";case"lfloor":return"M319 602 V0 H403 V602 v"+o+` v1715 h263 v84 H319z
MM319 602 V0 H403 V602 v`+o+" v1715 H319z";case"rfloor":return"M319 602 V0 H403 V602 v"+o+` v1799 H0 v-84 H319z
MM319 602 V0 H403 V602 v`+o+" v1715 H319z";case"lceil":return"M403 1759 V84 H666 V0 H319 V1759 v"+o+` v602 h84z
M403 1759 V0 H319 V1759 v`+o+" v602 h84z";case"rceil":return"M347 1759 V0 H0 V84 H263 V1759 v"+o+` v602 h84z
M347 1759 V0 h-84 V1759 v`+o+" v602 h84z";case"lparen":return`M863,9c0,-2,-2,-5,-6,-9c0,0,-17,0,-17,0c-12.7,0,-19.3,0.3,-20,1
c-5.3,5.3,-10.3,11,-15,17c-242.7,294.7,-395.3,682,-458,1162c-21.3,163.3,-33.3,349,
-36,557 l0,`+(o+84)+`c0.2,6,0,26,0,60c2,159.3,10,310.7,24,454c53.3,528,210,
949.7,470,1265c4.7,6,9.7,11.7,15,17c0.7,0.7,7,1,19,1c0,0,18,0,18,0c4,-4,6,-7,6,-9
c0,-2.7,-3.3,-8.7,-10,-18c-135.3,-192.7,-235.5,-414.3,-300.5,-665c-65,-250.7,-102.5,
-544.7,-112.5,-882c-2,-104,-3,-167,-3,-189
l0,-`+(o+92)+`c0,-162.7,5.7,-314,17,-454c20.7,-272,63.7,-513,129,-723c65.3,
-210,155.3,-396.3,270,-559c6.7,-9.3,10,-15.3,10,-18z`;case"rparen":return`M76,0c-16.7,0,-25,3,-25,9c0,2,2,6.3,6,13c21.3,28.7,42.3,60.3,
63,95c96.7,156.7,172.8,332.5,228.5,527.5c55.7,195,92.8,416.5,111.5,664.5
c11.3,139.3,17,290.7,17,454c0,28,1.7,43,3.3,45l0,`+(o+9)+`
c-3,4,-3.3,16.7,-3.3,38c0,162,-5.7,313.7,-17,455c-18.7,248,-55.8,469.3,-111.5,664
c-55.7,194.7,-131.8,370.3,-228.5,527c-20.7,34.7,-41.7,66.3,-63,95c-2,3.3,-4,7,-6,11
c0,7.3,5.7,11,17,11c0,0,11,0,11,0c9.3,0,14.3,-0.3,15,-1c5.3,-5.3,10.3,-11,15,-17
c242.7,-294.7,395.3,-681.7,458,-1161c21.3,-164.7,33.3,-350.7,36,-558
l0,-`+(o+144)+`c-2,-159.3,-10,-310.7,-24,-454c-53.3,-528,-210,-949.7,
-470,-1265c-4.7,-6,-9.7,-11.7,-15,-17c-0.7,-0.7,-6.7,-1,-18,-1z`;default:throw new Error("Unknown stretchy delimiter.")}};class rs{constructor(o){this.children=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.children=o,this.classes=[],this.height=0,this.depth=0,this.maxFontSize=0,this.style={}}hasClass(o){return P.contains(this.classes,o)}toNode(){const o=document.createDocumentFragment();for(let l=0;l<this.children.length;l++)o.appendChild(this.children[l].toNode());return o}toMarkup(){let o="";for(let l=0;l<this.children.length;l++)o+=this.children[l].toMarkup();return o}toText(){const o=l=>l.toText();return this.children.map(o).join("")}}var Dn={"AMS-Regular":{32:[0,0,0,0,.25],65:[0,.68889,0,0,.72222],66:[0,.68889,0,0,.66667],67:[0,.68889,0,0,.72222],68:[0,.68889,0,0,.72222],69:[0,.68889,0,0,.66667],70:[0,.68889,0,0,.61111],71:[0,.68889,0,0,.77778],72:[0,.68889,0,0,.77778],73:[0,.68889,0,0,.38889],74:[.16667,.68889,0,0,.5],75:[0,.68889,0,0,.77778],76:[0,.68889,0,0,.66667],77:[0,.68889,0,0,.94445],78:[0,.68889,0,0,.72222],79:[.16667,.68889,0,0,.77778],80:[0,.68889,0,0,.61111],81:[.16667,.68889,0,0,.77778],82:[0,.68889,0,0,.72222],83:[0,.68889,0,0,.55556],84:[0,.68889,0,0,.66667],85:[0,.68889,0,0,.72222],86:[0,.68889,0,0,.72222],87:[0,.68889,0,0,1],88:[0,.68889,0,0,.72222],89:[0,.68889,0,0,.72222],90:[0,.68889,0,0,.66667],107:[0,.68889,0,0,.55556],160:[0,0,0,0,.25],165:[0,.675,.025,0,.75],174:[.15559,.69224,0,0,.94666],240:[0,.68889,0,0,.55556],295:[0,.68889,0,0,.54028],710:[0,.825,0,0,2.33334],732:[0,.9,0,0,2.33334],770:[0,.825,0,0,2.33334],771:[0,.9,0,0,2.33334],989:[.08167,.58167,0,0,.77778],1008:[0,.43056,.04028,0,.66667],8245:[0,.54986,0,0,.275],8463:[0,.68889,0,0,.54028],8487:[0,.68889,0,0,.72222],8498:[0,.68889,0,0,.55556],8502:[0,.68889,0,0,.66667],8503:[0,.68889,0,0,.44445],8504:[0,.68889,0,0,.66667],8513:[0,.68889,0,0,.63889],8592:[-.03598,.46402,0,0,.5],8594:[-.03598,.46402,0,0,.5],8602:[-.13313,.36687,0,0,1],8603:[-.13313,.36687,0,0,1],8606:[.01354,.52239,0,0,1],8608:[.01354,.52239,0,0,1],8610:[.01354,.52239,0,0,1.11111],8611:[.01354,.52239,0,0,1.11111],8619:[0,.54986,0,0,1],8620:[0,.54986,0,0,1],8621:[-.13313,.37788,0,0,1.38889],8622:[-.13313,.36687,0,0,1],8624:[0,.69224,0,0,.5],8625:[0,.69224,0,0,.5],8630:[0,.43056,0,0,1],8631:[0,.43056,0,0,1],8634:[.08198,.58198,0,0,.77778],8635:[.08198,.58198,0,0,.77778],8638:[.19444,.69224,0,0,.41667],8639:[.19444,.69224,0,0,.41667],8642:[.19444,.69224,0,0,.41667],8643:[.19444,.69224,0,0,.41667],8644:[.1808,.675,0,0,1],8646:[.1808,.675,0,0,1],8647:[.1808,.675,0,0,1],8648:[.19444,.69224,0,0,.83334],8649:[.1808,.675,0,0,1],8650:[.19444,.69224,0,0,.83334],8651:[.01354,.52239,0,0,1],8652:[.01354,.52239,0,0,1],8653:[-.13313,.36687,0,0,1],8654:[-.13313,.36687,0,0,1],8655:[-.13313,.36687,0,0,1],8666:[.13667,.63667,0,0,1],8667:[.13667,.63667,0,0,1],8669:[-.13313,.37788,0,0,1],8672:[-.064,.437,0,0,1.334],8674:[-.064,.437,0,0,1.334],8705:[0,.825,0,0,.5],8708:[0,.68889,0,0,.55556],8709:[.08167,.58167,0,0,.77778],8717:[0,.43056,0,0,.42917],8722:[-.03598,.46402,0,0,.5],8724:[.08198,.69224,0,0,.77778],8726:[.08167,.58167,0,0,.77778],8733:[0,.69224,0,0,.77778],8736:[0,.69224,0,0,.72222],8737:[0,.69224,0,0,.72222],8738:[.03517,.52239,0,0,.72222],8739:[.08167,.58167,0,0,.22222],8740:[.25142,.74111,0,0,.27778],8741:[.08167,.58167,0,0,.38889],8742:[.25142,.74111,0,0,.5],8756:[0,.69224,0,0,.66667],8757:[0,.69224,0,0,.66667],8764:[-.13313,.36687,0,0,.77778],8765:[-.13313,.37788,0,0,.77778],8769:[-.13313,.36687,0,0,.77778],8770:[-.03625,.46375,0,0,.77778],8774:[.30274,.79383,0,0,.77778],8776:[-.01688,.48312,0,0,.77778],8778:[.08167,.58167,0,0,.77778],8782:[.06062,.54986,0,0,.77778],8783:[.06062,.54986,0,0,.77778],8785:[.08198,.58198,0,0,.77778],8786:[.08198,.58198,0,0,.77778],8787:[.08198,.58198,0,0,.77778],8790:[0,.69224,0,0,.77778],8791:[.22958,.72958,0,0,.77778],8796:[.08198,.91667,0,0,.77778],8806:[.25583,.75583,0,0,.77778],8807:[.25583,.75583,0,0,.77778],8808:[.25142,.75726,0,0,.77778],8809:[.25142,.75726,0,0,.77778],8812:[.25583,.75583,0,0,.5],8814:[.20576,.70576,0,0,.77778],8815:[.20576,.70576,0,0,.77778],8816:[.30274,.79383,0,0,.77778],8817:[.30274,.79383,0,0,.77778],8818:[.22958,.72958,0,0,.77778],8819:[.22958,.72958,0,0,.77778],8822:[.1808,.675,0,0,.77778],8823:[.1808,.675,0,0,.77778],8828:[.13667,.63667,0,0,.77778],8829:[.13667,.63667,0,0,.77778],8830:[.22958,.72958,0,0,.77778],8831:[.22958,.72958,0,0,.77778],8832:[.20576,.70576,0,0,.77778],8833:[.20576,.70576,0,0,.77778],8840:[.30274,.79383,0,0,.77778],8841:[.30274,.79383,0,0,.77778],8842:[.13597,.63597,0,0,.77778],8843:[.13597,.63597,0,0,.77778],8847:[.03517,.54986,0,0,.77778],8848:[.03517,.54986,0,0,.77778],8858:[.08198,.58198,0,0,.77778],8859:[.08198,.58198,0,0,.77778],8861:[.08198,.58198,0,0,.77778],8862:[0,.675,0,0,.77778],8863:[0,.675,0,0,.77778],8864:[0,.675,0,0,.77778],8865:[0,.675,0,0,.77778],8872:[0,.69224,0,0,.61111],8873:[0,.69224,0,0,.72222],8874:[0,.69224,0,0,.88889],8876:[0,.68889,0,0,.61111],8877:[0,.68889,0,0,.61111],8878:[0,.68889,0,0,.72222],8879:[0,.68889,0,0,.72222],8882:[.03517,.54986,0,0,.77778],8883:[.03517,.54986,0,0,.77778],8884:[.13667,.63667,0,0,.77778],8885:[.13667,.63667,0,0,.77778],8888:[0,.54986,0,0,1.11111],8890:[.19444,.43056,0,0,.55556],8891:[.19444,.69224,0,0,.61111],8892:[.19444,.69224,0,0,.61111],8901:[0,.54986,0,0,.27778],8903:[.08167,.58167,0,0,.77778],8905:[.08167,.58167,0,0,.77778],8906:[.08167,.58167,0,0,.77778],8907:[0,.69224,0,0,.77778],8908:[0,.69224,0,0,.77778],8909:[-.03598,.46402,0,0,.77778],8910:[0,.54986,0,0,.76042],8911:[0,.54986,0,0,.76042],8912:[.03517,.54986,0,0,.77778],8913:[.03517,.54986,0,0,.77778],8914:[0,.54986,0,0,.66667],8915:[0,.54986,0,0,.66667],8916:[0,.69224,0,0,.66667],8918:[.0391,.5391,0,0,.77778],8919:[.0391,.5391,0,0,.77778],8920:[.03517,.54986,0,0,1.33334],8921:[.03517,.54986,0,0,1.33334],8922:[.38569,.88569,0,0,.77778],8923:[.38569,.88569,0,0,.77778],8926:[.13667,.63667,0,0,.77778],8927:[.13667,.63667,0,0,.77778],8928:[.30274,.79383,0,0,.77778],8929:[.30274,.79383,0,0,.77778],8934:[.23222,.74111,0,0,.77778],8935:[.23222,.74111,0,0,.77778],8936:[.23222,.74111,0,0,.77778],8937:[.23222,.74111,0,0,.77778],8938:[.20576,.70576,0,0,.77778],8939:[.20576,.70576,0,0,.77778],8940:[.30274,.79383,0,0,.77778],8941:[.30274,.79383,0,0,.77778],8994:[.19444,.69224,0,0,.77778],8995:[.19444,.69224,0,0,.77778],9416:[.15559,.69224,0,0,.90222],9484:[0,.69224,0,0,.5],9488:[0,.69224,0,0,.5],9492:[0,.37788,0,0,.5],9496:[0,.37788,0,0,.5],9585:[.19444,.68889,0,0,.88889],9586:[.19444,.74111,0,0,.88889],9632:[0,.675,0,0,.77778],9633:[0,.675,0,0,.77778],9650:[0,.54986,0,0,.72222],9651:[0,.54986,0,0,.72222],9654:[.03517,.54986,0,0,.77778],9660:[0,.54986,0,0,.72222],9661:[0,.54986,0,0,.72222],9664:[.03517,.54986,0,0,.77778],9674:[.11111,.69224,0,0,.66667],9733:[.19444,.69224,0,0,.94445],10003:[0,.69224,0,0,.83334],10016:[0,.69224,0,0,.83334],10731:[.11111,.69224,0,0,.66667],10846:[.19444,.75583,0,0,.61111],10877:[.13667,.63667,0,0,.77778],10878:[.13667,.63667,0,0,.77778],10885:[.25583,.75583,0,0,.77778],10886:[.25583,.75583,0,0,.77778],10887:[.13597,.63597,0,0,.77778],10888:[.13597,.63597,0,0,.77778],10889:[.26167,.75726,0,0,.77778],10890:[.26167,.75726,0,0,.77778],10891:[.48256,.98256,0,0,.77778],10892:[.48256,.98256,0,0,.77778],10901:[.13667,.63667,0,0,.77778],10902:[.13667,.63667,0,0,.77778],10933:[.25142,.75726,0,0,.77778],10934:[.25142,.75726,0,0,.77778],10935:[.26167,.75726,0,0,.77778],10936:[.26167,.75726,0,0,.77778],10937:[.26167,.75726,0,0,.77778],10938:[.26167,.75726,0,0,.77778],10949:[.25583,.75583,0,0,.77778],10950:[.25583,.75583,0,0,.77778],10955:[.28481,.79383,0,0,.77778],10956:[.28481,.79383,0,0,.77778],57350:[.08167,.58167,0,0,.22222],57351:[.08167,.58167,0,0,.38889],57352:[.08167,.58167,0,0,.77778],57353:[0,.43056,.04028,0,.66667],57356:[.25142,.75726,0,0,.77778],57357:[.25142,.75726,0,0,.77778],57358:[.41951,.91951,0,0,.77778],57359:[.30274,.79383,0,0,.77778],57360:[.30274,.79383,0,0,.77778],57361:[.41951,.91951,0,0,.77778],57366:[.25142,.75726,0,0,.77778],57367:[.25142,.75726,0,0,.77778],57368:[.25142,.75726,0,0,.77778],57369:[.25142,.75726,0,0,.77778],57370:[.13597,.63597,0,0,.77778],57371:[.13597,.63597,0,0,.77778]},"Caligraphic-Regular":{32:[0,0,0,0,.25],65:[0,.68333,0,.19445,.79847],66:[0,.68333,.03041,.13889,.65681],67:[0,.68333,.05834,.13889,.52653],68:[0,.68333,.02778,.08334,.77139],69:[0,.68333,.08944,.11111,.52778],70:[0,.68333,.09931,.11111,.71875],71:[.09722,.68333,.0593,.11111,.59487],72:[0,.68333,.00965,.11111,.84452],73:[0,.68333,.07382,0,.54452],74:[.09722,.68333,.18472,.16667,.67778],75:[0,.68333,.01445,.05556,.76195],76:[0,.68333,0,.13889,.68972],77:[0,.68333,0,.13889,1.2009],78:[0,.68333,.14736,.08334,.82049],79:[0,.68333,.02778,.11111,.79611],80:[0,.68333,.08222,.08334,.69556],81:[.09722,.68333,0,.11111,.81667],82:[0,.68333,0,.08334,.8475],83:[0,.68333,.075,.13889,.60556],84:[0,.68333,.25417,0,.54464],85:[0,.68333,.09931,.08334,.62583],86:[0,.68333,.08222,0,.61278],87:[0,.68333,.08222,.08334,.98778],88:[0,.68333,.14643,.13889,.7133],89:[.09722,.68333,.08222,.08334,.66834],90:[0,.68333,.07944,.13889,.72473],160:[0,0,0,0,.25]},"Fraktur-Regular":{32:[0,0,0,0,.25],33:[0,.69141,0,0,.29574],34:[0,.69141,0,0,.21471],38:[0,.69141,0,0,.73786],39:[0,.69141,0,0,.21201],40:[.24982,.74947,0,0,.38865],41:[.24982,.74947,0,0,.38865],42:[0,.62119,0,0,.27764],43:[.08319,.58283,0,0,.75623],44:[0,.10803,0,0,.27764],45:[.08319,.58283,0,0,.75623],46:[0,.10803,0,0,.27764],47:[.24982,.74947,0,0,.50181],48:[0,.47534,0,0,.50181],49:[0,.47534,0,0,.50181],50:[0,.47534,0,0,.50181],51:[.18906,.47534,0,0,.50181],52:[.18906,.47534,0,0,.50181],53:[.18906,.47534,0,0,.50181],54:[0,.69141,0,0,.50181],55:[.18906,.47534,0,0,.50181],56:[0,.69141,0,0,.50181],57:[.18906,.47534,0,0,.50181],58:[0,.47534,0,0,.21606],59:[.12604,.47534,0,0,.21606],61:[-.13099,.36866,0,0,.75623],63:[0,.69141,0,0,.36245],65:[0,.69141,0,0,.7176],66:[0,.69141,0,0,.88397],67:[0,.69141,0,0,.61254],68:[0,.69141,0,0,.83158],69:[0,.69141,0,0,.66278],70:[.12604,.69141,0,0,.61119],71:[0,.69141,0,0,.78539],72:[.06302,.69141,0,0,.7203],73:[0,.69141,0,0,.55448],74:[.12604,.69141,0,0,.55231],75:[0,.69141,0,0,.66845],76:[0,.69141,0,0,.66602],77:[0,.69141,0,0,1.04953],78:[0,.69141,0,0,.83212],79:[0,.69141,0,0,.82699],80:[.18906,.69141,0,0,.82753],81:[.03781,.69141,0,0,.82699],82:[0,.69141,0,0,.82807],83:[0,.69141,0,0,.82861],84:[0,.69141,0,0,.66899],85:[0,.69141,0,0,.64576],86:[0,.69141,0,0,.83131],87:[0,.69141,0,0,1.04602],88:[0,.69141,0,0,.71922],89:[.18906,.69141,0,0,.83293],90:[.12604,.69141,0,0,.60201],91:[.24982,.74947,0,0,.27764],93:[.24982,.74947,0,0,.27764],94:[0,.69141,0,0,.49965],97:[0,.47534,0,0,.50046],98:[0,.69141,0,0,.51315],99:[0,.47534,0,0,.38946],100:[0,.62119,0,0,.49857],101:[0,.47534,0,0,.40053],102:[.18906,.69141,0,0,.32626],103:[.18906,.47534,0,0,.5037],104:[.18906,.69141,0,0,.52126],105:[0,.69141,0,0,.27899],106:[0,.69141,0,0,.28088],107:[0,.69141,0,0,.38946],108:[0,.69141,0,0,.27953],109:[0,.47534,0,0,.76676],110:[0,.47534,0,0,.52666],111:[0,.47534,0,0,.48885],112:[.18906,.52396,0,0,.50046],113:[.18906,.47534,0,0,.48912],114:[0,.47534,0,0,.38919],115:[0,.47534,0,0,.44266],116:[0,.62119,0,0,.33301],117:[0,.47534,0,0,.5172],118:[0,.52396,0,0,.5118],119:[0,.52396,0,0,.77351],120:[.18906,.47534,0,0,.38865],121:[.18906,.47534,0,0,.49884],122:[.18906,.47534,0,0,.39054],160:[0,0,0,0,.25],8216:[0,.69141,0,0,.21471],8217:[0,.69141,0,0,.21471],58112:[0,.62119,0,0,.49749],58113:[0,.62119,0,0,.4983],58114:[.18906,.69141,0,0,.33328],58115:[.18906,.69141,0,0,.32923],58116:[.18906,.47534,0,0,.50343],58117:[0,.69141,0,0,.33301],58118:[0,.62119,0,0,.33409],58119:[0,.47534,0,0,.50073]},"Main-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.35],34:[0,.69444,0,0,.60278],35:[.19444,.69444,0,0,.95833],36:[.05556,.75,0,0,.575],37:[.05556,.75,0,0,.95833],38:[0,.69444,0,0,.89444],39:[0,.69444,0,0,.31944],40:[.25,.75,0,0,.44722],41:[.25,.75,0,0,.44722],42:[0,.75,0,0,.575],43:[.13333,.63333,0,0,.89444],44:[.19444,.15556,0,0,.31944],45:[0,.44444,0,0,.38333],46:[0,.15556,0,0,.31944],47:[.25,.75,0,0,.575],48:[0,.64444,0,0,.575],49:[0,.64444,0,0,.575],50:[0,.64444,0,0,.575],51:[0,.64444,0,0,.575],52:[0,.64444,0,0,.575],53:[0,.64444,0,0,.575],54:[0,.64444,0,0,.575],55:[0,.64444,0,0,.575],56:[0,.64444,0,0,.575],57:[0,.64444,0,0,.575],58:[0,.44444,0,0,.31944],59:[.19444,.44444,0,0,.31944],60:[.08556,.58556,0,0,.89444],61:[-.10889,.39111,0,0,.89444],62:[.08556,.58556,0,0,.89444],63:[0,.69444,0,0,.54305],64:[0,.69444,0,0,.89444],65:[0,.68611,0,0,.86944],66:[0,.68611,0,0,.81805],67:[0,.68611,0,0,.83055],68:[0,.68611,0,0,.88194],69:[0,.68611,0,0,.75555],70:[0,.68611,0,0,.72361],71:[0,.68611,0,0,.90416],72:[0,.68611,0,0,.9],73:[0,.68611,0,0,.43611],74:[0,.68611,0,0,.59444],75:[0,.68611,0,0,.90138],76:[0,.68611,0,0,.69166],77:[0,.68611,0,0,1.09166],78:[0,.68611,0,0,.9],79:[0,.68611,0,0,.86388],80:[0,.68611,0,0,.78611],81:[.19444,.68611,0,0,.86388],82:[0,.68611,0,0,.8625],83:[0,.68611,0,0,.63889],84:[0,.68611,0,0,.8],85:[0,.68611,0,0,.88472],86:[0,.68611,.01597,0,.86944],87:[0,.68611,.01597,0,1.18888],88:[0,.68611,0,0,.86944],89:[0,.68611,.02875,0,.86944],90:[0,.68611,0,0,.70277],91:[.25,.75,0,0,.31944],92:[.25,.75,0,0,.575],93:[.25,.75,0,0,.31944],94:[0,.69444,0,0,.575],95:[.31,.13444,.03194,0,.575],97:[0,.44444,0,0,.55902],98:[0,.69444,0,0,.63889],99:[0,.44444,0,0,.51111],100:[0,.69444,0,0,.63889],101:[0,.44444,0,0,.52708],102:[0,.69444,.10903,0,.35139],103:[.19444,.44444,.01597,0,.575],104:[0,.69444,0,0,.63889],105:[0,.69444,0,0,.31944],106:[.19444,.69444,0,0,.35139],107:[0,.69444,0,0,.60694],108:[0,.69444,0,0,.31944],109:[0,.44444,0,0,.95833],110:[0,.44444,0,0,.63889],111:[0,.44444,0,0,.575],112:[.19444,.44444,0,0,.63889],113:[.19444,.44444,0,0,.60694],114:[0,.44444,0,0,.47361],115:[0,.44444,0,0,.45361],116:[0,.63492,0,0,.44722],117:[0,.44444,0,0,.63889],118:[0,.44444,.01597,0,.60694],119:[0,.44444,.01597,0,.83055],120:[0,.44444,0,0,.60694],121:[.19444,.44444,.01597,0,.60694],122:[0,.44444,0,0,.51111],123:[.25,.75,0,0,.575],124:[.25,.75,0,0,.31944],125:[.25,.75,0,0,.575],126:[.35,.34444,0,0,.575],160:[0,0,0,0,.25],163:[0,.69444,0,0,.86853],168:[0,.69444,0,0,.575],172:[0,.44444,0,0,.76666],176:[0,.69444,0,0,.86944],177:[.13333,.63333,0,0,.89444],184:[.17014,0,0,0,.51111],198:[0,.68611,0,0,1.04166],215:[.13333,.63333,0,0,.89444],216:[.04861,.73472,0,0,.89444],223:[0,.69444,0,0,.59722],230:[0,.44444,0,0,.83055],247:[.13333,.63333,0,0,.89444],248:[.09722,.54167,0,0,.575],305:[0,.44444,0,0,.31944],338:[0,.68611,0,0,1.16944],339:[0,.44444,0,0,.89444],567:[.19444,.44444,0,0,.35139],710:[0,.69444,0,0,.575],711:[0,.63194,0,0,.575],713:[0,.59611,0,0,.575],714:[0,.69444,0,0,.575],715:[0,.69444,0,0,.575],728:[0,.69444,0,0,.575],729:[0,.69444,0,0,.31944],730:[0,.69444,0,0,.86944],732:[0,.69444,0,0,.575],733:[0,.69444,0,0,.575],915:[0,.68611,0,0,.69166],916:[0,.68611,0,0,.95833],920:[0,.68611,0,0,.89444],923:[0,.68611,0,0,.80555],926:[0,.68611,0,0,.76666],928:[0,.68611,0,0,.9],931:[0,.68611,0,0,.83055],933:[0,.68611,0,0,.89444],934:[0,.68611,0,0,.83055],936:[0,.68611,0,0,.89444],937:[0,.68611,0,0,.83055],8211:[0,.44444,.03194,0,.575],8212:[0,.44444,.03194,0,1.14999],8216:[0,.69444,0,0,.31944],8217:[0,.69444,0,0,.31944],8220:[0,.69444,0,0,.60278],8221:[0,.69444,0,0,.60278],8224:[.19444,.69444,0,0,.51111],8225:[.19444,.69444,0,0,.51111],8242:[0,.55556,0,0,.34444],8407:[0,.72444,.15486,0,.575],8463:[0,.69444,0,0,.66759],8465:[0,.69444,0,0,.83055],8467:[0,.69444,0,0,.47361],8472:[.19444,.44444,0,0,.74027],8476:[0,.69444,0,0,.83055],8501:[0,.69444,0,0,.70277],8592:[-.10889,.39111,0,0,1.14999],8593:[.19444,.69444,0,0,.575],8594:[-.10889,.39111,0,0,1.14999],8595:[.19444,.69444,0,0,.575],8596:[-.10889,.39111,0,0,1.14999],8597:[.25,.75,0,0,.575],8598:[.19444,.69444,0,0,1.14999],8599:[.19444,.69444,0,0,1.14999],8600:[.19444,.69444,0,0,1.14999],8601:[.19444,.69444,0,0,1.14999],8636:[-.10889,.39111,0,0,1.14999],8637:[-.10889,.39111,0,0,1.14999],8640:[-.10889,.39111,0,0,1.14999],8641:[-.10889,.39111,0,0,1.14999],8656:[-.10889,.39111,0,0,1.14999],8657:[.19444,.69444,0,0,.70277],8658:[-.10889,.39111,0,0,1.14999],8659:[.19444,.69444,0,0,.70277],8660:[-.10889,.39111,0,0,1.14999],8661:[.25,.75,0,0,.70277],8704:[0,.69444,0,0,.63889],8706:[0,.69444,.06389,0,.62847],8707:[0,.69444,0,0,.63889],8709:[.05556,.75,0,0,.575],8711:[0,.68611,0,0,.95833],8712:[.08556,.58556,0,0,.76666],8715:[.08556,.58556,0,0,.76666],8722:[.13333,.63333,0,0,.89444],8723:[.13333,.63333,0,0,.89444],8725:[.25,.75,0,0,.575],8726:[.25,.75,0,0,.575],8727:[-.02778,.47222,0,0,.575],8728:[-.02639,.47361,0,0,.575],8729:[-.02639,.47361,0,0,.575],8730:[.18,.82,0,0,.95833],8733:[0,.44444,0,0,.89444],8734:[0,.44444,0,0,1.14999],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.31944],8741:[.25,.75,0,0,.575],8743:[0,.55556,0,0,.76666],8744:[0,.55556,0,0,.76666],8745:[0,.55556,0,0,.76666],8746:[0,.55556,0,0,.76666],8747:[.19444,.69444,.12778,0,.56875],8764:[-.10889,.39111,0,0,.89444],8768:[.19444,.69444,0,0,.31944],8771:[.00222,.50222,0,0,.89444],8773:[.027,.638,0,0,.894],8776:[.02444,.52444,0,0,.89444],8781:[.00222,.50222,0,0,.89444],8801:[.00222,.50222,0,0,.89444],8804:[.19667,.69667,0,0,.89444],8805:[.19667,.69667,0,0,.89444],8810:[.08556,.58556,0,0,1.14999],8811:[.08556,.58556,0,0,1.14999],8826:[.08556,.58556,0,0,.89444],8827:[.08556,.58556,0,0,.89444],8834:[.08556,.58556,0,0,.89444],8835:[.08556,.58556,0,0,.89444],8838:[.19667,.69667,0,0,.89444],8839:[.19667,.69667,0,0,.89444],8846:[0,.55556,0,0,.76666],8849:[.19667,.69667,0,0,.89444],8850:[.19667,.69667,0,0,.89444],8851:[0,.55556,0,0,.76666],8852:[0,.55556,0,0,.76666],8853:[.13333,.63333,0,0,.89444],8854:[.13333,.63333,0,0,.89444],8855:[.13333,.63333,0,0,.89444],8856:[.13333,.63333,0,0,.89444],8857:[.13333,.63333,0,0,.89444],8866:[0,.69444,0,0,.70277],8867:[0,.69444,0,0,.70277],8868:[0,.69444,0,0,.89444],8869:[0,.69444,0,0,.89444],8900:[-.02639,.47361,0,0,.575],8901:[-.02639,.47361,0,0,.31944],8902:[-.02778,.47222,0,0,.575],8968:[.25,.75,0,0,.51111],8969:[.25,.75,0,0,.51111],8970:[.25,.75,0,0,.51111],8971:[.25,.75,0,0,.51111],8994:[-.13889,.36111,0,0,1.14999],8995:[-.13889,.36111,0,0,1.14999],9651:[.19444,.69444,0,0,1.02222],9657:[-.02778,.47222,0,0,.575],9661:[.19444,.69444,0,0,1.02222],9667:[-.02778,.47222,0,0,.575],9711:[.19444,.69444,0,0,1.14999],9824:[.12963,.69444,0,0,.89444],9825:[.12963,.69444,0,0,.89444],9826:[.12963,.69444,0,0,.89444],9827:[.12963,.69444,0,0,.89444],9837:[0,.75,0,0,.44722],9838:[.19444,.69444,0,0,.44722],9839:[.19444,.69444,0,0,.44722],10216:[.25,.75,0,0,.44722],10217:[.25,.75,0,0,.44722],10815:[0,.68611,0,0,.9],10927:[.19667,.69667,0,0,.89444],10928:[.19667,.69667,0,0,.89444],57376:[.19444,.69444,0,0,0]},"Main-BoldItalic":{32:[0,0,0,0,.25],33:[0,.69444,.11417,0,.38611],34:[0,.69444,.07939,0,.62055],35:[.19444,.69444,.06833,0,.94444],37:[.05556,.75,.12861,0,.94444],38:[0,.69444,.08528,0,.88555],39:[0,.69444,.12945,0,.35555],40:[.25,.75,.15806,0,.47333],41:[.25,.75,.03306,0,.47333],42:[0,.75,.14333,0,.59111],43:[.10333,.60333,.03306,0,.88555],44:[.19444,.14722,0,0,.35555],45:[0,.44444,.02611,0,.41444],46:[0,.14722,0,0,.35555],47:[.25,.75,.15806,0,.59111],48:[0,.64444,.13167,0,.59111],49:[0,.64444,.13167,0,.59111],50:[0,.64444,.13167,0,.59111],51:[0,.64444,.13167,0,.59111],52:[.19444,.64444,.13167,0,.59111],53:[0,.64444,.13167,0,.59111],54:[0,.64444,.13167,0,.59111],55:[.19444,.64444,.13167,0,.59111],56:[0,.64444,.13167,0,.59111],57:[0,.64444,.13167,0,.59111],58:[0,.44444,.06695,0,.35555],59:[.19444,.44444,.06695,0,.35555],61:[-.10889,.39111,.06833,0,.88555],63:[0,.69444,.11472,0,.59111],64:[0,.69444,.09208,0,.88555],65:[0,.68611,0,0,.86555],66:[0,.68611,.0992,0,.81666],67:[0,.68611,.14208,0,.82666],68:[0,.68611,.09062,0,.87555],69:[0,.68611,.11431,0,.75666],70:[0,.68611,.12903,0,.72722],71:[0,.68611,.07347,0,.89527],72:[0,.68611,.17208,0,.8961],73:[0,.68611,.15681,0,.47166],74:[0,.68611,.145,0,.61055],75:[0,.68611,.14208,0,.89499],76:[0,.68611,0,0,.69777],77:[0,.68611,.17208,0,1.07277],78:[0,.68611,.17208,0,.8961],79:[0,.68611,.09062,0,.85499],80:[0,.68611,.0992,0,.78721],81:[.19444,.68611,.09062,0,.85499],82:[0,.68611,.02559,0,.85944],83:[0,.68611,.11264,0,.64999],84:[0,.68611,.12903,0,.7961],85:[0,.68611,.17208,0,.88083],86:[0,.68611,.18625,0,.86555],87:[0,.68611,.18625,0,1.15999],88:[0,.68611,.15681,0,.86555],89:[0,.68611,.19803,0,.86555],90:[0,.68611,.14208,0,.70888],91:[.25,.75,.1875,0,.35611],93:[.25,.75,.09972,0,.35611],94:[0,.69444,.06709,0,.59111],95:[.31,.13444,.09811,0,.59111],97:[0,.44444,.09426,0,.59111],98:[0,.69444,.07861,0,.53222],99:[0,.44444,.05222,0,.53222],100:[0,.69444,.10861,0,.59111],101:[0,.44444,.085,0,.53222],102:[.19444,.69444,.21778,0,.4],103:[.19444,.44444,.105,0,.53222],104:[0,.69444,.09426,0,.59111],105:[0,.69326,.11387,0,.35555],106:[.19444,.69326,.1672,0,.35555],107:[0,.69444,.11111,0,.53222],108:[0,.69444,.10861,0,.29666],109:[0,.44444,.09426,0,.94444],110:[0,.44444,.09426,0,.64999],111:[0,.44444,.07861,0,.59111],112:[.19444,.44444,.07861,0,.59111],113:[.19444,.44444,.105,0,.53222],114:[0,.44444,.11111,0,.50167],115:[0,.44444,.08167,0,.48694],116:[0,.63492,.09639,0,.385],117:[0,.44444,.09426,0,.62055],118:[0,.44444,.11111,0,.53222],119:[0,.44444,.11111,0,.76777],120:[0,.44444,.12583,0,.56055],121:[.19444,.44444,.105,0,.56166],122:[0,.44444,.13889,0,.49055],126:[.35,.34444,.11472,0,.59111],160:[0,0,0,0,.25],168:[0,.69444,.11473,0,.59111],176:[0,.69444,0,0,.94888],184:[.17014,0,0,0,.53222],198:[0,.68611,.11431,0,1.02277],216:[.04861,.73472,.09062,0,.88555],223:[.19444,.69444,.09736,0,.665],230:[0,.44444,.085,0,.82666],248:[.09722,.54167,.09458,0,.59111],305:[0,.44444,.09426,0,.35555],338:[0,.68611,.11431,0,1.14054],339:[0,.44444,.085,0,.82666],567:[.19444,.44444,.04611,0,.385],710:[0,.69444,.06709,0,.59111],711:[0,.63194,.08271,0,.59111],713:[0,.59444,.10444,0,.59111],714:[0,.69444,.08528,0,.59111],715:[0,.69444,0,0,.59111],728:[0,.69444,.10333,0,.59111],729:[0,.69444,.12945,0,.35555],730:[0,.69444,0,0,.94888],732:[0,.69444,.11472,0,.59111],733:[0,.69444,.11472,0,.59111],915:[0,.68611,.12903,0,.69777],916:[0,.68611,0,0,.94444],920:[0,.68611,.09062,0,.88555],923:[0,.68611,0,0,.80666],926:[0,.68611,.15092,0,.76777],928:[0,.68611,.17208,0,.8961],931:[0,.68611,.11431,0,.82666],933:[0,.68611,.10778,0,.88555],934:[0,.68611,.05632,0,.82666],936:[0,.68611,.10778,0,.88555],937:[0,.68611,.0992,0,.82666],8211:[0,.44444,.09811,0,.59111],8212:[0,.44444,.09811,0,1.18221],8216:[0,.69444,.12945,0,.35555],8217:[0,.69444,.12945,0,.35555],8220:[0,.69444,.16772,0,.62055],8221:[0,.69444,.07939,0,.62055]},"Main-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.12417,0,.30667],34:[0,.69444,.06961,0,.51444],35:[.19444,.69444,.06616,0,.81777],37:[.05556,.75,.13639,0,.81777],38:[0,.69444,.09694,0,.76666],39:[0,.69444,.12417,0,.30667],40:[.25,.75,.16194,0,.40889],41:[.25,.75,.03694,0,.40889],42:[0,.75,.14917,0,.51111],43:[.05667,.56167,.03694,0,.76666],44:[.19444,.10556,0,0,.30667],45:[0,.43056,.02826,0,.35778],46:[0,.10556,0,0,.30667],47:[.25,.75,.16194,0,.51111],48:[0,.64444,.13556,0,.51111],49:[0,.64444,.13556,0,.51111],50:[0,.64444,.13556,0,.51111],51:[0,.64444,.13556,0,.51111],52:[.19444,.64444,.13556,0,.51111],53:[0,.64444,.13556,0,.51111],54:[0,.64444,.13556,0,.51111],55:[.19444,.64444,.13556,0,.51111],56:[0,.64444,.13556,0,.51111],57:[0,.64444,.13556,0,.51111],58:[0,.43056,.0582,0,.30667],59:[.19444,.43056,.0582,0,.30667],61:[-.13313,.36687,.06616,0,.76666],63:[0,.69444,.1225,0,.51111],64:[0,.69444,.09597,0,.76666],65:[0,.68333,0,0,.74333],66:[0,.68333,.10257,0,.70389],67:[0,.68333,.14528,0,.71555],68:[0,.68333,.09403,0,.755],69:[0,.68333,.12028,0,.67833],70:[0,.68333,.13305,0,.65277],71:[0,.68333,.08722,0,.77361],72:[0,.68333,.16389,0,.74333],73:[0,.68333,.15806,0,.38555],74:[0,.68333,.14028,0,.525],75:[0,.68333,.14528,0,.76888],76:[0,.68333,0,0,.62722],77:[0,.68333,.16389,0,.89666],78:[0,.68333,.16389,0,.74333],79:[0,.68333,.09403,0,.76666],80:[0,.68333,.10257,0,.67833],81:[.19444,.68333,.09403,0,.76666],82:[0,.68333,.03868,0,.72944],83:[0,.68333,.11972,0,.56222],84:[0,.68333,.13305,0,.71555],85:[0,.68333,.16389,0,.74333],86:[0,.68333,.18361,0,.74333],87:[0,.68333,.18361,0,.99888],88:[0,.68333,.15806,0,.74333],89:[0,.68333,.19383,0,.74333],90:[0,.68333,.14528,0,.61333],91:[.25,.75,.1875,0,.30667],93:[.25,.75,.10528,0,.30667],94:[0,.69444,.06646,0,.51111],95:[.31,.12056,.09208,0,.51111],97:[0,.43056,.07671,0,.51111],98:[0,.69444,.06312,0,.46],99:[0,.43056,.05653,0,.46],100:[0,.69444,.10333,0,.51111],101:[0,.43056,.07514,0,.46],102:[.19444,.69444,.21194,0,.30667],103:[.19444,.43056,.08847,0,.46],104:[0,.69444,.07671,0,.51111],105:[0,.65536,.1019,0,.30667],106:[.19444,.65536,.14467,0,.30667],107:[0,.69444,.10764,0,.46],108:[0,.69444,.10333,0,.25555],109:[0,.43056,.07671,0,.81777],110:[0,.43056,.07671,0,.56222],111:[0,.43056,.06312,0,.51111],112:[.19444,.43056,.06312,0,.51111],113:[.19444,.43056,.08847,0,.46],114:[0,.43056,.10764,0,.42166],115:[0,.43056,.08208,0,.40889],116:[0,.61508,.09486,0,.33222],117:[0,.43056,.07671,0,.53666],118:[0,.43056,.10764,0,.46],119:[0,.43056,.10764,0,.66444],120:[0,.43056,.12042,0,.46389],121:[.19444,.43056,.08847,0,.48555],122:[0,.43056,.12292,0,.40889],126:[.35,.31786,.11585,0,.51111],160:[0,0,0,0,.25],168:[0,.66786,.10474,0,.51111],176:[0,.69444,0,0,.83129],184:[.17014,0,0,0,.46],198:[0,.68333,.12028,0,.88277],216:[.04861,.73194,.09403,0,.76666],223:[.19444,.69444,.10514,0,.53666],230:[0,.43056,.07514,0,.71555],248:[.09722,.52778,.09194,0,.51111],338:[0,.68333,.12028,0,.98499],339:[0,.43056,.07514,0,.71555],710:[0,.69444,.06646,0,.51111],711:[0,.62847,.08295,0,.51111],713:[0,.56167,.10333,0,.51111],714:[0,.69444,.09694,0,.51111],715:[0,.69444,0,0,.51111],728:[0,.69444,.10806,0,.51111],729:[0,.66786,.11752,0,.30667],730:[0,.69444,0,0,.83129],732:[0,.66786,.11585,0,.51111],733:[0,.69444,.1225,0,.51111],915:[0,.68333,.13305,0,.62722],916:[0,.68333,0,0,.81777],920:[0,.68333,.09403,0,.76666],923:[0,.68333,0,0,.69222],926:[0,.68333,.15294,0,.66444],928:[0,.68333,.16389,0,.74333],931:[0,.68333,.12028,0,.71555],933:[0,.68333,.11111,0,.76666],934:[0,.68333,.05986,0,.71555],936:[0,.68333,.11111,0,.76666],937:[0,.68333,.10257,0,.71555],8211:[0,.43056,.09208,0,.51111],8212:[0,.43056,.09208,0,1.02222],8216:[0,.69444,.12417,0,.30667],8217:[0,.69444,.12417,0,.30667],8220:[0,.69444,.1685,0,.51444],8221:[0,.69444,.06961,0,.51444],8463:[0,.68889,0,0,.54028]},"Main-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.27778],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.77778],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.19444,.10556,0,0,.27778],45:[0,.43056,0,0,.33333],46:[0,.10556,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.64444,0,0,.5],49:[0,.64444,0,0,.5],50:[0,.64444,0,0,.5],51:[0,.64444,0,0,.5],52:[0,.64444,0,0,.5],53:[0,.64444,0,0,.5],54:[0,.64444,0,0,.5],55:[0,.64444,0,0,.5],56:[0,.64444,0,0,.5],57:[0,.64444,0,0,.5],58:[0,.43056,0,0,.27778],59:[.19444,.43056,0,0,.27778],60:[.0391,.5391,0,0,.77778],61:[-.13313,.36687,0,0,.77778],62:[.0391,.5391,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.77778],65:[0,.68333,0,0,.75],66:[0,.68333,0,0,.70834],67:[0,.68333,0,0,.72222],68:[0,.68333,0,0,.76389],69:[0,.68333,0,0,.68056],70:[0,.68333,0,0,.65278],71:[0,.68333,0,0,.78472],72:[0,.68333,0,0,.75],73:[0,.68333,0,0,.36111],74:[0,.68333,0,0,.51389],75:[0,.68333,0,0,.77778],76:[0,.68333,0,0,.625],77:[0,.68333,0,0,.91667],78:[0,.68333,0,0,.75],79:[0,.68333,0,0,.77778],80:[0,.68333,0,0,.68056],81:[.19444,.68333,0,0,.77778],82:[0,.68333,0,0,.73611],83:[0,.68333,0,0,.55556],84:[0,.68333,0,0,.72222],85:[0,.68333,0,0,.75],86:[0,.68333,.01389,0,.75],87:[0,.68333,.01389,0,1.02778],88:[0,.68333,0,0,.75],89:[0,.68333,.025,0,.75],90:[0,.68333,0,0,.61111],91:[.25,.75,0,0,.27778],92:[.25,.75,0,0,.5],93:[.25,.75,0,0,.27778],94:[0,.69444,0,0,.5],95:[.31,.12056,.02778,0,.5],97:[0,.43056,0,0,.5],98:[0,.69444,0,0,.55556],99:[0,.43056,0,0,.44445],100:[0,.69444,0,0,.55556],101:[0,.43056,0,0,.44445],102:[0,.69444,.07778,0,.30556],103:[.19444,.43056,.01389,0,.5],104:[0,.69444,0,0,.55556],105:[0,.66786,0,0,.27778],106:[.19444,.66786,0,0,.30556],107:[0,.69444,0,0,.52778],108:[0,.69444,0,0,.27778],109:[0,.43056,0,0,.83334],110:[0,.43056,0,0,.55556],111:[0,.43056,0,0,.5],112:[.19444,.43056,0,0,.55556],113:[.19444,.43056,0,0,.52778],114:[0,.43056,0,0,.39167],115:[0,.43056,0,0,.39445],116:[0,.61508,0,0,.38889],117:[0,.43056,0,0,.55556],118:[0,.43056,.01389,0,.52778],119:[0,.43056,.01389,0,.72222],120:[0,.43056,0,0,.52778],121:[.19444,.43056,.01389,0,.52778],122:[0,.43056,0,0,.44445],123:[.25,.75,0,0,.5],124:[.25,.75,0,0,.27778],125:[.25,.75,0,0,.5],126:[.35,.31786,0,0,.5],160:[0,0,0,0,.25],163:[0,.69444,0,0,.76909],167:[.19444,.69444,0,0,.44445],168:[0,.66786,0,0,.5],172:[0,.43056,0,0,.66667],176:[0,.69444,0,0,.75],177:[.08333,.58333,0,0,.77778],182:[.19444,.69444,0,0,.61111],184:[.17014,0,0,0,.44445],198:[0,.68333,0,0,.90278],215:[.08333,.58333,0,0,.77778],216:[.04861,.73194,0,0,.77778],223:[0,.69444,0,0,.5],230:[0,.43056,0,0,.72222],247:[.08333,.58333,0,0,.77778],248:[.09722,.52778,0,0,.5],305:[0,.43056,0,0,.27778],338:[0,.68333,0,0,1.01389],339:[0,.43056,0,0,.77778],567:[.19444,.43056,0,0,.30556],710:[0,.69444,0,0,.5],711:[0,.62847,0,0,.5],713:[0,.56778,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.66786,0,0,.27778],730:[0,.69444,0,0,.75],732:[0,.66786,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.68333,0,0,.625],916:[0,.68333,0,0,.83334],920:[0,.68333,0,0,.77778],923:[0,.68333,0,0,.69445],926:[0,.68333,0,0,.66667],928:[0,.68333,0,0,.75],931:[0,.68333,0,0,.72222],933:[0,.68333,0,0,.77778],934:[0,.68333,0,0,.72222],936:[0,.68333,0,0,.77778],937:[0,.68333,0,0,.72222],8211:[0,.43056,.02778,0,.5],8212:[0,.43056,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5],8224:[.19444,.69444,0,0,.44445],8225:[.19444,.69444,0,0,.44445],8230:[0,.123,0,0,1.172],8242:[0,.55556,0,0,.275],8407:[0,.71444,.15382,0,.5],8463:[0,.68889,0,0,.54028],8465:[0,.69444,0,0,.72222],8467:[0,.69444,0,.11111,.41667],8472:[.19444,.43056,0,.11111,.63646],8476:[0,.69444,0,0,.72222],8501:[0,.69444,0,0,.61111],8592:[-.13313,.36687,0,0,1],8593:[.19444,.69444,0,0,.5],8594:[-.13313,.36687,0,0,1],8595:[.19444,.69444,0,0,.5],8596:[-.13313,.36687,0,0,1],8597:[.25,.75,0,0,.5],8598:[.19444,.69444,0,0,1],8599:[.19444,.69444,0,0,1],8600:[.19444,.69444,0,0,1],8601:[.19444,.69444,0,0,1],8614:[.011,.511,0,0,1],8617:[.011,.511,0,0,1.126],8618:[.011,.511,0,0,1.126],8636:[-.13313,.36687,0,0,1],8637:[-.13313,.36687,0,0,1],8640:[-.13313,.36687,0,0,1],8641:[-.13313,.36687,0,0,1],8652:[.011,.671,0,0,1],8656:[-.13313,.36687,0,0,1],8657:[.19444,.69444,0,0,.61111],8658:[-.13313,.36687,0,0,1],8659:[.19444,.69444,0,0,.61111],8660:[-.13313,.36687,0,0,1],8661:[.25,.75,0,0,.61111],8704:[0,.69444,0,0,.55556],8706:[0,.69444,.05556,.08334,.5309],8707:[0,.69444,0,0,.55556],8709:[.05556,.75,0,0,.5],8711:[0,.68333,0,0,.83334],8712:[.0391,.5391,0,0,.66667],8715:[.0391,.5391,0,0,.66667],8722:[.08333,.58333,0,0,.77778],8723:[.08333,.58333,0,0,.77778],8725:[.25,.75,0,0,.5],8726:[.25,.75,0,0,.5],8727:[-.03472,.46528,0,0,.5],8728:[-.05555,.44445,0,0,.5],8729:[-.05555,.44445,0,0,.5],8730:[.2,.8,0,0,.83334],8733:[0,.43056,0,0,.77778],8734:[0,.43056,0,0,1],8736:[0,.69224,0,0,.72222],8739:[.25,.75,0,0,.27778],8741:[.25,.75,0,0,.5],8743:[0,.55556,0,0,.66667],8744:[0,.55556,0,0,.66667],8745:[0,.55556,0,0,.66667],8746:[0,.55556,0,0,.66667],8747:[.19444,.69444,.11111,0,.41667],8764:[-.13313,.36687,0,0,.77778],8768:[.19444,.69444,0,0,.27778],8771:[-.03625,.46375,0,0,.77778],8773:[-.022,.589,0,0,.778],8776:[-.01688,.48312,0,0,.77778],8781:[-.03625,.46375,0,0,.77778],8784:[-.133,.673,0,0,.778],8801:[-.03625,.46375,0,0,.77778],8804:[.13597,.63597,0,0,.77778],8805:[.13597,.63597,0,0,.77778],8810:[.0391,.5391,0,0,1],8811:[.0391,.5391,0,0,1],8826:[.0391,.5391,0,0,.77778],8827:[.0391,.5391,0,0,.77778],8834:[.0391,.5391,0,0,.77778],8835:[.0391,.5391,0,0,.77778],8838:[.13597,.63597,0,0,.77778],8839:[.13597,.63597,0,0,.77778],8846:[0,.55556,0,0,.66667],8849:[.13597,.63597,0,0,.77778],8850:[.13597,.63597,0,0,.77778],8851:[0,.55556,0,0,.66667],8852:[0,.55556,0,0,.66667],8853:[.08333,.58333,0,0,.77778],8854:[.08333,.58333,0,0,.77778],8855:[.08333,.58333,0,0,.77778],8856:[.08333,.58333,0,0,.77778],8857:[.08333,.58333,0,0,.77778],8866:[0,.69444,0,0,.61111],8867:[0,.69444,0,0,.61111],8868:[0,.69444,0,0,.77778],8869:[0,.69444,0,0,.77778],8872:[.249,.75,0,0,.867],8900:[-.05555,.44445,0,0,.5],8901:[-.05555,.44445,0,0,.27778],8902:[-.03472,.46528,0,0,.5],8904:[.005,.505,0,0,.9],8942:[.03,.903,0,0,.278],8943:[-.19,.313,0,0,1.172],8945:[-.1,.823,0,0,1.282],8968:[.25,.75,0,0,.44445],8969:[.25,.75,0,0,.44445],8970:[.25,.75,0,0,.44445],8971:[.25,.75,0,0,.44445],8994:[-.14236,.35764,0,0,1],8995:[-.14236,.35764,0,0,1],9136:[.244,.744,0,0,.412],9137:[.244,.745,0,0,.412],9651:[.19444,.69444,0,0,.88889],9657:[-.03472,.46528,0,0,.5],9661:[.19444,.69444,0,0,.88889],9667:[-.03472,.46528,0,0,.5],9711:[.19444,.69444,0,0,1],9824:[.12963,.69444,0,0,.77778],9825:[.12963,.69444,0,0,.77778],9826:[.12963,.69444,0,0,.77778],9827:[.12963,.69444,0,0,.77778],9837:[0,.75,0,0,.38889],9838:[.19444,.69444,0,0,.38889],9839:[.19444,.69444,0,0,.38889],10216:[.25,.75,0,0,.38889],10217:[.25,.75,0,0,.38889],10222:[.244,.744,0,0,.412],10223:[.244,.745,0,0,.412],10229:[.011,.511,0,0,1.609],10230:[.011,.511,0,0,1.638],10231:[.011,.511,0,0,1.859],10232:[.024,.525,0,0,1.609],10233:[.024,.525,0,0,1.638],10234:[.024,.525,0,0,1.858],10236:[.011,.511,0,0,1.638],10815:[0,.68333,0,0,.75],10927:[.13597,.63597,0,0,.77778],10928:[.13597,.63597,0,0,.77778],57376:[.19444,.69444,0,0,0]},"Math-BoldItalic":{32:[0,0,0,0,.25],48:[0,.44444,0,0,.575],49:[0,.44444,0,0,.575],50:[0,.44444,0,0,.575],51:[.19444,.44444,0,0,.575],52:[.19444,.44444,0,0,.575],53:[.19444,.44444,0,0,.575],54:[0,.64444,0,0,.575],55:[.19444,.44444,0,0,.575],56:[0,.64444,0,0,.575],57:[.19444,.44444,0,0,.575],65:[0,.68611,0,0,.86944],66:[0,.68611,.04835,0,.8664],67:[0,.68611,.06979,0,.81694],68:[0,.68611,.03194,0,.93812],69:[0,.68611,.05451,0,.81007],70:[0,.68611,.15972,0,.68889],71:[0,.68611,0,0,.88673],72:[0,.68611,.08229,0,.98229],73:[0,.68611,.07778,0,.51111],74:[0,.68611,.10069,0,.63125],75:[0,.68611,.06979,0,.97118],76:[0,.68611,0,0,.75555],77:[0,.68611,.11424,0,1.14201],78:[0,.68611,.11424,0,.95034],79:[0,.68611,.03194,0,.83666],80:[0,.68611,.15972,0,.72309],81:[.19444,.68611,0,0,.86861],82:[0,.68611,.00421,0,.87235],83:[0,.68611,.05382,0,.69271],84:[0,.68611,.15972,0,.63663],85:[0,.68611,.11424,0,.80027],86:[0,.68611,.25555,0,.67778],87:[0,.68611,.15972,0,1.09305],88:[0,.68611,.07778,0,.94722],89:[0,.68611,.25555,0,.67458],90:[0,.68611,.06979,0,.77257],97:[0,.44444,0,0,.63287],98:[0,.69444,0,0,.52083],99:[0,.44444,0,0,.51342],100:[0,.69444,0,0,.60972],101:[0,.44444,0,0,.55361],102:[.19444,.69444,.11042,0,.56806],103:[.19444,.44444,.03704,0,.5449],104:[0,.69444,0,0,.66759],105:[0,.69326,0,0,.4048],106:[.19444,.69326,.0622,0,.47083],107:[0,.69444,.01852,0,.6037],108:[0,.69444,.0088,0,.34815],109:[0,.44444,0,0,1.0324],110:[0,.44444,0,0,.71296],111:[0,.44444,0,0,.58472],112:[.19444,.44444,0,0,.60092],113:[.19444,.44444,.03704,0,.54213],114:[0,.44444,.03194,0,.5287],115:[0,.44444,0,0,.53125],116:[0,.63492,0,0,.41528],117:[0,.44444,0,0,.68102],118:[0,.44444,.03704,0,.56666],119:[0,.44444,.02778,0,.83148],120:[0,.44444,0,0,.65903],121:[.19444,.44444,.03704,0,.59028],122:[0,.44444,.04213,0,.55509],160:[0,0,0,0,.25],915:[0,.68611,.15972,0,.65694],916:[0,.68611,0,0,.95833],920:[0,.68611,.03194,0,.86722],923:[0,.68611,0,0,.80555],926:[0,.68611,.07458,0,.84125],928:[0,.68611,.08229,0,.98229],931:[0,.68611,.05451,0,.88507],933:[0,.68611,.15972,0,.67083],934:[0,.68611,0,0,.76666],936:[0,.68611,.11653,0,.71402],937:[0,.68611,.04835,0,.8789],945:[0,.44444,0,0,.76064],946:[.19444,.69444,.03403,0,.65972],947:[.19444,.44444,.06389,0,.59003],948:[0,.69444,.03819,0,.52222],949:[0,.44444,0,0,.52882],950:[.19444,.69444,.06215,0,.50833],951:[.19444,.44444,.03704,0,.6],952:[0,.69444,.03194,0,.5618],953:[0,.44444,0,0,.41204],954:[0,.44444,0,0,.66759],955:[0,.69444,0,0,.67083],956:[.19444,.44444,0,0,.70787],957:[0,.44444,.06898,0,.57685],958:[.19444,.69444,.03021,0,.50833],959:[0,.44444,0,0,.58472],960:[0,.44444,.03704,0,.68241],961:[.19444,.44444,0,0,.6118],962:[.09722,.44444,.07917,0,.42361],963:[0,.44444,.03704,0,.68588],964:[0,.44444,.13472,0,.52083],965:[0,.44444,.03704,0,.63055],966:[.19444,.44444,0,0,.74722],967:[.19444,.44444,0,0,.71805],968:[.19444,.69444,.03704,0,.75833],969:[0,.44444,.03704,0,.71782],977:[0,.69444,0,0,.69155],981:[.19444,.69444,0,0,.7125],982:[0,.44444,.03194,0,.975],1009:[.19444,.44444,0,0,.6118],1013:[0,.44444,0,0,.48333],57649:[0,.44444,0,0,.39352],57911:[.19444,.44444,0,0,.43889]},"Math-Italic":{32:[0,0,0,0,.25],48:[0,.43056,0,0,.5],49:[0,.43056,0,0,.5],50:[0,.43056,0,0,.5],51:[.19444,.43056,0,0,.5],52:[.19444,.43056,0,0,.5],53:[.19444,.43056,0,0,.5],54:[0,.64444,0,0,.5],55:[.19444,.43056,0,0,.5],56:[0,.64444,0,0,.5],57:[.19444,.43056,0,0,.5],65:[0,.68333,0,.13889,.75],66:[0,.68333,.05017,.08334,.75851],67:[0,.68333,.07153,.08334,.71472],68:[0,.68333,.02778,.05556,.82792],69:[0,.68333,.05764,.08334,.7382],70:[0,.68333,.13889,.08334,.64306],71:[0,.68333,0,.08334,.78625],72:[0,.68333,.08125,.05556,.83125],73:[0,.68333,.07847,.11111,.43958],74:[0,.68333,.09618,.16667,.55451],75:[0,.68333,.07153,.05556,.84931],76:[0,.68333,0,.02778,.68056],77:[0,.68333,.10903,.08334,.97014],78:[0,.68333,.10903,.08334,.80347],79:[0,.68333,.02778,.08334,.76278],80:[0,.68333,.13889,.08334,.64201],81:[.19444,.68333,0,.08334,.79056],82:[0,.68333,.00773,.08334,.75929],83:[0,.68333,.05764,.08334,.6132],84:[0,.68333,.13889,.08334,.58438],85:[0,.68333,.10903,.02778,.68278],86:[0,.68333,.22222,0,.58333],87:[0,.68333,.13889,0,.94445],88:[0,.68333,.07847,.08334,.82847],89:[0,.68333,.22222,0,.58056],90:[0,.68333,.07153,.08334,.68264],97:[0,.43056,0,0,.52859],98:[0,.69444,0,0,.42917],99:[0,.43056,0,.05556,.43276],100:[0,.69444,0,.16667,.52049],101:[0,.43056,0,.05556,.46563],102:[.19444,.69444,.10764,.16667,.48959],103:[.19444,.43056,.03588,.02778,.47697],104:[0,.69444,0,0,.57616],105:[0,.65952,0,0,.34451],106:[.19444,.65952,.05724,0,.41181],107:[0,.69444,.03148,0,.5206],108:[0,.69444,.01968,.08334,.29838],109:[0,.43056,0,0,.87801],110:[0,.43056,0,0,.60023],111:[0,.43056,0,.05556,.48472],112:[.19444,.43056,0,.08334,.50313],113:[.19444,.43056,.03588,.08334,.44641],114:[0,.43056,.02778,.05556,.45116],115:[0,.43056,0,.05556,.46875],116:[0,.61508,0,.08334,.36111],117:[0,.43056,0,.02778,.57246],118:[0,.43056,.03588,.02778,.48472],119:[0,.43056,.02691,.08334,.71592],120:[0,.43056,0,.02778,.57153],121:[.19444,.43056,.03588,.05556,.49028],122:[0,.43056,.04398,.05556,.46505],160:[0,0,0,0,.25],915:[0,.68333,.13889,.08334,.61528],916:[0,.68333,0,.16667,.83334],920:[0,.68333,.02778,.08334,.76278],923:[0,.68333,0,.16667,.69445],926:[0,.68333,.07569,.08334,.74236],928:[0,.68333,.08125,.05556,.83125],931:[0,.68333,.05764,.08334,.77986],933:[0,.68333,.13889,.05556,.58333],934:[0,.68333,0,.08334,.66667],936:[0,.68333,.11,.05556,.61222],937:[0,.68333,.05017,.08334,.7724],945:[0,.43056,.0037,.02778,.6397],946:[.19444,.69444,.05278,.08334,.56563],947:[.19444,.43056,.05556,0,.51773],948:[0,.69444,.03785,.05556,.44444],949:[0,.43056,0,.08334,.46632],950:[.19444,.69444,.07378,.08334,.4375],951:[.19444,.43056,.03588,.05556,.49653],952:[0,.69444,.02778,.08334,.46944],953:[0,.43056,0,.05556,.35394],954:[0,.43056,0,0,.57616],955:[0,.69444,0,0,.58334],956:[.19444,.43056,0,.02778,.60255],957:[0,.43056,.06366,.02778,.49398],958:[.19444,.69444,.04601,.11111,.4375],959:[0,.43056,0,.05556,.48472],960:[0,.43056,.03588,0,.57003],961:[.19444,.43056,0,.08334,.51702],962:[.09722,.43056,.07986,.08334,.36285],963:[0,.43056,.03588,0,.57141],964:[0,.43056,.1132,.02778,.43715],965:[0,.43056,.03588,.02778,.54028],966:[.19444,.43056,0,.08334,.65417],967:[.19444,.43056,0,.05556,.62569],968:[.19444,.69444,.03588,.11111,.65139],969:[0,.43056,.03588,0,.62245],977:[0,.69444,0,.08334,.59144],981:[.19444,.69444,0,.08334,.59583],982:[0,.43056,.02778,0,.82813],1009:[.19444,.43056,0,.08334,.51702],1013:[0,.43056,0,.05556,.4059],57649:[0,.43056,0,.02778,.32246],57911:[.19444,.43056,0,.08334,.38403]},"SansSerif-Bold":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.36667],34:[0,.69444,0,0,.55834],35:[.19444,.69444,0,0,.91667],36:[.05556,.75,0,0,.55],37:[.05556,.75,0,0,1.02912],38:[0,.69444,0,0,.83056],39:[0,.69444,0,0,.30556],40:[.25,.75,0,0,.42778],41:[.25,.75,0,0,.42778],42:[0,.75,0,0,.55],43:[.11667,.61667,0,0,.85556],44:[.10556,.13056,0,0,.30556],45:[0,.45833,0,0,.36667],46:[0,.13056,0,0,.30556],47:[.25,.75,0,0,.55],48:[0,.69444,0,0,.55],49:[0,.69444,0,0,.55],50:[0,.69444,0,0,.55],51:[0,.69444,0,0,.55],52:[0,.69444,0,0,.55],53:[0,.69444,0,0,.55],54:[0,.69444,0,0,.55],55:[0,.69444,0,0,.55],56:[0,.69444,0,0,.55],57:[0,.69444,0,0,.55],58:[0,.45833,0,0,.30556],59:[.10556,.45833,0,0,.30556],61:[-.09375,.40625,0,0,.85556],63:[0,.69444,0,0,.51945],64:[0,.69444,0,0,.73334],65:[0,.69444,0,0,.73334],66:[0,.69444,0,0,.73334],67:[0,.69444,0,0,.70278],68:[0,.69444,0,0,.79445],69:[0,.69444,0,0,.64167],70:[0,.69444,0,0,.61111],71:[0,.69444,0,0,.73334],72:[0,.69444,0,0,.79445],73:[0,.69444,0,0,.33056],74:[0,.69444,0,0,.51945],75:[0,.69444,0,0,.76389],76:[0,.69444,0,0,.58056],77:[0,.69444,0,0,.97778],78:[0,.69444,0,0,.79445],79:[0,.69444,0,0,.79445],80:[0,.69444,0,0,.70278],81:[.10556,.69444,0,0,.79445],82:[0,.69444,0,0,.70278],83:[0,.69444,0,0,.61111],84:[0,.69444,0,0,.73334],85:[0,.69444,0,0,.76389],86:[0,.69444,.01528,0,.73334],87:[0,.69444,.01528,0,1.03889],88:[0,.69444,0,0,.73334],89:[0,.69444,.0275,0,.73334],90:[0,.69444,0,0,.67223],91:[.25,.75,0,0,.34306],93:[.25,.75,0,0,.34306],94:[0,.69444,0,0,.55],95:[.35,.10833,.03056,0,.55],97:[0,.45833,0,0,.525],98:[0,.69444,0,0,.56111],99:[0,.45833,0,0,.48889],100:[0,.69444,0,0,.56111],101:[0,.45833,0,0,.51111],102:[0,.69444,.07639,0,.33611],103:[.19444,.45833,.01528,0,.55],104:[0,.69444,0,0,.56111],105:[0,.69444,0,0,.25556],106:[.19444,.69444,0,0,.28611],107:[0,.69444,0,0,.53056],108:[0,.69444,0,0,.25556],109:[0,.45833,0,0,.86667],110:[0,.45833,0,0,.56111],111:[0,.45833,0,0,.55],112:[.19444,.45833,0,0,.56111],113:[.19444,.45833,0,0,.56111],114:[0,.45833,.01528,0,.37222],115:[0,.45833,0,0,.42167],116:[0,.58929,0,0,.40417],117:[0,.45833,0,0,.56111],118:[0,.45833,.01528,0,.5],119:[0,.45833,.01528,0,.74445],120:[0,.45833,0,0,.5],121:[.19444,.45833,.01528,0,.5],122:[0,.45833,0,0,.47639],126:[.35,.34444,0,0,.55],160:[0,0,0,0,.25],168:[0,.69444,0,0,.55],176:[0,.69444,0,0,.73334],180:[0,.69444,0,0,.55],184:[.17014,0,0,0,.48889],305:[0,.45833,0,0,.25556],567:[.19444,.45833,0,0,.28611],710:[0,.69444,0,0,.55],711:[0,.63542,0,0,.55],713:[0,.63778,0,0,.55],728:[0,.69444,0,0,.55],729:[0,.69444,0,0,.30556],730:[0,.69444,0,0,.73334],732:[0,.69444,0,0,.55],733:[0,.69444,0,0,.55],915:[0,.69444,0,0,.58056],916:[0,.69444,0,0,.91667],920:[0,.69444,0,0,.85556],923:[0,.69444,0,0,.67223],926:[0,.69444,0,0,.73334],928:[0,.69444,0,0,.79445],931:[0,.69444,0,0,.79445],933:[0,.69444,0,0,.85556],934:[0,.69444,0,0,.79445],936:[0,.69444,0,0,.85556],937:[0,.69444,0,0,.79445],8211:[0,.45833,.03056,0,.55],8212:[0,.45833,.03056,0,1.10001],8216:[0,.69444,0,0,.30556],8217:[0,.69444,0,0,.30556],8220:[0,.69444,0,0,.55834],8221:[0,.69444,0,0,.55834]},"SansSerif-Italic":{32:[0,0,0,0,.25],33:[0,.69444,.05733,0,.31945],34:[0,.69444,.00316,0,.5],35:[.19444,.69444,.05087,0,.83334],36:[.05556,.75,.11156,0,.5],37:[.05556,.75,.03126,0,.83334],38:[0,.69444,.03058,0,.75834],39:[0,.69444,.07816,0,.27778],40:[.25,.75,.13164,0,.38889],41:[.25,.75,.02536,0,.38889],42:[0,.75,.11775,0,.5],43:[.08333,.58333,.02536,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,.01946,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,.13164,0,.5],48:[0,.65556,.11156,0,.5],49:[0,.65556,.11156,0,.5],50:[0,.65556,.11156,0,.5],51:[0,.65556,.11156,0,.5],52:[0,.65556,.11156,0,.5],53:[0,.65556,.11156,0,.5],54:[0,.65556,.11156,0,.5],55:[0,.65556,.11156,0,.5],56:[0,.65556,.11156,0,.5],57:[0,.65556,.11156,0,.5],58:[0,.44444,.02502,0,.27778],59:[.125,.44444,.02502,0,.27778],61:[-.13,.37,.05087,0,.77778],63:[0,.69444,.11809,0,.47222],64:[0,.69444,.07555,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,.08293,0,.66667],67:[0,.69444,.11983,0,.63889],68:[0,.69444,.07555,0,.72223],69:[0,.69444,.11983,0,.59722],70:[0,.69444,.13372,0,.56945],71:[0,.69444,.11983,0,.66667],72:[0,.69444,.08094,0,.70834],73:[0,.69444,.13372,0,.27778],74:[0,.69444,.08094,0,.47222],75:[0,.69444,.11983,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,.08094,0,.875],78:[0,.69444,.08094,0,.70834],79:[0,.69444,.07555,0,.73611],80:[0,.69444,.08293,0,.63889],81:[.125,.69444,.07555,0,.73611],82:[0,.69444,.08293,0,.64584],83:[0,.69444,.09205,0,.55556],84:[0,.69444,.13372,0,.68056],85:[0,.69444,.08094,0,.6875],86:[0,.69444,.1615,0,.66667],87:[0,.69444,.1615,0,.94445],88:[0,.69444,.13372,0,.66667],89:[0,.69444,.17261,0,.66667],90:[0,.69444,.11983,0,.61111],91:[.25,.75,.15942,0,.28889],93:[.25,.75,.08719,0,.28889],94:[0,.69444,.0799,0,.5],95:[.35,.09444,.08616,0,.5],97:[0,.44444,.00981,0,.48056],98:[0,.69444,.03057,0,.51667],99:[0,.44444,.08336,0,.44445],100:[0,.69444,.09483,0,.51667],101:[0,.44444,.06778,0,.44445],102:[0,.69444,.21705,0,.30556],103:[.19444,.44444,.10836,0,.5],104:[0,.69444,.01778,0,.51667],105:[0,.67937,.09718,0,.23889],106:[.19444,.67937,.09162,0,.26667],107:[0,.69444,.08336,0,.48889],108:[0,.69444,.09483,0,.23889],109:[0,.44444,.01778,0,.79445],110:[0,.44444,.01778,0,.51667],111:[0,.44444,.06613,0,.5],112:[.19444,.44444,.0389,0,.51667],113:[.19444,.44444,.04169,0,.51667],114:[0,.44444,.10836,0,.34167],115:[0,.44444,.0778,0,.38333],116:[0,.57143,.07225,0,.36111],117:[0,.44444,.04169,0,.51667],118:[0,.44444,.10836,0,.46111],119:[0,.44444,.10836,0,.68334],120:[0,.44444,.09169,0,.46111],121:[.19444,.44444,.10836,0,.46111],122:[0,.44444,.08752,0,.43472],126:[.35,.32659,.08826,0,.5],160:[0,0,0,0,.25],168:[0,.67937,.06385,0,.5],176:[0,.69444,0,0,.73752],184:[.17014,0,0,0,.44445],305:[0,.44444,.04169,0,.23889],567:[.19444,.44444,.04169,0,.26667],710:[0,.69444,.0799,0,.5],711:[0,.63194,.08432,0,.5],713:[0,.60889,.08776,0,.5],714:[0,.69444,.09205,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,.09483,0,.5],729:[0,.67937,.07774,0,.27778],730:[0,.69444,0,0,.73752],732:[0,.67659,.08826,0,.5],733:[0,.69444,.09205,0,.5],915:[0,.69444,.13372,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,.07555,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,.12816,0,.66667],928:[0,.69444,.08094,0,.70834],931:[0,.69444,.11983,0,.72222],933:[0,.69444,.09031,0,.77778],934:[0,.69444,.04603,0,.72222],936:[0,.69444,.09031,0,.77778],937:[0,.69444,.08293,0,.72222],8211:[0,.44444,.08616,0,.5],8212:[0,.44444,.08616,0,1],8216:[0,.69444,.07816,0,.27778],8217:[0,.69444,.07816,0,.27778],8220:[0,.69444,.14205,0,.5],8221:[0,.69444,.00316,0,.5]},"SansSerif-Regular":{32:[0,0,0,0,.25],33:[0,.69444,0,0,.31945],34:[0,.69444,0,0,.5],35:[.19444,.69444,0,0,.83334],36:[.05556,.75,0,0,.5],37:[.05556,.75,0,0,.83334],38:[0,.69444,0,0,.75834],39:[0,.69444,0,0,.27778],40:[.25,.75,0,0,.38889],41:[.25,.75,0,0,.38889],42:[0,.75,0,0,.5],43:[.08333,.58333,0,0,.77778],44:[.125,.08333,0,0,.27778],45:[0,.44444,0,0,.33333],46:[0,.08333,0,0,.27778],47:[.25,.75,0,0,.5],48:[0,.65556,0,0,.5],49:[0,.65556,0,0,.5],50:[0,.65556,0,0,.5],51:[0,.65556,0,0,.5],52:[0,.65556,0,0,.5],53:[0,.65556,0,0,.5],54:[0,.65556,0,0,.5],55:[0,.65556,0,0,.5],56:[0,.65556,0,0,.5],57:[0,.65556,0,0,.5],58:[0,.44444,0,0,.27778],59:[.125,.44444,0,0,.27778],61:[-.13,.37,0,0,.77778],63:[0,.69444,0,0,.47222],64:[0,.69444,0,0,.66667],65:[0,.69444,0,0,.66667],66:[0,.69444,0,0,.66667],67:[0,.69444,0,0,.63889],68:[0,.69444,0,0,.72223],69:[0,.69444,0,0,.59722],70:[0,.69444,0,0,.56945],71:[0,.69444,0,0,.66667],72:[0,.69444,0,0,.70834],73:[0,.69444,0,0,.27778],74:[0,.69444,0,0,.47222],75:[0,.69444,0,0,.69445],76:[0,.69444,0,0,.54167],77:[0,.69444,0,0,.875],78:[0,.69444,0,0,.70834],79:[0,.69444,0,0,.73611],80:[0,.69444,0,0,.63889],81:[.125,.69444,0,0,.73611],82:[0,.69444,0,0,.64584],83:[0,.69444,0,0,.55556],84:[0,.69444,0,0,.68056],85:[0,.69444,0,0,.6875],86:[0,.69444,.01389,0,.66667],87:[0,.69444,.01389,0,.94445],88:[0,.69444,0,0,.66667],89:[0,.69444,.025,0,.66667],90:[0,.69444,0,0,.61111],91:[.25,.75,0,0,.28889],93:[.25,.75,0,0,.28889],94:[0,.69444,0,0,.5],95:[.35,.09444,.02778,0,.5],97:[0,.44444,0,0,.48056],98:[0,.69444,0,0,.51667],99:[0,.44444,0,0,.44445],100:[0,.69444,0,0,.51667],101:[0,.44444,0,0,.44445],102:[0,.69444,.06944,0,.30556],103:[.19444,.44444,.01389,0,.5],104:[0,.69444,0,0,.51667],105:[0,.67937,0,0,.23889],106:[.19444,.67937,0,0,.26667],107:[0,.69444,0,0,.48889],108:[0,.69444,0,0,.23889],109:[0,.44444,0,0,.79445],110:[0,.44444,0,0,.51667],111:[0,.44444,0,0,.5],112:[.19444,.44444,0,0,.51667],113:[.19444,.44444,0,0,.51667],114:[0,.44444,.01389,0,.34167],115:[0,.44444,0,0,.38333],116:[0,.57143,0,0,.36111],117:[0,.44444,0,0,.51667],118:[0,.44444,.01389,0,.46111],119:[0,.44444,.01389,0,.68334],120:[0,.44444,0,0,.46111],121:[.19444,.44444,.01389,0,.46111],122:[0,.44444,0,0,.43472],126:[.35,.32659,0,0,.5],160:[0,0,0,0,.25],168:[0,.67937,0,0,.5],176:[0,.69444,0,0,.66667],184:[.17014,0,0,0,.44445],305:[0,.44444,0,0,.23889],567:[.19444,.44444,0,0,.26667],710:[0,.69444,0,0,.5],711:[0,.63194,0,0,.5],713:[0,.60889,0,0,.5],714:[0,.69444,0,0,.5],715:[0,.69444,0,0,.5],728:[0,.69444,0,0,.5],729:[0,.67937,0,0,.27778],730:[0,.69444,0,0,.66667],732:[0,.67659,0,0,.5],733:[0,.69444,0,0,.5],915:[0,.69444,0,0,.54167],916:[0,.69444,0,0,.83334],920:[0,.69444,0,0,.77778],923:[0,.69444,0,0,.61111],926:[0,.69444,0,0,.66667],928:[0,.69444,0,0,.70834],931:[0,.69444,0,0,.72222],933:[0,.69444,0,0,.77778],934:[0,.69444,0,0,.72222],936:[0,.69444,0,0,.77778],937:[0,.69444,0,0,.72222],8211:[0,.44444,.02778,0,.5],8212:[0,.44444,.02778,0,1],8216:[0,.69444,0,0,.27778],8217:[0,.69444,0,0,.27778],8220:[0,.69444,0,0,.5],8221:[0,.69444,0,0,.5]},"Script-Regular":{32:[0,0,0,0,.25],65:[0,.7,.22925,0,.80253],66:[0,.7,.04087,0,.90757],67:[0,.7,.1689,0,.66619],68:[0,.7,.09371,0,.77443],69:[0,.7,.18583,0,.56162],70:[0,.7,.13634,0,.89544],71:[0,.7,.17322,0,.60961],72:[0,.7,.29694,0,.96919],73:[0,.7,.19189,0,.80907],74:[.27778,.7,.19189,0,1.05159],75:[0,.7,.31259,0,.91364],76:[0,.7,.19189,0,.87373],77:[0,.7,.15981,0,1.08031],78:[0,.7,.3525,0,.9015],79:[0,.7,.08078,0,.73787],80:[0,.7,.08078,0,1.01262],81:[0,.7,.03305,0,.88282],82:[0,.7,.06259,0,.85],83:[0,.7,.19189,0,.86767],84:[0,.7,.29087,0,.74697],85:[0,.7,.25815,0,.79996],86:[0,.7,.27523,0,.62204],87:[0,.7,.27523,0,.80532],88:[0,.7,.26006,0,.94445],89:[0,.7,.2939,0,.70961],90:[0,.7,.24037,0,.8212],160:[0,0,0,0,.25]},"Size1-Regular":{32:[0,0,0,0,.25],40:[.35001,.85,0,0,.45834],41:[.35001,.85,0,0,.45834],47:[.35001,.85,0,0,.57778],91:[.35001,.85,0,0,.41667],92:[.35001,.85,0,0,.57778],93:[.35001,.85,0,0,.41667],123:[.35001,.85,0,0,.58334],125:[.35001,.85,0,0,.58334],160:[0,0,0,0,.25],710:[0,.72222,0,0,.55556],732:[0,.72222,0,0,.55556],770:[0,.72222,0,0,.55556],771:[0,.72222,0,0,.55556],8214:[-99e-5,.601,0,0,.77778],8593:[1e-5,.6,0,0,.66667],8595:[1e-5,.6,0,0,.66667],8657:[1e-5,.6,0,0,.77778],8659:[1e-5,.6,0,0,.77778],8719:[.25001,.75,0,0,.94445],8720:[.25001,.75,0,0,.94445],8721:[.25001,.75,0,0,1.05556],8730:[.35001,.85,0,0,1],8739:[-.00599,.606,0,0,.33333],8741:[-.00599,.606,0,0,.55556],8747:[.30612,.805,.19445,0,.47222],8748:[.306,.805,.19445,0,.47222],8749:[.306,.805,.19445,0,.47222],8750:[.30612,.805,.19445,0,.47222],8896:[.25001,.75,0,0,.83334],8897:[.25001,.75,0,0,.83334],8898:[.25001,.75,0,0,.83334],8899:[.25001,.75,0,0,.83334],8968:[.35001,.85,0,0,.47222],8969:[.35001,.85,0,0,.47222],8970:[.35001,.85,0,0,.47222],8971:[.35001,.85,0,0,.47222],9168:[-99e-5,.601,0,0,.66667],10216:[.35001,.85,0,0,.47222],10217:[.35001,.85,0,0,.47222],10752:[.25001,.75,0,0,1.11111],10753:[.25001,.75,0,0,1.11111],10754:[.25001,.75,0,0,1.11111],10756:[.25001,.75,0,0,.83334],10758:[.25001,.75,0,0,.83334]},"Size2-Regular":{32:[0,0,0,0,.25],40:[.65002,1.15,0,0,.59722],41:[.65002,1.15,0,0,.59722],47:[.65002,1.15,0,0,.81111],91:[.65002,1.15,0,0,.47222],92:[.65002,1.15,0,0,.81111],93:[.65002,1.15,0,0,.47222],123:[.65002,1.15,0,0,.66667],125:[.65002,1.15,0,0,.66667],160:[0,0,0,0,.25],710:[0,.75,0,0,1],732:[0,.75,0,0,1],770:[0,.75,0,0,1],771:[0,.75,0,0,1],8719:[.55001,1.05,0,0,1.27778],8720:[.55001,1.05,0,0,1.27778],8721:[.55001,1.05,0,0,1.44445],8730:[.65002,1.15,0,0,1],8747:[.86225,1.36,.44445,0,.55556],8748:[.862,1.36,.44445,0,.55556],8749:[.862,1.36,.44445,0,.55556],8750:[.86225,1.36,.44445,0,.55556],8896:[.55001,1.05,0,0,1.11111],8897:[.55001,1.05,0,0,1.11111],8898:[.55001,1.05,0,0,1.11111],8899:[.55001,1.05,0,0,1.11111],8968:[.65002,1.15,0,0,.52778],8969:[.65002,1.15,0,0,.52778],8970:[.65002,1.15,0,0,.52778],8971:[.65002,1.15,0,0,.52778],10216:[.65002,1.15,0,0,.61111],10217:[.65002,1.15,0,0,.61111],10752:[.55001,1.05,0,0,1.51112],10753:[.55001,1.05,0,0,1.51112],10754:[.55001,1.05,0,0,1.51112],10756:[.55001,1.05,0,0,1.11111],10758:[.55001,1.05,0,0,1.11111]},"Size3-Regular":{32:[0,0,0,0,.25],40:[.95003,1.45,0,0,.73611],41:[.95003,1.45,0,0,.73611],47:[.95003,1.45,0,0,1.04445],91:[.95003,1.45,0,0,.52778],92:[.95003,1.45,0,0,1.04445],93:[.95003,1.45,0,0,.52778],123:[.95003,1.45,0,0,.75],125:[.95003,1.45,0,0,.75],160:[0,0,0,0,.25],710:[0,.75,0,0,1.44445],732:[0,.75,0,0,1.44445],770:[0,.75,0,0,1.44445],771:[0,.75,0,0,1.44445],8730:[.95003,1.45,0,0,1],8968:[.95003,1.45,0,0,.58334],8969:[.95003,1.45,0,0,.58334],8970:[.95003,1.45,0,0,.58334],8971:[.95003,1.45,0,0,.58334],10216:[.95003,1.45,0,0,.75],10217:[.95003,1.45,0,0,.75]},"Size4-Regular":{32:[0,0,0,0,.25],40:[1.25003,1.75,0,0,.79167],41:[1.25003,1.75,0,0,.79167],47:[1.25003,1.75,0,0,1.27778],91:[1.25003,1.75,0,0,.58334],92:[1.25003,1.75,0,0,1.27778],93:[1.25003,1.75,0,0,.58334],123:[1.25003,1.75,0,0,.80556],125:[1.25003,1.75,0,0,.80556],160:[0,0,0,0,.25],710:[0,.825,0,0,1.8889],732:[0,.825,0,0,1.8889],770:[0,.825,0,0,1.8889],771:[0,.825,0,0,1.8889],8730:[1.25003,1.75,0,0,1],8968:[1.25003,1.75,0,0,.63889],8969:[1.25003,1.75,0,0,.63889],8970:[1.25003,1.75,0,0,.63889],8971:[1.25003,1.75,0,0,.63889],9115:[.64502,1.155,0,0,.875],9116:[1e-5,.6,0,0,.875],9117:[.64502,1.155,0,0,.875],9118:[.64502,1.155,0,0,.875],9119:[1e-5,.6,0,0,.875],9120:[.64502,1.155,0,0,.875],9121:[.64502,1.155,0,0,.66667],9122:[-99e-5,.601,0,0,.66667],9123:[.64502,1.155,0,0,.66667],9124:[.64502,1.155,0,0,.66667],9125:[-99e-5,.601,0,0,.66667],9126:[.64502,1.155,0,0,.66667],9127:[1e-5,.9,0,0,.88889],9128:[.65002,1.15,0,0,.88889],9129:[.90001,0,0,0,.88889],9130:[0,.3,0,0,.88889],9131:[1e-5,.9,0,0,.88889],9132:[.65002,1.15,0,0,.88889],9133:[.90001,0,0,0,.88889],9143:[.88502,.915,0,0,1.05556],10216:[1.25003,1.75,0,0,.80556],10217:[1.25003,1.75,0,0,.80556],57344:[-.00499,.605,0,0,1.05556],57345:[-.00499,.605,0,0,1.05556],57680:[0,.12,0,0,.45],57681:[0,.12,0,0,.45],57682:[0,.12,0,0,.45],57683:[0,.12,0,0,.45]},"Typewriter-Regular":{32:[0,0,0,0,.525],33:[0,.61111,0,0,.525],34:[0,.61111,0,0,.525],35:[0,.61111,0,0,.525],36:[.08333,.69444,0,0,.525],37:[.08333,.69444,0,0,.525],38:[0,.61111,0,0,.525],39:[0,.61111,0,0,.525],40:[.08333,.69444,0,0,.525],41:[.08333,.69444,0,0,.525],42:[0,.52083,0,0,.525],43:[-.08056,.53055,0,0,.525],44:[.13889,.125,0,0,.525],45:[-.08056,.53055,0,0,.525],46:[0,.125,0,0,.525],47:[.08333,.69444,0,0,.525],48:[0,.61111,0,0,.525],49:[0,.61111,0,0,.525],50:[0,.61111,0,0,.525],51:[0,.61111,0,0,.525],52:[0,.61111,0,0,.525],53:[0,.61111,0,0,.525],54:[0,.61111,0,0,.525],55:[0,.61111,0,0,.525],56:[0,.61111,0,0,.525],57:[0,.61111,0,0,.525],58:[0,.43056,0,0,.525],59:[.13889,.43056,0,0,.525],60:[-.05556,.55556,0,0,.525],61:[-.19549,.41562,0,0,.525],62:[-.05556,.55556,0,0,.525],63:[0,.61111,0,0,.525],64:[0,.61111,0,0,.525],65:[0,.61111,0,0,.525],66:[0,.61111,0,0,.525],67:[0,.61111,0,0,.525],68:[0,.61111,0,0,.525],69:[0,.61111,0,0,.525],70:[0,.61111,0,0,.525],71:[0,.61111,0,0,.525],72:[0,.61111,0,0,.525],73:[0,.61111,0,0,.525],74:[0,.61111,0,0,.525],75:[0,.61111,0,0,.525],76:[0,.61111,0,0,.525],77:[0,.61111,0,0,.525],78:[0,.61111,0,0,.525],79:[0,.61111,0,0,.525],80:[0,.61111,0,0,.525],81:[.13889,.61111,0,0,.525],82:[0,.61111,0,0,.525],83:[0,.61111,0,0,.525],84:[0,.61111,0,0,.525],85:[0,.61111,0,0,.525],86:[0,.61111,0,0,.525],87:[0,.61111,0,0,.525],88:[0,.61111,0,0,.525],89:[0,.61111,0,0,.525],90:[0,.61111,0,0,.525],91:[.08333,.69444,0,0,.525],92:[.08333,.69444,0,0,.525],93:[.08333,.69444,0,0,.525],94:[0,.61111,0,0,.525],95:[.09514,0,0,0,.525],96:[0,.61111,0,0,.525],97:[0,.43056,0,0,.525],98:[0,.61111,0,0,.525],99:[0,.43056,0,0,.525],100:[0,.61111,0,0,.525],101:[0,.43056,0,0,.525],102:[0,.61111,0,0,.525],103:[.22222,.43056,0,0,.525],104:[0,.61111,0,0,.525],105:[0,.61111,0,0,.525],106:[.22222,.61111,0,0,.525],107:[0,.61111,0,0,.525],108:[0,.61111,0,0,.525],109:[0,.43056,0,0,.525],110:[0,.43056,0,0,.525],111:[0,.43056,0,0,.525],112:[.22222,.43056,0,0,.525],113:[.22222,.43056,0,0,.525],114:[0,.43056,0,0,.525],115:[0,.43056,0,0,.525],116:[0,.55358,0,0,.525],117:[0,.43056,0,0,.525],118:[0,.43056,0,0,.525],119:[0,.43056,0,0,.525],120:[0,.43056,0,0,.525],121:[.22222,.43056,0,0,.525],122:[0,.43056,0,0,.525],123:[.08333,.69444,0,0,.525],124:[.08333,.69444,0,0,.525],125:[.08333,.69444,0,0,.525],126:[0,.61111,0,0,.525],127:[0,.61111,0,0,.525],160:[0,0,0,0,.525],176:[0,.61111,0,0,.525],184:[.19445,0,0,0,.525],305:[0,.43056,0,0,.525],567:[.22222,.43056,0,0,.525],711:[0,.56597,0,0,.525],713:[0,.56555,0,0,.525],714:[0,.61111,0,0,.525],715:[0,.61111,0,0,.525],728:[0,.61111,0,0,.525],730:[0,.61111,0,0,.525],770:[0,.61111,0,0,.525],771:[0,.61111,0,0,.525],776:[0,.61111,0,0,.525],915:[0,.61111,0,0,.525],916:[0,.61111,0,0,.525],920:[0,.61111,0,0,.525],923:[0,.61111,0,0,.525],926:[0,.61111,0,0,.525],928:[0,.61111,0,0,.525],931:[0,.61111,0,0,.525],933:[0,.61111,0,0,.525],934:[0,.61111,0,0,.525],936:[0,.61111,0,0,.525],937:[0,.61111,0,0,.525],8216:[0,.61111,0,0,.525],8217:[0,.61111,0,0,.525],8242:[0,.61111,0,0,.525],9251:[.11111,.21944,0,0,.525]}};const gi={slant:[.25,.25,.25],space:[0,0,0],stretch:[0,0,0],shrink:[0,0,0],xHeight:[.431,.431,.431],quad:[1,1.171,1.472],extraSpace:[0,0,0],num1:[.677,.732,.925],num2:[.394,.384,.387],num3:[.444,.471,.504],denom1:[.686,.752,1.025],denom2:[.345,.344,.532],sup1:[.413,.503,.504],sup2:[.363,.431,.404],sup3:[.289,.286,.294],sub1:[.15,.143,.2],sub2:[.247,.286,.4],supDrop:[.386,.353,.494],subDrop:[.05,.071,.1],delim1:[2.39,1.7,1.98],delim2:[1.01,1.157,1.42],axisHeight:[.25,.25,.25],defaultRuleThickness:[.04,.049,.049],bigOpSpacing1:[.111,.111,.111],bigOpSpacing2:[.166,.166,.166],bigOpSpacing3:[.2,.2,.2],bigOpSpacing4:[.6,.611,.611],bigOpSpacing5:[.1,.143,.143],sqrtRuleThickness:[.04,.04,.04],ptPerEm:[10,10,10],doubleRuleSep:[.2,.2,.2],arrayRuleWidth:[.04,.04,.04],fboxsep:[.3,.3,.3],fboxrule:[.04,.04,.04]},_a={Å:"A",Ð:"D",Þ:"o",å:"a",ð:"d",þ:"o",А:"A",Б:"B",В:"B",Г:"F",Д:"A",Е:"E",Ж:"K",З:"3",И:"N",Й:"N",К:"K",Л:"N",М:"M",Н:"H",О:"O",П:"N",Р:"P",С:"C",Т:"T",У:"y",Ф:"O",Х:"X",Ц:"U",Ч:"h",Ш:"W",Щ:"W",Ъ:"B",Ы:"X",Ь:"B",Э:"3",Ю:"X",Я:"R",а:"a",б:"b",в:"a",г:"r",д:"y",е:"e",ж:"m",з:"e",и:"n",й:"n",к:"n",л:"n",м:"m",н:"n",о:"o",п:"n",р:"p",с:"c",т:"o",у:"y",ф:"b",х:"x",ц:"n",ч:"n",ш:"w",щ:"w",ъ:"a",ы:"m",ь:"a",э:"e",ю:"m",я:"r"};function ed(a,o){Dn[a]=o}function is(a,o,l){if(!Dn[o])throw new Error("Font metrics not found for font: "+o+".");let d=a.charCodeAt(0),p=Dn[o][d];if(!p&&a[0]in _a&&(d=_a[a[0]].charCodeAt(0),p=Dn[o][d]),!p&&l==="text"&&Pt(d)&&(p=Dn[o][77]),p)return{depth:p[0],height:p[1],italic:p[2],skew:p[3],width:p[4]}}const ss={};function fu(a){let o;if(a>=5?o=0:a>=3?o=1:o=2,!ss[o]){const l=ss[o]={cssEmPerMu:gi.quad[o]/18};for(const d in gi)gi.hasOwnProperty(d)&&(l[d]=gi[d][o])}return ss[o]}const Lt=[[1,1,1],[2,1,1],[3,1,1],[4,2,1],[5,2,1],[6,3,1],[7,4,2],[8,6,3],[9,7,6],[10,8,7],[11,10,9]],zt=[.5,.6,.7,.8,.9,1,1.2,1.44,1.728,2.074,2.488],os=function(a,o){return o.size<2?a:Lt[a-1][o.size-1]};class $n{constructor(o){this.style=void 0,this.color=void 0,this.size=void 0,this.textSize=void 0,this.phantom=void 0,this.font=void 0,this.fontFamily=void 0,this.fontWeight=void 0,this.fontShape=void 0,this.sizeMultiplier=void 0,this.maxSize=void 0,this.minRuleThickness=void 0,this._fontMetrics=void 0,this.style=o.style,this.color=o.color,this.size=o.size||$n.BASESIZE,this.textSize=o.textSize||this.size,this.phantom=!!o.phantom,this.font=o.font||"",this.fontFamily=o.fontFamily||"",this.fontWeight=o.fontWeight||"",this.fontShape=o.fontShape||"",this.sizeMultiplier=zt[this.size-1],this.maxSize=o.maxSize,this.minRuleThickness=o.minRuleThickness,this._fontMetrics=void 0}extend(o){const l={style:this.style,size:this.size,textSize:this.textSize,color:this.color,phantom:this.phantom,font:this.font,fontFamily:this.fontFamily,fontWeight:this.fontWeight,fontShape:this.fontShape,maxSize:this.maxSize,minRuleThickness:this.minRuleThickness};for(const d in o)o.hasOwnProperty(d)&&(l[d]=o[d]);return new $n(l)}havingStyle(o){return this.style===o?this:this.extend({style:o,size:os(this.textSize,o)})}havingCrampedStyle(){return this.havingStyle(this.style.cramp())}havingSize(o){return this.size===o&&this.textSize===o?this:this.extend({style:this.style.text(),size:o,textSize:o,sizeMultiplier:zt[o-1]})}havingBaseStyle(o){o=o||this.style.text();const l=os($n.BASESIZE,o);return this.size===l&&this.textSize===$n.BASESIZE&&this.style===o?this:this.extend({style:o,size:l})}havingBaseSizing(){let o;switch(this.style.id){case 4:case 5:o=3;break;case 6:case 7:o=1;break;default:o=6}return this.extend({style:this.style.text(),size:o})}withColor(o){return this.extend({color:o})}withPhantom(){return this.extend({phantom:!0})}withFont(o){return this.extend({font:o})}withTextFontFamily(o){return this.extend({fontFamily:o,font:""})}withTextFontWeight(o){return this.extend({fontWeight:o,font:""})}withTextFontShape(o){return this.extend({fontShape:o,font:""})}sizingClasses(o){return o.size!==this.size?["sizing","reset-size"+o.size,"size"+this.size]:[]}baseSizingClasses(){return this.size!==$n.BASESIZE?["sizing","reset-size"+this.size,"size"+$n.BASESIZE]:[]}fontMetrics(){return this._fontMetrics||(this._fontMetrics=fu(this.size)),this._fontMetrics}getColor(){return this.phantom?"transparent":this.color}}$n.BASESIZE=6;var pu=$n;const Sa={pt:1,mm:7227/2540,cm:7227/254,in:72.27,bp:803/800,pc:12,dd:1238/1157,cc:14856/1157,nd:685/642,nc:1370/107,sp:1/65536,px:803/800},as={ex:!0,em:!0,mu:!0},Ea=function(a){return typeof a!="string"&&(a=a.unit),a in Sa||a in as||a==="ex"},et=function(a,o){let l;if(a.unit in Sa)l=Sa[a.unit]/o.fontMetrics().ptPerEm/o.sizeMultiplier;else if(a.unit==="mu")l=o.fontMetrics().cssEmPerMu;else{let d;if(o.style.isTight()?d=o.havingStyle(o.style.text()):d=o,a.unit==="ex")l=d.fontMetrics().xHeight;else if(a.unit==="em")l=d.fontMetrics().quad;else throw new s("Invalid unit: '"+a.unit+"'");d!==o&&(l*=d.sizeMultiplier/o.sizeMultiplier)}return Math.min(a.number*l,o.maxSize)},he=function(a){return+a.toFixed(4)+"em"},br=function(a){return a.filter(o=>o).join(" ")},mu=function(a,o,l){if(this.classes=a||[],this.attributes={},this.height=0,this.depth=0,this.maxFontSize=0,this.style=l||{},o){o.style.isTight()&&this.classes.push("mtight");const d=o.getColor();d&&(this.style.color=d)}},Zs=function(a){const o=document.createElement(a);o.className=br(this.classes);for(const l in this.style)this.style.hasOwnProperty(l)&&(o.style[l]=this.style[l]);for(const l in this.attributes)this.attributes.hasOwnProperty(l)&&o.setAttribute(l,this.attributes[l]);for(let l=0;l<this.children.length;l++)o.appendChild(this.children[l].toNode());return o},gu=/[\s"'>/=\x00-\x1f]/,Ta=function(a){let o="<"+a;this.classes.length&&(o+=' class="'+P.escape(br(this.classes))+'"');let l="";for(const d in this.style)this.style.hasOwnProperty(d)&&(l+=P.hyphenate(d)+":"+this.style[d]+";");l&&(o+=' style="'+P.escape(l)+'"');for(const d in this.attributes)if(this.attributes.hasOwnProperty(d)){if(gu.test(d))throw new s("Invalid attribute name '"+d+"'");o+=" "+d+'="'+P.escape(this.attributes[d])+'"'}o+=">";for(let d=0;d<this.children.length;d++)o+=this.children[d].toMarkup();return o+="</"+a+">",o};class sr{constructor(o,l,d,p){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.width=void 0,this.maxFontSize=void 0,this.style=void 0,mu.call(this,o,d,p),this.children=l||[]}setAttribute(o,l){this.attributes[o]=l}hasClass(o){return P.contains(this.classes,o)}toNode(){return Zs.call(this,"span")}toMarkup(){return Ta.call(this,"span")}}class ls{constructor(o,l,d,p){this.children=void 0,this.attributes=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,mu.call(this,l,p),this.children=d||[],this.setAttribute("href",o)}setAttribute(o,l){this.attributes[o]=l}hasClass(o){return P.contains(this.classes,o)}toNode(){return Zs.call(this,"a")}toMarkup(){return Ta.call(this,"a")}}class ka{constructor(o,l,d){this.src=void 0,this.alt=void 0,this.classes=void 0,this.height=void 0,this.depth=void 0,this.maxFontSize=void 0,this.style=void 0,this.alt=l,this.src=o,this.classes=["mord"],this.style=d}hasClass(o){return P.contains(this.classes,o)}toNode(){const o=document.createElement("img");o.src=this.src,o.alt=this.alt,o.className="mord";for(const l in this.style)this.style.hasOwnProperty(l)&&(o.style[l]=this.style[l]);return o}toMarkup(){let o='<img src="'+P.escape(this.src)+'"'+(' alt="'+P.escape(this.alt)+'"'),l="";for(const d in this.style)this.style.hasOwnProperty(d)&&(l+=P.hyphenate(d)+":"+this.style[d]+";");return l&&(o+=' style="'+P.escape(l)+'"'),o+="'/>",o}}const Br={î:"ı̂",ï:"ı̈",í:"ı́",ì:"ı̀"};class mn{constructor(o,l,d,p,w,b,T,R){this.text=void 0,this.height=void 0,this.depth=void 0,this.italic=void 0,this.skew=void 0,this.width=void 0,this.maxFontSize=void 0,this.classes=void 0,this.style=void 0,this.text=o,this.height=l||0,this.depth=d||0,this.italic=p||0,this.skew=w||0,this.width=b||0,this.classes=T||[],this.style=R||{},this.maxFontSize=0;const B=Me(this.text.charCodeAt(0));B&&this.classes.push(B+"_fallback"),/[îïíì]/.test(this.text)&&(this.text=Br[this.text])}hasClass(o){return P.contains(this.classes,o)}toNode(){const o=document.createTextNode(this.text);let l=null;this.italic>0&&(l=document.createElement("span"),l.style.marginRight=he(this.italic)),this.classes.length>0&&(l=l||document.createElement("span"),l.className=br(this.classes));for(const d in this.style)this.style.hasOwnProperty(d)&&(l=l||document.createElement("span"),l.style[d]=this.style[d]);return l?(l.appendChild(o),l):o}toMarkup(){let o=!1,l="<span";this.classes.length&&(o=!0,l+=' class="',l+=P.escape(br(this.classes)),l+='"');let d="";this.italic>0&&(d+="margin-right:"+this.italic+"em;");for(const w in this.style)this.style.hasOwnProperty(w)&&(d+=P.hyphenate(w)+":"+this.style[w]+";");d&&(o=!0,l+=' style="'+P.escape(d)+'"');const p=P.escape(this.text);return o?(l+=">",l+=p,l+="</span>",l):p}}class kn{constructor(o,l){this.children=void 0,this.attributes=void 0,this.children=o||[],this.attributes=l||{}}toNode(){const l=document.createElementNS("http://www.w3.org/2000/svg","svg");for(const d in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,d)&&l.setAttribute(d,this.attributes[d]);for(let d=0;d<this.children.length;d++)l.appendChild(this.children[d].toNode());return l}toMarkup(){let o='<svg xmlns="http://www.w3.org/2000/svg"';for(const l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&(o+=" "+l+'="'+P.escape(this.attributes[l])+'"');o+=">";for(let l=0;l<this.children.length;l++)o+=this.children[l].toMarkup();return o+="</svg>",o}}class or{constructor(o,l){this.pathName=void 0,this.alternate=void 0,this.pathName=o,this.alternate=l}toNode(){const l=document.createElementNS("http://www.w3.org/2000/svg","path");return this.alternate?l.setAttribute("d",this.alternate):l.setAttribute("d",ba[this.pathName]),l}toMarkup(){return this.alternate?'<path d="'+P.escape(this.alternate)+'"/>':'<path d="'+P.escape(ba[this.pathName])+'"/>'}}class Ur{constructor(o){this.attributes=void 0,this.attributes=o||{}}toNode(){const l=document.createElementNS("http://www.w3.org/2000/svg","line");for(const d in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,d)&&l.setAttribute(d,this.attributes[d]);return l}toMarkup(){let o="<line";for(const l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&(o+=" "+l+'="'+P.escape(this.attributes[l])+'"');return o+="/>",o}}function Aa(a){if(a instanceof mn)return a;throw new Error("Expected symbolNode but got "+String(a)+".")}function Gt(a){if(a instanceof sr)return a;throw new Error("Expected span<HtmlDomNode> but got "+String(a)+".")}const yu={bin:1,close:1,inner:1,open:1,punct:1,rel:1},us={"accent-token":1,mathord:1,"op-token":1,spacing:1,textord:1},_r={math:{},text:{}};var it=_r;function m(a,o,l,d,p,w){_r[a][p]={font:o,group:l,replace:d},w&&d&&(_r[a][d]=_r[a][p])}const v="math",le="text",S="main",V="ams",Je="accent-token",ge="bin",Tt="close",gn="inner",Se="mathord",ht="op-token",Kt="open",yi="punct",F="rel",Hn="spacing",H="textord";m(v,S,F,"≡","\\equiv",!0),m(v,S,F,"≺","\\prec",!0),m(v,S,F,"≻","\\succ",!0),m(v,S,F,"∼","\\sim",!0),m(v,S,F,"⊥","\\perp"),m(v,S,F,"⪯","\\preceq",!0),m(v,S,F,"⪰","\\succeq",!0),m(v,S,F,"≃","\\simeq",!0),m(v,S,F,"∣","\\mid",!0),m(v,S,F,"≪","\\ll",!0),m(v,S,F,"≫","\\gg",!0),m(v,S,F,"≍","\\asymp",!0),m(v,S,F,"∥","\\parallel"),m(v,S,F,"⋈","\\bowtie",!0),m(v,S,F,"⌣","\\smile",!0),m(v,S,F,"⊑","\\sqsubseteq",!0),m(v,S,F,"⊒","\\sqsupseteq",!0),m(v,S,F,"≐","\\doteq",!0),m(v,S,F,"⌢","\\frown",!0),m(v,S,F,"∋","\\ni",!0),m(v,S,F,"∝","\\propto",!0),m(v,S,F,"⊢","\\vdash",!0),m(v,S,F,"⊣","\\dashv",!0),m(v,S,F,"∋","\\owns"),m(v,S,yi,".","\\ldotp"),m(v,S,yi,"⋅","\\cdotp"),m(v,S,H,"#","\\#"),m(le,S,H,"#","\\#"),m(v,S,H,"&","\\&"),m(le,S,H,"&","\\&"),m(v,S,H,"ℵ","\\aleph",!0),m(v,S,H,"∀","\\forall",!0),m(v,S,H,"ℏ","\\hbar",!0),m(v,S,H,"∃","\\exists",!0),m(v,S,H,"∇","\\nabla",!0),m(v,S,H,"♭","\\flat",!0),m(v,S,H,"ℓ","\\ell",!0),m(v,S,H,"♮","\\natural",!0),m(v,S,H,"♣","\\clubsuit",!0),m(v,S,H,"℘","\\wp",!0),m(v,S,H,"♯","\\sharp",!0),m(v,S,H,"♢","\\diamondsuit",!0),m(v,S,H,"ℜ","\\Re",!0),m(v,S,H,"♡","\\heartsuit",!0),m(v,S,H,"ℑ","\\Im",!0),m(v,S,H,"♠","\\spadesuit",!0),m(v,S,H,"§","\\S",!0),m(le,S,H,"§","\\S"),m(v,S,H,"¶","\\P",!0),m(le,S,H,"¶","\\P"),m(v,S,H,"†","\\dag"),m(le,S,H,"†","\\dag"),m(le,S,H,"†","\\textdagger"),m(v,S,H,"‡","\\ddag"),m(le,S,H,"‡","\\ddag"),m(le,S,H,"‡","\\textdaggerdbl"),m(v,S,Tt,"⎱","\\rmoustache",!0),m(v,S,Kt,"⎰","\\lmoustache",!0),m(v,S,Tt,"⟯","\\rgroup",!0),m(v,S,Kt,"⟮","\\lgroup",!0),m(v,S,ge,"∓","\\mp",!0),m(v,S,ge,"⊖","\\ominus",!0),m(v,S,ge,"⊎","\\uplus",!0),m(v,S,ge,"⊓","\\sqcap",!0),m(v,S,ge,"∗","\\ast"),m(v,S,ge,"⊔","\\sqcup",!0),m(v,S,ge,"◯","\\bigcirc",!0),m(v,S,ge,"∙","\\bullet",!0),m(v,S,ge,"‡","\\ddagger"),m(v,S,ge,"≀","\\wr",!0),m(v,S,ge,"⨿","\\amalg"),m(v,S,ge,"&","\\And"),m(v,S,F,"⟵","\\longleftarrow",!0),m(v,S,F,"⇐","\\Leftarrow",!0),m(v,S,F,"⟸","\\Longleftarrow",!0),m(v,S,F,"⟶","\\longrightarrow",!0),m(v,S,F,"⇒","\\Rightarrow",!0),m(v,S,F,"⟹","\\Longrightarrow",!0),m(v,S,F,"↔","\\leftrightarrow",!0),m(v,S,F,"⟷","\\longleftrightarrow",!0),m(v,S,F,"⇔","\\Leftrightarrow",!0),m(v,S,F,"⟺","\\Longleftrightarrow",!0),m(v,S,F,"↦","\\mapsto",!0),m(v,S,F,"⟼","\\longmapsto",!0),m(v,S,F,"↗","\\nearrow",!0),m(v,S,F,"↩","\\hookleftarrow",!0),m(v,S,F,"↪","\\hookrightarrow",!0),m(v,S,F,"↘","\\searrow",!0),m(v,S,F,"↼","\\leftharpoonup",!0),m(v,S,F,"⇀","\\rightharpoonup",!0),m(v,S,F,"↙","\\swarrow",!0),m(v,S,F,"↽","\\leftharpoondown",!0),m(v,S,F,"⇁","\\rightharpoondown",!0),m(v,S,F,"↖","\\nwarrow",!0),m(v,S,F,"⇌","\\rightleftharpoons",!0),m(v,V,F,"≮","\\nless",!0),m(v,V,F,"","\\@nleqslant"),m(v,V,F,"","\\@nleqq"),m(v,V,F,"⪇","\\lneq",!0),m(v,V,F,"≨","\\lneqq",!0),m(v,V,F,"","\\@lvertneqq"),m(v,V,F,"⋦","\\lnsim",!0),m(v,V,F,"⪉","\\lnapprox",!0),m(v,V,F,"⊀","\\nprec",!0),m(v,V,F,"⋠","\\npreceq",!0),m(v,V,F,"⋨","\\precnsim",!0),m(v,V,F,"⪹","\\precnapprox",!0),m(v,V,F,"≁","\\nsim",!0),m(v,V,F,"","\\@nshortmid"),m(v,V,F,"∤","\\nmid",!0),m(v,V,F,"⊬","\\nvdash",!0),m(v,V,F,"⊭","\\nvDash",!0),m(v,V,F,"⋪","\\ntriangleleft"),m(v,V,F,"⋬","\\ntrianglelefteq",!0),m(v,V,F,"⊊","\\subsetneq",!0),m(v,V,F,"","\\@varsubsetneq"),m(v,V,F,"⫋","\\subsetneqq",!0),m(v,V,F,"","\\@varsubsetneqq"),m(v,V,F,"≯","\\ngtr",!0),m(v,V,F,"","\\@ngeqslant"),m(v,V,F,"","\\@ngeqq"),m(v,V,F,"⪈","\\gneq",!0),m(v,V,F,"≩","\\gneqq",!0),m(v,V,F,"","\\@gvertneqq"),m(v,V,F,"⋧","\\gnsim",!0),m(v,V,F,"⪊","\\gnapprox",!0),m(v,V,F,"⊁","\\nsucc",!0),m(v,V,F,"⋡","\\nsucceq",!0),m(v,V,F,"⋩","\\succnsim",!0),m(v,V,F,"⪺","\\succnapprox",!0),m(v,V,F,"≆","\\ncong",!0),m(v,V,F,"","\\@nshortparallel"),m(v,V,F,"∦","\\nparallel",!0),m(v,V,F,"⊯","\\nVDash",!0),m(v,V,F,"⋫","\\ntriangleright"),m(v,V,F,"⋭","\\ntrianglerighteq",!0),m(v,V,F,"","\\@nsupseteqq"),m(v,V,F,"⊋","\\supsetneq",!0),m(v,V,F,"","\\@varsupsetneq"),m(v,V,F,"⫌","\\supsetneqq",!0),m(v,V,F,"","\\@varsupsetneqq"),m(v,V,F,"⊮","\\nVdash",!0),m(v,V,F,"⪵","\\precneqq",!0),m(v,V,F,"⪶","\\succneqq",!0),m(v,V,F,"","\\@nsubseteqq"),m(v,V,ge,"⊴","\\unlhd"),m(v,V,ge,"⊵","\\unrhd"),m(v,V,F,"↚","\\nleftarrow",!0),m(v,V,F,"↛","\\nrightarrow",!0),m(v,V,F,"⇍","\\nLeftarrow",!0),m(v,V,F,"⇏","\\nRightarrow",!0),m(v,V,F,"↮","\\nleftrightarrow",!0),m(v,V,F,"⇎","\\nLeftrightarrow",!0),m(v,V,F,"△","\\vartriangle"),m(v,V,H,"ℏ","\\hslash"),m(v,V,H,"▽","\\triangledown"),m(v,V,H,"◊","\\lozenge"),m(v,V,H,"Ⓢ","\\circledS"),m(v,V,H,"®","\\circledR"),m(le,V,H,"®","\\circledR"),m(v,V,H,"∡","\\measuredangle",!0),m(v,V,H,"∄","\\nexists"),m(v,V,H,"℧","\\mho"),m(v,V,H,"Ⅎ","\\Finv",!0),m(v,V,H,"⅁","\\Game",!0),m(v,V,H,"‵","\\backprime"),m(v,V,H,"▲","\\blacktriangle"),m(v,V,H,"▼","\\blacktriangledown"),m(v,V,H,"■","\\blacksquare"),m(v,V,H,"⧫","\\blacklozenge"),m(v,V,H,"★","\\bigstar"),m(v,V,H,"∢","\\sphericalangle",!0),m(v,V,H,"∁","\\complement",!0),m(v,V,H,"ð","\\eth",!0),m(le,S,H,"ð","ð"),m(v,V,H,"╱","\\diagup"),m(v,V,H,"╲","\\diagdown"),m(v,V,H,"□","\\square"),m(v,V,H,"□","\\Box"),m(v,V,H,"◊","\\Diamond"),m(v,V,H,"¥","\\yen",!0),m(le,V,H,"¥","\\yen",!0),m(v,V,H,"✓","\\checkmark",!0),m(le,V,H,"✓","\\checkmark"),m(v,V,H,"ℶ","\\beth",!0),m(v,V,H,"ℸ","\\daleth",!0),m(v,V,H,"ℷ","\\gimel",!0),m(v,V,H,"ϝ","\\digamma",!0),m(v,V,H,"ϰ","\\varkappa"),m(v,V,Kt,"┌","\\@ulcorner",!0),m(v,V,Tt,"┐","\\@urcorner",!0),m(v,V,Kt,"└","\\@llcorner",!0),m(v,V,Tt,"┘","\\@lrcorner",!0),m(v,V,F,"≦","\\leqq",!0),m(v,V,F,"⩽","\\leqslant",!0),m(v,V,F,"⪕","\\eqslantless",!0),m(v,V,F,"≲","\\lesssim",!0),m(v,V,F,"⪅","\\lessapprox",!0),m(v,V,F,"≊","\\approxeq",!0),m(v,V,ge,"⋖","\\lessdot"),m(v,V,F,"⋘","\\lll",!0),m(v,V,F,"≶","\\lessgtr",!0),m(v,V,F,"⋚","\\lesseqgtr",!0),m(v,V,F,"⪋","\\lesseqqgtr",!0),m(v,V,F,"≑","\\doteqdot"),m(v,V,F,"≓","\\risingdotseq",!0),m(v,V,F,"≒","\\fallingdotseq",!0),m(v,V,F,"∽","\\backsim",!0),m(v,V,F,"⋍","\\backsimeq",!0),m(v,V,F,"⫅","\\subseteqq",!0),m(v,V,F,"⋐","\\Subset",!0),m(v,V,F,"⊏","\\sqsubset",!0),m(v,V,F,"≼","\\preccurlyeq",!0),m(v,V,F,"⋞","\\curlyeqprec",!0),m(v,V,F,"≾","\\precsim",!0),m(v,V,F,"⪷","\\precapprox",!0),m(v,V,F,"⊲","\\vartriangleleft"),m(v,V,F,"⊴","\\trianglelefteq"),m(v,V,F,"⊨","\\vDash",!0),m(v,V,F,"⊪","\\Vvdash",!0),m(v,V,F,"⌣","\\smallsmile"),m(v,V,F,"⌢","\\smallfrown"),m(v,V,F,"≏","\\bumpeq",!0),m(v,V,F,"≎","\\Bumpeq",!0),m(v,V,F,"≧","\\geqq",!0),m(v,V,F,"⩾","\\geqslant",!0),m(v,V,F,"⪖","\\eqslantgtr",!0),m(v,V,F,"≳","\\gtrsim",!0),m(v,V,F,"⪆","\\gtrapprox",!0),m(v,V,ge,"⋗","\\gtrdot"),m(v,V,F,"⋙","\\ggg",!0),m(v,V,F,"≷","\\gtrless",!0),m(v,V,F,"⋛","\\gtreqless",!0),m(v,V,F,"⪌","\\gtreqqless",!0),m(v,V,F,"≖","\\eqcirc",!0),m(v,V,F,"≗","\\circeq",!0),m(v,V,F,"≜","\\triangleq",!0),m(v,V,F,"∼","\\thicksim"),m(v,V,F,"≈","\\thickapprox"),m(v,V,F,"⫆","\\supseteqq",!0),m(v,V,F,"⋑","\\Supset",!0),m(v,V,F,"⊐","\\sqsupset",!0),m(v,V,F,"≽","\\succcurlyeq",!0),m(v,V,F,"⋟","\\curlyeqsucc",!0),m(v,V,F,"≿","\\succsim",!0),m(v,V,F,"⪸","\\succapprox",!0),m(v,V,F,"⊳","\\vartriangleright"),m(v,V,F,"⊵","\\trianglerighteq"),m(v,V,F,"⊩","\\Vdash",!0),m(v,V,F,"∣","\\shortmid"),m(v,V,F,"∥","\\shortparallel"),m(v,V,F,"≬","\\between",!0),m(v,V,F,"⋔","\\pitchfork",!0),m(v,V,F,"∝","\\varpropto"),m(v,V,F,"◀","\\blacktriangleleft"),m(v,V,F,"∴","\\therefore",!0),m(v,V,F,"∍","\\backepsilon"),m(v,V,F,"▶","\\blacktriangleright"),m(v,V,F,"∵","\\because",!0),m(v,V,F,"⋘","\\llless"),m(v,V,F,"⋙","\\gggtr"),m(v,V,ge,"⊲","\\lhd"),m(v,V,ge,"⊳","\\rhd"),m(v,V,F,"≂","\\eqsim",!0),m(v,S,F,"⋈","\\Join"),m(v,V,F,"≑","\\Doteq",!0),m(v,V,ge,"∔","\\dotplus",!0),m(v,V,ge,"∖","\\smallsetminus"),m(v,V,ge,"⋒","\\Cap",!0),m(v,V,ge,"⋓","\\Cup",!0),m(v,V,ge,"⩞","\\doublebarwedge",!0),m(v,V,ge,"⊟","\\boxminus",!0),m(v,V,ge,"⊞","\\boxplus",!0),m(v,V,ge,"⋇","\\divideontimes",!0),m(v,V,ge,"⋉","\\ltimes",!0),m(v,V,ge,"⋊","\\rtimes",!0),m(v,V,ge,"⋋","\\leftthreetimes",!0),m(v,V,ge,"⋌","\\rightthreetimes",!0),m(v,V,ge,"⋏","\\curlywedge",!0),m(v,V,ge,"⋎","\\curlyvee",!0),m(v,V,ge,"⊝","\\circleddash",!0),m(v,V,ge,"⊛","\\circledast",!0),m(v,V,ge,"⋅","\\centerdot"),m(v,V,ge,"⊺","\\intercal",!0),m(v,V,ge,"⋒","\\doublecap"),m(v,V,ge,"⋓","\\doublecup"),m(v,V,ge,"⊠","\\boxtimes",!0),m(v,V,F,"⇢","\\dashrightarrow",!0),m(v,V,F,"⇠","\\dashleftarrow",!0),m(v,V,F,"⇇","\\leftleftarrows",!0),m(v,V,F,"⇆","\\leftrightarrows",!0),m(v,V,F,"⇚","\\Lleftarrow",!0),m(v,V,F,"↞","\\twoheadleftarrow",!0),m(v,V,F,"↢","\\leftarrowtail",!0),m(v,V,F,"↫","\\looparrowleft",!0),m(v,V,F,"⇋","\\leftrightharpoons",!0),m(v,V,F,"↶","\\curvearrowleft",!0),m(v,V,F,"↺","\\circlearrowleft",!0),m(v,V,F,"↰","\\Lsh",!0),m(v,V,F,"⇈","\\upuparrows",!0),m(v,V,F,"↿","\\upharpoonleft",!0),m(v,V,F,"⇃","\\downharpoonleft",!0),m(v,S,F,"⊶","\\origof",!0),m(v,S,F,"⊷","\\imageof",!0),m(v,V,F,"⊸","\\multimap",!0),m(v,V,F,"↭","\\leftrightsquigarrow",!0),m(v,V,F,"⇉","\\rightrightarrows",!0),m(v,V,F,"⇄","\\rightleftarrows",!0),m(v,V,F,"↠","\\twoheadrightarrow",!0),m(v,V,F,"↣","\\rightarrowtail",!0),m(v,V,F,"↬","\\looparrowright",!0),m(v,V,F,"↷","\\curvearrowright",!0),m(v,V,F,"↻","\\circlearrowright",!0),m(v,V,F,"↱","\\Rsh",!0),m(v,V,F,"⇊","\\downdownarrows",!0),m(v,V,F,"↾","\\upharpoonright",!0),m(v,V,F,"⇂","\\downharpoonright",!0),m(v,V,F,"⇝","\\rightsquigarrow",!0),m(v,V,F,"⇝","\\leadsto"),m(v,V,F,"⇛","\\Rrightarrow",!0),m(v,V,F,"↾","\\restriction"),m(v,S,H,"‘","`"),m(v,S,H,"$","\\$"),m(le,S,H,"$","\\$"),m(le,S,H,"$","\\textdollar"),m(v,S,H,"%","\\%"),m(le,S,H,"%","\\%"),m(v,S,H,"_","\\_"),m(le,S,H,"_","\\_"),m(le,S,H,"_","\\textunderscore"),m(v,S,H,"∠","\\angle",!0),m(v,S,H,"∞","\\infty",!0),m(v,S,H,"′","\\prime"),m(v,S,H,"△","\\triangle"),m(v,S,H,"Γ","\\Gamma",!0),m(v,S,H,"Δ","\\Delta",!0),m(v,S,H,"Θ","\\Theta",!0),m(v,S,H,"Λ","\\Lambda",!0),m(v,S,H,"Ξ","\\Xi",!0),m(v,S,H,"Π","\\Pi",!0),m(v,S,H,"Σ","\\Sigma",!0),m(v,S,H,"Υ","\\Upsilon",!0),m(v,S,H,"Φ","\\Phi",!0),m(v,S,H,"Ψ","\\Psi",!0),m(v,S,H,"Ω","\\Omega",!0),m(v,S,H,"A","Α"),m(v,S,H,"B","Β"),m(v,S,H,"E","Ε"),m(v,S,H,"Z","Ζ"),m(v,S,H,"H","Η"),m(v,S,H,"I","Ι"),m(v,S,H,"K","Κ"),m(v,S,H,"M","Μ"),m(v,S,H,"N","Ν"),m(v,S,H,"O","Ο"),m(v,S,H,"P","Ρ"),m(v,S,H,"T","Τ"),m(v,S,H,"X","Χ"),m(v,S,H,"¬","\\neg",!0),m(v,S,H,"¬","\\lnot"),m(v,S,H,"⊤","\\top"),m(v,S,H,"⊥","\\bot"),m(v,S,H,"∅","\\emptyset"),m(v,V,H,"∅","\\varnothing"),m(v,S,Se,"α","\\alpha",!0),m(v,S,Se,"β","\\beta",!0),m(v,S,Se,"γ","\\gamma",!0),m(v,S,Se,"δ","\\delta",!0),m(v,S,Se,"ϵ","\\epsilon",!0),m(v,S,Se,"ζ","\\zeta",!0),m(v,S,Se,"η","\\eta",!0),m(v,S,Se,"θ","\\theta",!0),m(v,S,Se,"ι","\\iota",!0),m(v,S,Se,"κ","\\kappa",!0),m(v,S,Se,"λ","\\lambda",!0),m(v,S,Se,"μ","\\mu",!0),m(v,S,Se,"ν","\\nu",!0),m(v,S,Se,"ξ","\\xi",!0),m(v,S,Se,"ο","\\omicron",!0),m(v,S,Se,"π","\\pi",!0),m(v,S,Se,"ρ","\\rho",!0),m(v,S,Se,"σ","\\sigma",!0),m(v,S,Se,"τ","\\tau",!0),m(v,S,Se,"υ","\\upsilon",!0),m(v,S,Se,"ϕ","\\phi",!0),m(v,S,Se,"χ","\\chi",!0),m(v,S,Se,"ψ","\\psi",!0),m(v,S,Se,"ω","\\omega",!0),m(v,S,Se,"ε","\\varepsilon",!0),m(v,S,Se,"ϑ","\\vartheta",!0),m(v,S,Se,"ϖ","\\varpi",!0),m(v,S,Se,"ϱ","\\varrho",!0),m(v,S,Se,"ς","\\varsigma",!0),m(v,S,Se,"φ","\\varphi",!0),m(v,S,ge,"∗","*",!0),m(v,S,ge,"+","+"),m(v,S,ge,"−","-",!0),m(v,S,ge,"⋅","\\cdot",!0),m(v,S,ge,"∘","\\circ",!0),m(v,S,ge,"÷","\\div",!0),m(v,S,ge,"±","\\pm",!0),m(v,S,ge,"×","\\times",!0),m(v,S,ge,"∩","\\cap",!0),m(v,S,ge,"∪","\\cup",!0),m(v,S,ge,"∖","\\setminus",!0),m(v,S,ge,"∧","\\land"),m(v,S,ge,"∨","\\lor"),m(v,S,ge,"∧","\\wedge",!0),m(v,S,ge,"∨","\\vee",!0),m(v,S,H,"√","\\surd"),m(v,S,Kt,"⟨","\\langle",!0),m(v,S,Kt,"∣","\\lvert"),m(v,S,Kt,"∥","\\lVert"),m(v,S,Tt,"?","?"),m(v,S,Tt,"!","!"),m(v,S,Tt,"⟩","\\rangle",!0),m(v,S,Tt,"∣","\\rvert"),m(v,S,Tt,"∥","\\rVert"),m(v,S,F,"=","="),m(v,S,F,":",":"),m(v,S,F,"≈","\\approx",!0),m(v,S,F,"≅","\\cong",!0),m(v,S,F,"≥","\\ge"),m(v,S,F,"≥","\\geq",!0),m(v,S,F,"←","\\gets"),m(v,S,F,">","\\gt",!0),m(v,S,F,"∈","\\in",!0),m(v,S,F,"","\\@not"),m(v,S,F,"⊂","\\subset",!0),m(v,S,F,"⊃","\\supset",!0),m(v,S,F,"⊆","\\subseteq",!0),m(v,S,F,"⊇","\\supseteq",!0),m(v,V,F,"⊈","\\nsubseteq",!0),m(v,V,F,"⊉","\\nsupseteq",!0),m(v,S,F,"⊨","\\models"),m(v,S,F,"←","\\leftarrow",!0),m(v,S,F,"≤","\\le"),m(v,S,F,"≤","\\leq",!0),m(v,S,F,"<","\\lt",!0),m(v,S,F,"→","\\rightarrow",!0),m(v,S,F,"→","\\to"),m(v,V,F,"≱","\\ngeq",!0),m(v,V,F,"≰","\\nleq",!0),m(v,S,Hn," ","\\ "),m(v,S,Hn," ","\\space"),m(v,S,Hn," ","\\nobreakspace"),m(le,S,Hn," ","\\ "),m(le,S,Hn," "," "),m(le,S,Hn," ","\\space"),m(le,S,Hn," ","\\nobreakspace"),m(v,S,Hn,null,"\\nobreak"),m(v,S,Hn,null,"\\allowbreak"),m(v,S,yi,",",","),m(v,S,yi,";",";"),m(v,V,ge,"⊼","\\barwedge",!0),m(v,V,ge,"⊻","\\veebar",!0),m(v,S,ge,"⊙","\\odot",!0),m(v,S,ge,"⊕","\\oplus",!0),m(v,S,ge,"⊗","\\otimes",!0),m(v,S,H,"∂","\\partial",!0),m(v,S,ge,"⊘","\\oslash",!0),m(v,V,ge,"⊚","\\circledcirc",!0),m(v,V,ge,"⊡","\\boxdot",!0),m(v,S,ge,"△","\\bigtriangleup"),m(v,S,ge,"▽","\\bigtriangledown"),m(v,S,ge,"†","\\dagger"),m(v,S,ge,"⋄","\\diamond"),m(v,S,ge,"⋆","\\star"),m(v,S,ge,"◃","\\triangleleft"),m(v,S,ge,"▹","\\triangleright"),m(v,S,Kt,"{","\\{"),m(le,S,H,"{","\\{"),m(le,S,H,"{","\\textbraceleft"),m(v,S,Tt,"}","\\}"),m(le,S,H,"}","\\}"),m(le,S,H,"}","\\textbraceright"),m(v,S,Kt,"{","\\lbrace"),m(v,S,Tt,"}","\\rbrace"),m(v,S,Kt,"[","\\lbrack",!0),m(le,S,H,"[","\\lbrack",!0),m(v,S,Tt,"]","\\rbrack",!0),m(le,S,H,"]","\\rbrack",!0),m(v,S,Kt,"(","\\lparen",!0),m(v,S,Tt,")","\\rparen",!0),m(le,S,H,"<","\\textless",!0),m(le,S,H,">","\\textgreater",!0),m(v,S,Kt,"⌊","\\lfloor",!0),m(v,S,Tt,"⌋","\\rfloor",!0),m(v,S,Kt,"⌈","\\lceil",!0),m(v,S,Tt,"⌉","\\rceil",!0),m(v,S,H,"\\","\\backslash"),m(v,S,H,"∣","|"),m(v,S,H,"∣","\\vert"),m(le,S,H,"|","\\textbar",!0),m(v,S,H,"∥","\\|"),m(v,S,H,"∥","\\Vert"),m(le,S,H,"∥","\\textbardbl"),m(le,S,H,"~","\\textasciitilde"),m(le,S,H,"\\","\\textbackslash"),m(le,S,H,"^","\\textasciicircum"),m(v,S,F,"↑","\\uparrow",!0),m(v,S,F,"⇑","\\Uparrow",!0),m(v,S,F,"↓","\\downarrow",!0),m(v,S,F,"⇓","\\Downarrow",!0),m(v,S,F,"↕","\\updownarrow",!0),m(v,S,F,"⇕","\\Updownarrow",!0),m(v,S,ht,"∐","\\coprod"),m(v,S,ht,"⋁","\\bigvee"),m(v,S,ht,"⋀","\\bigwedge"),m(v,S,ht,"⨄","\\biguplus"),m(v,S,ht,"⋂","\\bigcap"),m(v,S,ht,"⋃","\\bigcup"),m(v,S,ht,"∫","\\int"),m(v,S,ht,"∫","\\intop"),m(v,S,ht,"∬","\\iint"),m(v,S,ht,"∭","\\iiint"),m(v,S,ht,"∏","\\prod"),m(v,S,ht,"∑","\\sum"),m(v,S,ht,"⨂","\\bigotimes"),m(v,S,ht,"⨁","\\bigoplus"),m(v,S,ht,"⨀","\\bigodot"),m(v,S,ht,"∮","\\oint"),m(v,S,ht,"∯","\\oiint"),m(v,S,ht,"∰","\\oiiint"),m(v,S,ht,"⨆","\\bigsqcup"),m(v,S,ht,"∫","\\smallint"),m(le,S,gn,"…","\\textellipsis"),m(v,S,gn,"…","\\mathellipsis"),m(le,S,gn,"…","\\ldots",!0),m(v,S,gn,"…","\\ldots",!0),m(v,S,gn,"⋯","\\@cdots",!0),m(v,S,gn,"⋱","\\ddots",!0),m(v,S,H,"⋮","\\varvdots"),m(le,S,H,"⋮","\\varvdots"),m(v,S,Je,"ˊ","\\acute"),m(v,S,Je,"ˋ","\\grave"),m(v,S,Je,"¨","\\ddot"),m(v,S,Je,"~","\\tilde"),m(v,S,Je,"ˉ","\\bar"),m(v,S,Je,"˘","\\breve"),m(v,S,Je,"ˇ","\\check"),m(v,S,Je,"^","\\hat"),m(v,S,Je,"⃗","\\vec"),m(v,S,Je,"˙","\\dot"),m(v,S,Je,"˚","\\mathring"),m(v,S,Se,"","\\@imath"),m(v,S,Se,"","\\@jmath"),m(v,S,H,"ı","ı"),m(v,S,H,"ȷ","ȷ"),m(le,S,H,"ı","\\i",!0),m(le,S,H,"ȷ","\\j",!0),m(le,S,H,"ß","\\ss",!0),m(le,S,H,"æ","\\ae",!0),m(le,S,H,"œ","\\oe",!0),m(le,S,H,"ø","\\o",!0),m(le,S,H,"Æ","\\AE",!0),m(le,S,H,"Œ","\\OE",!0),m(le,S,H,"Ø","\\O",!0),m(le,S,Je,"ˊ","\\'"),m(le,S,Je,"ˋ","\\`"),m(le,S,Je,"ˆ","\\^"),m(le,S,Je,"˜","\\~"),m(le,S,Je,"ˉ","\\="),m(le,S,Je,"˘","\\u"),m(le,S,Je,"˙","\\."),m(le,S,Je,"¸","\\c"),m(le,S,Je,"˚","\\r"),m(le,S,Je,"ˇ","\\v"),m(le,S,Je,"¨",'\\"'),m(le,S,Je,"˝","\\H"),m(le,S,Je,"◯","\\textcircled");const cs={"--":!0,"---":!0,"``":!0,"''":!0};m(le,S,H,"–","--",!0),m(le,S,H,"–","\\textendash"),m(le,S,H,"—","---",!0),m(le,S,H,"—","\\textemdash"),m(le,S,H,"‘","`",!0),m(le,S,H,"‘","\\textquoteleft"),m(le,S,H,"’","'",!0),m(le,S,H,"’","\\textquoteright"),m(le,S,H,"“","``",!0),m(le,S,H,"“","\\textquotedblleft"),m(le,S,H,"”","''",!0),m(le,S,H,"”","\\textquotedblright"),m(v,S,H,"°","\\degree",!0),m(le,S,H,"°","\\degree"),m(le,S,H,"°","\\textdegree",!0),m(v,S,H,"£","\\pounds"),m(v,S,H,"£","\\mathsterling",!0),m(le,S,H,"£","\\pounds"),m(le,S,H,"£","\\textsterling",!0),m(v,V,H,"✠","\\maltese"),m(le,V,H,"✠","\\maltese");const Ia='0123456789/@."';for(let a=0;a<Ia.length;a++){const o=Ia.charAt(a);m(v,S,H,o,o)}const eo='0123456789!@*()-=+";:?/.,';for(let a=0;a<eo.length;a++){const o=eo.charAt(a);m(le,S,H,o,o)}const Sr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";for(let a=0;a<Sr.length;a++){const o=Sr.charAt(a);m(v,S,Se,o,o),m(le,S,H,o,o)}m(v,V,H,"C","ℂ"),m(le,V,H,"C","ℂ"),m(v,V,H,"H","ℍ"),m(le,V,H,"H","ℍ"),m(v,V,H,"N","ℕ"),m(le,V,H,"N","ℕ"),m(v,V,H,"P","ℙ"),m(le,V,H,"P","ℙ"),m(v,V,H,"Q","ℚ"),m(le,V,H,"Q","ℚ"),m(v,V,H,"R","ℝ"),m(le,V,H,"R","ℝ"),m(v,V,H,"Z","ℤ"),m(le,V,H,"Z","ℤ"),m(v,S,Se,"h","ℎ"),m(le,S,Se,"h","ℎ");let be="";for(let a=0;a<Sr.length;a++){const o=Sr.charAt(a);be=String.fromCharCode(55349,56320+a),m(v,S,Se,o,be),m(le,S,H,o,be),be=String.fromCharCode(55349,56372+a),m(v,S,Se,o,be),m(le,S,H,o,be),be=String.fromCharCode(55349,56424+a),m(v,S,Se,o,be),m(le,S,H,o,be),be=String.fromCharCode(55349,56580+a),m(v,S,Se,o,be),m(le,S,H,o,be),be=String.fromCharCode(55349,56684+a),m(v,S,Se,o,be),m(le,S,H,o,be),be=String.fromCharCode(55349,56736+a),m(v,S,Se,o,be),m(le,S,H,o,be),be=String.fromCharCode(55349,56788+a),m(v,S,Se,o,be),m(le,S,H,o,be),be=String.fromCharCode(55349,56840+a),m(v,S,Se,o,be),m(le,S,H,o,be),be=String.fromCharCode(55349,56944+a),m(v,S,Se,o,be),m(le,S,H,o,be),a<26&&(be=String.fromCharCode(55349,56632+a),m(v,S,Se,o,be),m(le,S,H,o,be),be=String.fromCharCode(55349,56476+a),m(v,S,Se,o,be),m(le,S,H,o,be))}be="𝕜",m(v,S,Se,"k",be),m(le,S,H,"k",be);for(let a=0;a<10;a++){const o=a.toString();be=String.fromCharCode(55349,57294+a),m(v,S,Se,o,be),m(le,S,H,o,be),be=String.fromCharCode(55349,57314+a),m(v,S,Se,o,be),m(le,S,H,o,be),be=String.fromCharCode(55349,57324+a),m(v,S,Se,o,be),m(le,S,H,o,be),be=String.fromCharCode(55349,57334+a),m(v,S,Se,o,be),m(le,S,H,o,be)}const ds="ÐÞþ";for(let a=0;a<ds.length;a++){const o=ds.charAt(a);m(v,S,Se,o,o),m(le,S,H,o,o)}const to=[["mathbf","textbf","Main-Bold"],["mathbf","textbf","Main-Bold"],["mathnormal","textit","Math-Italic"],["mathnormal","textit","Math-Italic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["boldsymbol","boldsymbol","Main-BoldItalic"],["mathscr","textscr","Script-Regular"],["","",""],["","",""],["","",""],["mathfrak","textfrak","Fraktur-Regular"],["mathfrak","textfrak","Fraktur-Regular"],["mathbb","textbb","AMS-Regular"],["mathbb","textbb","AMS-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathboldfrak","textboldfrak","Fraktur-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathitsf","textitsf","SansSerif-Italic"],["mathitsf","textitsf","SansSerif-Italic"],["","",""],["","",""],["mathtt","texttt","Typewriter-Regular"],["mathtt","texttt","Typewriter-Regular"]],Ca=[["mathbf","textbf","Main-Bold"],["","",""],["mathsf","textsf","SansSerif-Regular"],["mathboldsf","textboldsf","SansSerif-Bold"],["mathtt","texttt","Typewriter-Regular"]],vu=function(a,o){const l=a.charCodeAt(0),d=a.charCodeAt(1),p=(l-55296)*1024+(d-56320)+65536,w=o==="math"?0:1;if(119808<=p&&p<120484){const b=Math.floor((p-119808)/26);return[to[b][2],to[b][w]]}else if(120782<=p&&p<=120831){const b=Math.floor((p-120782)/10);return[Ca[b][2],Ca[b][w]]}else{if(p===120485||p===120486)return[to[0][2],to[0][w]];if(120486<p&&p<120782)return["",""];throw new s("Unsupported character: "+a)}},hs=function(a,o,l){return it[l][a]&&it[l][a].replace&&(a=it[l][a].replace),{value:a,metrics:is(a,o,l)}},yn=function(a,o,l,d,p){const w=hs(a,o,l),b=w.metrics;a=w.value;let T;if(b){let R=b.italic;(l==="text"||d&&d.font==="mathit")&&(R=0),T=new mn(a,b.height,b.depth,R,b.skew,b.width,p)}else typeof console<"u"&&console.warn("No character metrics "+("for '"+a+"' in style '"+o+"' and mode '"+l+"'")),T=new mn(a,0,0,0,0,0,p);if(d){T.maxFontSize=d.sizeMultiplier,d.style.isTight()&&T.classes.push("mtight");const R=d.getColor();R&&(T.style.color=R)}return T},Na=function(a,o,l,d){return d===void 0&&(d=[]),l.font==="boldsymbol"&&hs(a,"Main-Bold",o).metrics?yn(a,"Main-Bold",o,l,d.concat(["mathbf"])):a==="\\"||it[o][a].font==="main"?yn(a,"Main-Regular",o,l,d):yn(a,"AMS-Regular",o,l,d.concat(["amsrm"]))},wu=function(a,o,l,d,p){return p!=="textord"&&hs(a,"Math-BoldItalic",o).metrics?{fontName:"Math-BoldItalic",fontClass:"boldsymbol"}:{fontName:"Main-Bold",fontClass:"mathbf"}},xu=function(a,o,l){const d=a.mode,p=a.text,w=["mord"],b=d==="math"||d==="text"&&o.font,T=b?o.font:o.fontFamily;let R="",B="";if(p.charCodeAt(0)===55349&&([R,B]=vu(p,d)),R.length>0)return yn(p,R,d,o,w.concat(B));if(T){let G,Y;if(T==="boldsymbol"){const ee=wu(p,d,o,w,l);G=ee.fontName,Y=[ee.fontClass]}else b?(G=vi[T].fontName,Y=[T]):(G=Er(T,o.fontWeight,o.fontShape),Y=[T,o.fontWeight,o.fontShape]);if(hs(p,G,d).metrics)return yn(p,G,d,o,w.concat(Y));if(cs.hasOwnProperty(p)&&G.slice(0,10)==="Typewriter"){const ee=[];for(let ue=0;ue<p.length;ue++)ee.push(yn(p[ue],G,d,o,w.concat(Y)));return fs(ee)}}if(l==="mathord")return yn(p,"Math-Italic",d,o,w.concat(["mathnormal"]));if(l==="textord"){const G=it[d][p]&&it[d][p].font;if(G==="ams"){const Y=Er("amsrm",o.fontWeight,o.fontShape);return yn(p,Y,d,o,w.concat("amsrm",o.fontWeight,o.fontShape))}else if(G==="main"||!G){const Y=Er("textrm",o.fontWeight,o.fontShape);return yn(p,Y,d,o,w.concat(o.fontWeight,o.fontShape))}else{const Y=Er(G,o.fontWeight,o.fontShape);return yn(p,Y,d,o,w.concat(Y,o.fontWeight,o.fontShape))}}else throw new Error("unexpected type: "+l+" in makeOrd")},td=(a,o)=>{if(br(a.classes)!==br(o.classes)||a.skew!==o.skew||a.maxFontSize!==o.maxFontSize)return!1;if(a.classes.length===1){const l=a.classes[0];if(l==="mbin"||l==="mord")return!1}for(const l in a.style)if(a.style.hasOwnProperty(l)&&a.style[l]!==o.style[l])return!1;for(const l in o.style)if(o.style.hasOwnProperty(l)&&a.style[l]!==o.style[l])return!1;return!0},nd=a=>{for(let o=0;o<a.length-1;o++){const l=a[o],d=a[o+1];l instanceof mn&&d instanceof mn&&td(l,d)&&(l.text+=d.text,l.height=Math.max(l.height,d.height),l.depth=Math.max(l.depth,d.depth),l.italic=d.italic,a.splice(o+1,1),o--)}return a},no=function(a){let o=0,l=0,d=0;for(let p=0;p<a.children.length;p++){const w=a.children[p];w.height>o&&(o=w.height),w.depth>l&&(l=w.depth),w.maxFontSize>d&&(d=w.maxFontSize)}a.height=o,a.depth=l,a.maxFontSize=d},Qt=function(a,o,l,d){const p=new sr(a,o,l,d);return no(p),p},bu=(a,o,l,d)=>new sr(a,o,l,d),qr=function(a,o,l){const d=Qt([a],[],o);return d.height=Math.max(l||o.fontMetrics().defaultRuleThickness,o.minRuleThickness),d.style.borderBottomWidth=he(d.height),d.maxFontSize=1,d},ar=function(a,o,l,d){const p=new ls(a,o,l,d);return no(p),p},fs=function(a){const o=new rs(a);return no(o),o},ro=function(a,o){return a instanceof rs?Qt([],[a],o):a},_u=function(a){if(a.positionType==="individualShift"){const l=a.children,d=[l[0]],p=-l[0].shift-l[0].elem.depth;let w=p;for(let b=1;b<l.length;b++){const T=-l[b].shift-w-l[b].elem.depth,R=T-(l[b-1].elem.height+l[b-1].elem.depth);w=w+T,d.push({type:"kern",size:R}),d.push(l[b])}return{children:d,depth:p}}let o;if(a.positionType==="top"){let l=a.positionData;for(let d=0;d<a.children.length;d++){const p=a.children[d];l-=p.type==="kern"?p.size:p.elem.height+p.elem.depth}o=l}else if(a.positionType==="bottom")o=-a.positionData;else{const l=a.children[0];if(l.type!=="elem")throw new Error('First child must have type "elem".');if(a.positionType==="shift")o=-l.elem.depth-a.positionData;else if(a.positionType==="firstBaseline")o=-l.elem.depth;else throw new Error("Invalid positionType "+a.positionType+".")}return{children:a.children,depth:o}},Ze=function(a,o){const{children:l,depth:d}=_u(a);let p=0;for(let ue=0;ue<l.length;ue++){const ye=l[ue];if(ye.type==="elem"){const xe=ye.elem;p=Math.max(p,xe.maxFontSize,xe.height)}}p+=2;const w=Qt(["pstrut"],[]);w.style.height=he(p);const b=[];let T=d,R=d,B=d;for(let ue=0;ue<l.length;ue++){const ye=l[ue];if(ye.type==="kern")B+=ye.size;else{const xe=ye.elem,Ve=ye.wrapperClasses||[],Pe=ye.wrapperStyle||{},je=Qt(Ve,[w,xe],void 0,Pe);je.style.top=he(-p-B-xe.depth),ye.marginLeft&&(je.style.marginLeft=ye.marginLeft),ye.marginRight&&(je.style.marginRight=ye.marginRight),b.push(je),B+=xe.height+xe.depth}T=Math.min(T,B),R=Math.max(R,B)}const G=Qt(["vlist"],b);G.style.height=he(R);let Y;if(T<0){const ue=Qt([],[]),ye=Qt(["vlist"],[ue]);ye.style.height=he(-T);const xe=Qt(["vlist-s"],[new mn("​")]);Y=[Qt(["vlist-r"],[G,xe]),Qt(["vlist-r"],[ye])]}else Y=[Qt(["vlist-r"],[G])];const ee=Qt(["vlist-t"],Y);return Y.length===2&&ee.classes.push("vlist-t2"),ee.height=R,ee.depth=-T,ee},io=(a,o)=>{const l=Qt(["mspace"],[],o),d=et(a,o);return l.style.marginRight=he(d),l},Er=function(a,o,l){let d="";switch(a){case"amsrm":d="AMS";break;case"textrm":d="Main";break;case"textsf":d="SansSerif";break;case"texttt":d="Typewriter";break;default:d=a}let p;return o==="textbf"&&l==="textit"?p="BoldItalic":o==="textbf"?p="Bold":o==="textit"?p="Italic":p="Regular",d+"-"+p},vi={mathbf:{variant:"bold",fontName:"Main-Bold"},mathrm:{variant:"normal",fontName:"Main-Regular"},textit:{variant:"italic",fontName:"Main-Italic"},mathit:{variant:"italic",fontName:"Main-Italic"},mathnormal:{variant:"italic",fontName:"Math-Italic"},mathsfit:{variant:"sans-serif-italic",fontName:"SansSerif-Italic"},mathbb:{variant:"double-struck",fontName:"AMS-Regular"},mathcal:{variant:"script",fontName:"Caligraphic-Regular"},mathfrak:{variant:"fraktur",fontName:"Fraktur-Regular"},mathscr:{variant:"script",fontName:"Script-Regular"},mathsf:{variant:"sans-serif",fontName:"SansSerif-Regular"},mathtt:{variant:"monospace",fontName:"Typewriter-Regular"}},Su={vec:["vec",.471,.714],oiintSize1:["oiintSize1",.957,.499],oiintSize2:["oiintSize2",1.472,.659],oiiintSize1:["oiiintSize1",1.304,.499],oiiintSize2:["oiiintSize2",1.98,.659]};var Z={fontMap:vi,makeSymbol:yn,mathsym:Na,makeSpan:Qt,makeSvgSpan:bu,makeLineSpan:qr,makeAnchor:ar,makeFragment:fs,wrapFragment:ro,makeVList:Ze,makeOrd:xu,makeGlue:io,staticSvg:function(a,o){const[l,d,p]=Su[a],w=new or(l),b=new kn([w],{width:he(d),height:he(p),style:"width:"+he(d),viewBox:"0 0 "+1e3*d+" "+1e3*p,preserveAspectRatio:"xMinYMin"}),T=bu(["overlay"],[b],o);return T.height=p,T.style.height=he(p),T.style.width=he(d),T},svgData:Su,tryCombineChars:nd};const st={number:3,unit:"mu"},$r={number:4,unit:"mu"},lr={number:5,unit:"mu"},ps={mord:{mop:st,mbin:$r,mrel:lr,minner:st},mop:{mord:st,mop:st,mrel:lr,minner:st},mbin:{mord:$r,mop:$r,mopen:$r,minner:$r},mrel:{mord:lr,mop:lr,mopen:lr,minner:lr},mopen:{},mclose:{mop:st,mbin:$r,mrel:lr,minner:st},mpunct:{mord:st,mop:st,mrel:lr,mopen:st,mclose:st,mpunct:st,minner:st},minner:{mord:st,mop:st,mbin:$r,mrel:lr,mopen:st,mpunct:st,minner:st}},Tr={mord:{mop:st},mop:{mord:st,mop:st},mbin:{},mrel:{},mopen:{},mclose:{mop:st},mpunct:{},minner:{mop:st}},Pa={},ms={},gs={};function pe(a){let{type:o,names:l,props:d,handler:p,htmlBuilder:w,mathmlBuilder:b}=a;const T={type:o,numArgs:d.numArgs,argTypes:d.argTypes,allowedInArgument:!!d.allowedInArgument,allowedInText:!!d.allowedInText,allowedInMath:d.allowedInMath===void 0?!0:d.allowedInMath,numOptionalArgs:d.numOptionalArgs||0,infix:!!d.infix,primitive:!!d.primitive,handler:p};for(let R=0;R<l.length;++R)Pa[l[R]]=T;o&&(w&&(ms[o]=w),b&&(gs[o]=b))}function Hr(a){let{type:o,htmlBuilder:l,mathmlBuilder:d}=a;pe({type:o,names:[],props:{numArgs:0},handler(){throw new Error("Should never be called.")},htmlBuilder:l,mathmlBuilder:d})}const so=function(a){return a.type==="ordgroup"&&a.body.length===1?a.body[0]:a},ft=function(a){return a.type==="ordgroup"?a.body:[a]},Vt=Z.makeSpan,id=["leftmost","mbin","mopen","mrel","mop","mpunct"],sd=["rightmost","mrel","mclose","mpunct"],oo={display:oe.DISPLAY,text:oe.TEXT,script:oe.SCRIPT,scriptscript:oe.SCRIPTSCRIPT},ao={mord:"mord",mop:"mop",mbin:"mbin",mrel:"mrel",mopen:"mopen",mclose:"mclose",mpunct:"mpunct",minner:"minner"},vt=function(a,o,l,d){d===void 0&&(d=[null,null]);const p=[];for(let B=0;B<a.length;B++){const G=ze(a[B],o);if(G instanceof rs){const Y=G.children;p.push(...Y)}else p.push(G)}if(Z.tryCombineChars(p),!l)return p;let w=o;if(a.length===1){const B=a[0];B.type==="sizing"?w=o.havingSize(B.size):B.type==="styling"&&(w=o.havingStyle(oo[B.style]))}const b=Vt([d[0]||"leftmost"],[],o),T=Vt([d[1]||"rightmost"],[],o),R=l==="root";return Wr(p,(B,G)=>{const Y=G.classes[0],ee=B.classes[0];Y==="mbin"&&P.contains(sd,ee)?G.classes[0]="mord":ee==="mbin"&&P.contains(id,Y)&&(B.classes[0]="mord")},{node:b},T,R),Wr(p,(B,G)=>{const Y=ys(G),ee=ys(B),ue=Y&&ee?B.hasClass("mtight")?Tr[Y][ee]:ps[Y][ee]:null;if(ue)return Z.makeGlue(ue,w)},{node:b},T,R),p},Wr=function(a,o,l,d,p){d&&a.push(d);let w=0;for(;w<a.length;w++){const b=a[w],T=wi(b);if(T){Wr(T.children,o,l,null,p);continue}const R=!b.hasClass("mspace");if(R){const B=o(b,l.node);B&&(l.insertAfter?l.insertAfter(B):(a.unshift(B),w++))}R?l.node=b:p&&b.hasClass("newline")&&(l.node=Vt(["leftmost"])),l.insertAfter=(B=>G=>{a.splice(B+1,0,G),w++})(w)}d&&a.pop()},wi=function(a){return a instanceof rs||a instanceof ls||a instanceof sr&&a.hasClass("enclosing")?a:null},lo=function(a,o){const l=wi(a);if(l){const d=l.children;if(d.length){if(o==="right")return lo(d[d.length-1],"right");if(o==="left")return lo(d[0],"left")}}return a},ys=function(a,o){return a?(o&&(a=lo(a,o)),ao[a.classes[0]]||null):null},Ye=function(a,o){const l=["nulldelimiter"].concat(a.baseSizingClasses());return Vt(o.concat(l))},ze=function(a,o,l){if(!a)return Vt();if(ms[a.type]){let d=ms[a.type](a,o);if(l&&o.size!==l.size){d=Vt(o.sizingClasses(l),[d],o);const p=o.sizeMultiplier/l.sizeMultiplier;d.height*=p,d.depth*=p}return d}else throw new s("Got group of unknown type: '"+a.type+"'")};function uo(a,o){const l=Vt(["base"],a,o),d=Vt(["strut"]);return d.style.height=he(l.height+l.depth),l.depth&&(d.style.verticalAlign=he(-l.depth)),l.children.unshift(d),l}function co(a,o){let l=null;a.length===1&&a[0].type==="tag"&&(l=a[0].tag,a=a[0].body);const d=vt(a,o,"root");let p;d.length===2&&d[1].hasClass("tag")&&(p=d.pop());const w=[];let b=[];for(let B=0;B<d.length;B++)if(b.push(d[B]),d[B].hasClass("mbin")||d[B].hasClass("mrel")||d[B].hasClass("allowbreak")){let G=!1;for(;B<d.length-1&&d[B+1].hasClass("mspace")&&!d[B+1].hasClass("newline");)B++,b.push(d[B]),d[B].hasClass("nobreak")&&(G=!0);G||(w.push(uo(b,o)),b=[])}else d[B].hasClass("newline")&&(b.pop(),b.length>0&&(w.push(uo(b,o)),b=[]),w.push(d[B]));b.length>0&&w.push(uo(b,o));let T;l?(T=uo(vt(l,o,!0)),T.classes=["tag"],w.push(T)):p&&w.push(p);const R=Vt(["katex-html"],w);if(R.setAttribute("aria-hidden","true"),T){const B=T.children[0];B.style.height=he(R.height+R.depth),R.depth&&(B.style.verticalAlign=he(-R.depth))}return R}function Ra(a){return new rs(a)}class on{constructor(o,l,d){this.type=void 0,this.attributes=void 0,this.children=void 0,this.classes=void 0,this.type=o,this.attributes={},this.children=l||[],this.classes=d||[]}setAttribute(o,l){this.attributes[o]=l}getAttribute(o){return this.attributes[o]}toNode(){const o=document.createElementNS("http://www.w3.org/1998/Math/MathML",this.type);for(const l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&o.setAttribute(l,this.attributes[l]);this.classes.length>0&&(o.className=br(this.classes));for(let l=0;l<this.children.length;l++)if(this.children[l]instanceof vn&&this.children[l+1]instanceof vn){let d=this.children[l].toText()+this.children[++l].toText();for(;this.children[l+1]instanceof vn;)d+=this.children[++l].toText();o.appendChild(new vn(d).toNode())}else o.appendChild(this.children[l].toNode());return o}toMarkup(){let o="<"+this.type;for(const l in this.attributes)Object.prototype.hasOwnProperty.call(this.attributes,l)&&(o+=" "+l+'="',o+=P.escape(this.attributes[l]),o+='"');this.classes.length>0&&(o+=' class ="'+P.escape(br(this.classes))+'"'),o+=">";for(let l=0;l<this.children.length;l++)o+=this.children[l].toMarkup();return o+="</"+this.type+">",o}toText(){return this.children.map(o=>o.toText()).join("")}}class vn{constructor(o){this.text=void 0,this.text=o}toNode(){return document.createTextNode(this.text)}toMarkup(){return P.escape(this.toText())}toText(){return this.text}}class Eu{constructor(o){this.width=void 0,this.character=void 0,this.width=o,o>=.05555&&o<=.05556?this.character=" ":o>=.1666&&o<=.1667?this.character=" ":o>=.2222&&o<=.2223?this.character=" ":o>=.2777&&o<=.2778?this.character="  ":o>=-.05556&&o<=-.05555?this.character=" ⁣":o>=-.1667&&o<=-.1666?this.character=" ⁣":o>=-.2223&&o<=-.2222?this.character=" ⁣":o>=-.2778&&o<=-.2777?this.character=" ⁣":this.character=null}toNode(){if(this.character)return document.createTextNode(this.character);{const o=document.createElementNS("http://www.w3.org/1998/Math/MathML","mspace");return o.setAttribute("width",he(this.width)),o}}toMarkup(){return this.character?"<mtext>"+this.character+"</mtext>":'<mspace width="'+he(this.width)+'"/>'}toText(){return this.character?this.character:" "}}var ae={MathNode:on,TextNode:vn,SpaceNode:Eu,newDocumentFragment:Ra};const wn=function(a,o,l){return it[o][a]&&it[o][a].replace&&a.charCodeAt(0)!==55349&&!(cs.hasOwnProperty(a)&&l&&(l.fontFamily&&l.fontFamily.slice(4,6)==="tt"||l.font&&l.font.slice(4,6)==="tt"))&&(a=it[o][a].replace),new ae.TextNode(a)},Ma=function(a){return a.length===1?a[0]:new ae.MathNode("mrow",a)},Gr=function(a,o){if(o.fontFamily==="texttt")return"monospace";if(o.fontFamily==="textsf")return o.fontShape==="textit"&&o.fontWeight==="textbf"?"sans-serif-bold-italic":o.fontShape==="textit"?"sans-serif-italic":o.fontWeight==="textbf"?"bold-sans-serif":"sans-serif";if(o.fontShape==="textit"&&o.fontWeight==="textbf")return"bold-italic";if(o.fontShape==="textit")return"italic";if(o.fontWeight==="textbf")return"bold";const l=o.font;if(!l||l==="mathnormal")return null;const d=a.mode;if(l==="mathit")return"italic";if(l==="boldsymbol")return a.type==="textord"?"bold":"bold-italic";if(l==="mathbf")return"bold";if(l==="mathbb")return"double-struck";if(l==="mathsfit")return"sans-serif-italic";if(l==="mathfrak")return"fraktur";if(l==="mathscr"||l==="mathcal")return"script";if(l==="mathsf")return"sans-serif";if(l==="mathtt")return"monospace";let p=a.text;if(P.contains(["\\imath","\\jmath"],p))return null;it[d][p]&&it[d][p].replace&&(p=it[d][p].replace);const w=Z.fontMap[l].fontName;return is(p,w,d)?Z.fontMap[l].variant:null};function ho(a){if(!a)return!1;if(a.type==="mi"&&a.children.length===1){const o=a.children[0];return o instanceof vn&&o.text==="."}else if(a.type==="mo"&&a.children.length===1&&a.getAttribute("separator")==="true"&&a.getAttribute("lspace")==="0em"&&a.getAttribute("rspace")==="0em"){const o=a.children[0];return o instanceof vn&&o.text===","}else return!1}const jt=function(a,o,l){if(a.length===1){const w=We(a[0],o);return l&&w instanceof on&&w.type==="mo"&&(w.setAttribute("lspace","0em"),w.setAttribute("rspace","0em")),[w]}const d=[];let p;for(let w=0;w<a.length;w++){const b=We(a[w],o);if(b instanceof on&&p instanceof on){if(b.type==="mtext"&&p.type==="mtext"&&b.getAttribute("mathvariant")===p.getAttribute("mathvariant")){p.children.push(...b.children);continue}else if(b.type==="mn"&&p.type==="mn"){p.children.push(...b.children);continue}else if(ho(b)&&p.type==="mn"){p.children.push(...b.children);continue}else if(b.type==="mn"&&ho(p))b.children=[...p.children,...b.children],d.pop();else if((b.type==="msup"||b.type==="msub")&&b.children.length>=1&&(p.type==="mn"||ho(p))){const T=b.children[0];T instanceof on&&T.type==="mn"&&(T.children=[...p.children,...T.children],d.pop())}else if(p.type==="mi"&&p.children.length===1){const T=p.children[0];if(T instanceof vn&&T.text==="̸"&&(b.type==="mo"||b.type==="mi"||b.type==="mn")){const R=b.children[0];R instanceof vn&&R.text.length>0&&(R.text=R.text.slice(0,1)+"̸"+R.text.slice(1),d.pop())}}}d.push(b),p=b}return d},On=function(a,o,l){return Ma(jt(a,o,l))},We=function(a,o){if(!a)return new ae.MathNode("mrow");if(gs[a.type])return gs[a.type](a,o);throw new s("Got group of unknown type: '"+a.type+"'")};function vs(a,o,l,d,p){const w=jt(a,l);let b;w.length===1&&w[0]instanceof on&&P.contains(["mrow","mtable"],w[0].type)?b=w[0]:b=new ae.MathNode("mrow",w);const T=new ae.MathNode("annotation",[new ae.TextNode(o)]);T.setAttribute("encoding","application/x-tex");const R=new ae.MathNode("semantics",[b,T]),B=new ae.MathNode("math",[R]);B.setAttribute("xmlns","http://www.w3.org/1998/Math/MathML"),d&&B.setAttribute("display","block");const G=p?"katex":"katex-mathml";return Z.makeSpan([G],[B])}const Tu=function(a){return new pu({style:a.displayMode?oe.DISPLAY:oe.TEXT,maxSize:a.maxSize,minRuleThickness:a.minRuleThickness})},Da=function(a,o){if(o.displayMode){const l=["katex-display"];o.leqno&&l.push("leqno"),o.fleqn&&l.push("fleqn"),a=Z.makeSpan(l,[a])}return a},ws=function(a,o,l){const d=Tu(l);let p;if(l.output==="mathml")return vs(a,o,d,l.displayMode,!0);if(l.output==="html"){const w=co(a,d);p=Z.makeSpan(["katex"],[w])}else{const w=vs(a,o,d,l.displayMode,!1),b=co(a,d);p=Z.makeSpan(["katex"],[w,b])}return Da(p,l)},ku=function(a,o,l){const d=Tu(l),p=co(a,d),w=Z.makeSpan(["katex"],[p]);return Da(w,l)},Au={widehat:"^",widecheck:"ˇ",widetilde:"~",utilde:"~",overleftarrow:"←",underleftarrow:"←",xleftarrow:"←",overrightarrow:"→",underrightarrow:"→",xrightarrow:"→",underbrace:"⏟",overbrace:"⏞",overgroup:"⏠",undergroup:"⏡",overleftrightarrow:"↔",underleftrightarrow:"↔",xleftrightarrow:"↔",Overrightarrow:"⇒",xRightarrow:"⇒",overleftharpoon:"↼",xleftharpoonup:"↼",overrightharpoon:"⇀",xrightharpoonup:"⇀",xLeftarrow:"⇐",xLeftrightarrow:"⇔",xhookleftarrow:"↩",xhookrightarrow:"↪",xmapsto:"↦",xrightharpoondown:"⇁",xleftharpoondown:"↽",xrightleftharpoons:"⇌",xleftrightharpoons:"⇋",xtwoheadleftarrow:"↞",xtwoheadrightarrow:"↠",xlongequal:"=",xtofrom:"⇄",xrightleftarrows:"⇄",xrightequilibrium:"⇌",xleftequilibrium:"⇋","\\cdrightarrow":"→","\\cdleftarrow":"←","\\cdlongequal":"="},Oa=function(a){const o=new ae.MathNode("mo",[new ae.TextNode(Au[a.replace(/^\\/,"")])]);return o.setAttribute("stretchy","true"),o},La={overrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],overleftarrow:[["leftarrow"],.888,522,"xMinYMin"],underrightarrow:[["rightarrow"],.888,522,"xMaxYMin"],underleftarrow:[["leftarrow"],.888,522,"xMinYMin"],xrightarrow:[["rightarrow"],1.469,522,"xMaxYMin"],"\\cdrightarrow":[["rightarrow"],3,522,"xMaxYMin"],xleftarrow:[["leftarrow"],1.469,522,"xMinYMin"],"\\cdleftarrow":[["leftarrow"],3,522,"xMinYMin"],Overrightarrow:[["doublerightarrow"],.888,560,"xMaxYMin"],xRightarrow:[["doublerightarrow"],1.526,560,"xMaxYMin"],xLeftarrow:[["doubleleftarrow"],1.526,560,"xMinYMin"],overleftharpoon:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoonup:[["leftharpoon"],.888,522,"xMinYMin"],xleftharpoondown:[["leftharpoondown"],.888,522,"xMinYMin"],overrightharpoon:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoonup:[["rightharpoon"],.888,522,"xMaxYMin"],xrightharpoondown:[["rightharpoondown"],.888,522,"xMaxYMin"],xlongequal:[["longequal"],.888,334,"xMinYMin"],"\\cdlongequal":[["longequal"],3,334,"xMinYMin"],xtwoheadleftarrow:[["twoheadleftarrow"],.888,334,"xMinYMin"],xtwoheadrightarrow:[["twoheadrightarrow"],.888,334,"xMaxYMin"],overleftrightarrow:[["leftarrow","rightarrow"],.888,522],overbrace:[["leftbrace","midbrace","rightbrace"],1.6,548],underbrace:[["leftbraceunder","midbraceunder","rightbraceunder"],1.6,548],underleftrightarrow:[["leftarrow","rightarrow"],.888,522],xleftrightarrow:[["leftarrow","rightarrow"],1.75,522],xLeftrightarrow:[["doubleleftarrow","doublerightarrow"],1.75,560],xrightleftharpoons:[["leftharpoondownplus","rightharpoonplus"],1.75,716],xleftrightharpoons:[["leftharpoonplus","rightharpoondownplus"],1.75,716],xhookleftarrow:[["leftarrow","righthook"],1.08,522],xhookrightarrow:[["lefthook","rightarrow"],1.08,522],overlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],underlinesegment:[["leftlinesegment","rightlinesegment"],.888,522],overgroup:[["leftgroup","rightgroup"],.888,342],undergroup:[["leftgroupunder","rightgroupunder"],.888,342],xmapsto:[["leftmapsto","rightarrow"],1.5,522],xtofrom:[["leftToFrom","rightToFrom"],1.75,528],xrightleftarrows:[["baraboveleftarrow","rightarrowabovebar"],1.75,901],xrightequilibrium:[["baraboveshortleftharpoon","rightharpoonaboveshortbar"],1.75,716],xleftequilibrium:[["shortbaraboveleftharpoon","shortrightharpoonabovebar"],1.75,716]},Iu=function(a){return a.type==="ordgroup"?a.body.length:1};var Wn={encloseSpan:function(a,o,l,d,p){let w;const b=a.height+a.depth+l+d;if(/fbox|color|angl/.test(o)){if(w=Z.makeSpan(["stretchy",o],[],p),o==="fbox"){const T=p.color&&p.getColor();T&&(w.style.borderColor=T)}}else{const T=[];/^[bx]cancel$/.test(o)&&T.push(new Ur({x1:"0",y1:"0",x2:"100%",y2:"100%","stroke-width":"0.046em"})),/^x?cancel$/.test(o)&&T.push(new Ur({x1:"0",y1:"100%",x2:"100%",y2:"0","stroke-width":"0.046em"}));const R=new kn(T,{width:"100%",height:he(b)});w=Z.makeSvgSpan([],[R],p)}return w.height=b,w.style.height=he(b),w},mathMLnode:Oa,svgSpan:function(a,o){function l(){let b=4e5;const T=a.label.slice(1);if(P.contains(["widehat","widecheck","widetilde","utilde"],T)){const B=Iu(a.base);let G,Y,ee;if(B>5)T==="widehat"||T==="widecheck"?(G=420,b=2364,ee=.42,Y=T+"4"):(G=312,b=2340,ee=.34,Y="tilde4");else{const xe=[1,1,2,2,3,3][B];T==="widehat"||T==="widecheck"?(b=[0,1062,2364,2364,2364][xe],G=[0,239,300,360,420][xe],ee=[0,.24,.3,.3,.36,.42][xe],Y=T+xe):(b=[0,600,1033,2339,2340][xe],G=[0,260,286,306,312][xe],ee=[0,.26,.286,.3,.306,.34][xe],Y="tilde"+xe)}const ue=new or(Y),ye=new kn([ue],{width:"100%",height:he(ee),viewBox:"0 0 "+b+" "+G,preserveAspectRatio:"none"});return{span:Z.makeSvgSpan([],[ye],o),minWidth:0,height:ee}}else{const R=[],B=La[T],[G,Y,ee]=B,ue=ee/1e3,ye=G.length;let xe,Ve;if(ye===1){const Pe=B[3];xe=["hide-tail"],Ve=[Pe]}else if(ye===2)xe=["halfarrow-left","halfarrow-right"],Ve=["xMinYMin","xMaxYMin"];else if(ye===3)xe=["brace-left","brace-center","brace-right"],Ve=["xMinYMin","xMidYMin","xMaxYMin"];else throw new Error(`Correct katexImagesData or update code here to support
                    `+ye+" children.");for(let Pe=0;Pe<ye;Pe++){const je=new or(G[Pe]),He=new kn([je],{width:"400em",height:he(ue),viewBox:"0 0 "+b+" "+ee,preserveAspectRatio:Ve[Pe]+" slice"}),tt=Z.makeSvgSpan([xe[Pe]],[He],o);if(ye===1)return{span:tt,minWidth:Y,height:ue};tt.style.height=he(ue),R.push(tt)}return{span:Z.makeSpan(["stretchy"],R,o),minWidth:Y,height:ue}}}const{span:d,minWidth:p,height:w}=l();return d.height=w,d.style.height=he(w),p>0&&(d.style.minWidth=he(p)),d}};function ke(a,o){if(!a||a.type!==o)throw new Error("Expected node of type "+o+", but got "+(a?"node of type "+a.type:String(a)));return a}function fo(a){const o=xs(a);if(!o)throw new Error("Expected node of symbol group type, but got "+(a?"node of type "+a.type:String(a)));return o}function xs(a){return a&&(a.type==="atom"||us.hasOwnProperty(a.type))?a:null}const po=(a,o)=>{let l,d,p;a&&a.type==="supsub"?(d=ke(a.base,"accent"),l=d.base,a.base=l,p=Gt(ze(a,o)),a.base=d):(d=ke(a,"accent"),l=d.base);const w=ze(l,o.havingCrampedStyle()),b=d.isShifty&&P.isCharacterBox(l);let T=0;if(b){const ee=P.getBaseElem(l),ue=ze(ee,o.havingCrampedStyle());T=Aa(ue).skew}const R=d.label==="\\c";let B=R?w.height+w.depth:Math.min(w.height,o.fontMetrics().xHeight),G;if(d.isStretchy)G=Wn.svgSpan(d,o),G=Z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:w},{type:"elem",elem:G,wrapperClasses:["svg-align"],wrapperStyle:T>0?{width:"calc(100% - "+he(2*T)+")",marginLeft:he(2*T)}:void 0}]},o);else{let ee,ue;d.label==="\\vec"?(ee=Z.staticSvg("vec",o),ue=Z.svgData.vec[1]):(ee=Z.makeOrd({mode:d.mode,text:d.label},o,"textord"),ee=Aa(ee),ee.italic=0,ue=ee.width,R&&(B+=ee.depth)),G=Z.makeSpan(["accent-body"],[ee]);const ye=d.label==="\\textcircled";ye&&(G.classes.push("accent-full"),B=w.height);let xe=T;ye||(xe-=ue/2),G.style.left=he(xe),d.label==="\\textcircled"&&(G.style.top=".2em"),G=Z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:w},{type:"kern",size:-B},{type:"elem",elem:G}]},o)}const Y=Z.makeSpan(["mord","accent"],[G],o);return p?(p.children[0]=Y,p.height=Math.max(Y.height,p.height),p.classes[0]="mord",p):Y},Va=(a,o)=>{const l=a.isStretchy?Wn.mathMLnode(a.label):new ae.MathNode("mo",[wn(a.label,a.mode)]),d=new ae.MathNode("mover",[We(a.base,o),l]);return d.setAttribute("accent","true"),d},mo=new RegExp(["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring"].map(a=>"\\"+a).join("|"));pe({type:"accent",names:["\\acute","\\grave","\\ddot","\\tilde","\\bar","\\breve","\\check","\\hat","\\vec","\\dot","\\mathring","\\widecheck","\\widehat","\\widetilde","\\overrightarrow","\\overleftarrow","\\Overrightarrow","\\overleftrightarrow","\\overgroup","\\overlinesegment","\\overleftharpoon","\\overrightharpoon"],props:{numArgs:1},handler:(a,o)=>{const l=so(o[0]),d=!mo.test(a.funcName),p=!d||a.funcName==="\\widehat"||a.funcName==="\\widetilde"||a.funcName==="\\widecheck";return{type:"accent",mode:a.parser.mode,label:a.funcName,isStretchy:d,isShifty:p,base:l}},htmlBuilder:po,mathmlBuilder:Va}),pe({type:"accent",names:["\\'","\\`","\\^","\\~","\\=","\\u","\\.",'\\"',"\\c","\\r","\\H","\\v","\\textcircled"],props:{numArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["primitive"]},handler:(a,o)=>{const l=o[0];let d=a.parser.mode;return d==="math"&&(a.parser.settings.reportNonstrict("mathVsTextAccents","LaTeX's accent "+a.funcName+" works only in text mode"),d="text"),{type:"accent",mode:d,label:a.funcName,isStretchy:!1,isShifty:!0,base:l}},htmlBuilder:po,mathmlBuilder:Va}),pe({type:"accentUnder",names:["\\underleftarrow","\\underrightarrow","\\underleftrightarrow","\\undergroup","\\underlinesegment","\\utilde"],props:{numArgs:1},handler:(a,o)=>{let{parser:l,funcName:d}=a;const p=o[0];return{type:"accentUnder",mode:l.mode,label:d,base:p}},htmlBuilder:(a,o)=>{const l=ze(a.base,o),d=Wn.svgSpan(a,o),p=a.label==="\\utilde"?.12:0,w=Z.makeVList({positionType:"top",positionData:l.height,children:[{type:"elem",elem:d,wrapperClasses:["svg-align"]},{type:"kern",size:p},{type:"elem",elem:l}]},o);return Z.makeSpan(["mord","accentunder"],[w],o)},mathmlBuilder:(a,o)=>{const l=Wn.mathMLnode(a.label),d=new ae.MathNode("munder",[We(a.base,o),l]);return d.setAttribute("accentunder","true"),d}});const Ft=a=>{const o=new ae.MathNode("mpadded",a?[a]:[]);return o.setAttribute("width","+0.6em"),o.setAttribute("lspace","0.3em"),o};pe({type:"xArrow",names:["\\xleftarrow","\\xrightarrow","\\xLeftarrow","\\xRightarrow","\\xleftrightarrow","\\xLeftrightarrow","\\xhookleftarrow","\\xhookrightarrow","\\xmapsto","\\xrightharpoondown","\\xrightharpoonup","\\xleftharpoondown","\\xleftharpoonup","\\xrightleftharpoons","\\xleftrightharpoons","\\xlongequal","\\xtwoheadrightarrow","\\xtwoheadleftarrow","\\xtofrom","\\xrightleftarrows","\\xrightequilibrium","\\xleftequilibrium","\\\\cdrightarrow","\\\\cdleftarrow","\\\\cdlongequal"],props:{numArgs:1,numOptionalArgs:1},handler(a,o,l){let{parser:d,funcName:p}=a;return{type:"xArrow",mode:d.mode,label:p,body:o[0],below:l[0]}},htmlBuilder(a,o){const l=o.style;let d=o.havingStyle(l.sup());const p=Z.wrapFragment(ze(a.body,d,o),o),w=a.label.slice(0,2)==="\\x"?"x":"cd";p.classes.push(w+"-arrow-pad");let b;a.below&&(d=o.havingStyle(l.sub()),b=Z.wrapFragment(ze(a.below,d,o),o),b.classes.push(w+"-arrow-pad"));const T=Wn.svgSpan(a,o),R=-o.fontMetrics().axisHeight+.5*T.height;let B=-o.fontMetrics().axisHeight-.5*T.height-.111;(p.depth>.25||a.label==="\\xleftequilibrium")&&(B-=p.depth);let G;if(b){const Y=-o.fontMetrics().axisHeight+b.height+.5*T.height+.111;G=Z.makeVList({positionType:"individualShift",children:[{type:"elem",elem:p,shift:B},{type:"elem",elem:T,shift:R},{type:"elem",elem:b,shift:Y}]},o)}else G=Z.makeVList({positionType:"individualShift",children:[{type:"elem",elem:p,shift:B},{type:"elem",elem:T,shift:R}]},o);return G.children[0].children[0].children[1].classes.push("svg-align"),Z.makeSpan(["mrel","x-arrow"],[G],o)},mathmlBuilder(a,o){const l=Wn.mathMLnode(a.label);l.setAttribute("minsize",a.label.charAt(0)==="x"?"1.75em":"3.0em");let d;if(a.body){const p=Ft(We(a.body,o));if(a.below){const w=Ft(We(a.below,o));d=new ae.MathNode("munderover",[l,w,p])}else d=new ae.MathNode("mover",[l,p])}else if(a.below){const p=Ft(We(a.below,o));d=new ae.MathNode("munder",[l,p])}else d=Ft(),d=new ae.MathNode("mover",[l,d]);return d}});const Cu=Z.makeSpan;function ja(a,o){const l=vt(a.body,o,!0);return Cu([a.mclass],l,o)}function Kr(a,o){let l;const d=jt(a.body,o);return a.mclass==="minner"?l=new ae.MathNode("mpadded",d):a.mclass==="mord"?a.isCharacterBox?(l=d[0],l.type="mi"):l=new ae.MathNode("mi",d):(a.isCharacterBox?(l=d[0],l.type="mo"):l=new ae.MathNode("mo",d),a.mclass==="mbin"?(l.attributes.lspace="0.22em",l.attributes.rspace="0.22em"):a.mclass==="mpunct"?(l.attributes.lspace="0em",l.attributes.rspace="0.17em"):a.mclass==="mopen"||a.mclass==="mclose"?(l.attributes.lspace="0em",l.attributes.rspace="0em"):a.mclass==="minner"&&(l.attributes.lspace="0.0556em",l.attributes.width="+0.1111em")),l}pe({type:"mclass",names:["\\mathord","\\mathbin","\\mathrel","\\mathopen","\\mathclose","\\mathpunct","\\mathinner"],props:{numArgs:1,primitive:!0},handler(a,o){let{parser:l,funcName:d}=a;const p=o[0];return{type:"mclass",mode:l.mode,mclass:"m"+d.slice(5),body:ft(p),isCharacterBox:P.isCharacterBox(p)}},htmlBuilder:ja,mathmlBuilder:Kr});const c=a=>{const o=a.type==="ordgroup"&&a.body.length?a.body[0]:a;return o.type==="atom"&&(o.family==="bin"||o.family==="rel")?"m"+o.family:"mord"};pe({type:"mclass",names:["\\@binrel"],props:{numArgs:2},handler(a,o){let{parser:l}=a;return{type:"mclass",mode:l.mode,mclass:c(o[0]),body:ft(o[1]),isCharacterBox:P.isCharacterBox(o[1])}}}),pe({type:"mclass",names:["\\stackrel","\\overset","\\underset"],props:{numArgs:2},handler(a,o){let{parser:l,funcName:d}=a;const p=o[1],w=o[0];let b;d!=="\\stackrel"?b=c(p):b="mrel";const T={type:"op",mode:p.mode,limits:!0,alwaysHandleSupSub:!0,parentIsSupSub:!1,symbol:!1,suppressBaseShift:d!=="\\stackrel",body:ft(p)},R={type:"supsub",mode:w.mode,base:T,sup:d==="\\underset"?null:w,sub:d==="\\underset"?w:null};return{type:"mclass",mode:l.mode,mclass:b,body:[R],isCharacterBox:P.isCharacterBox(R)}},htmlBuilder:ja,mathmlBuilder:Kr}),pe({type:"pmb",names:["\\pmb"],props:{numArgs:1,allowedInText:!0},handler(a,o){let{parser:l}=a;return{type:"pmb",mode:l.mode,mclass:c(o[0]),body:ft(o[0])}},htmlBuilder(a,o){const l=vt(a.body,o,!0),d=Z.makeSpan([a.mclass],l,o);return d.style.textShadow="0.02em 0.01em 0.04px",d},mathmlBuilder(a,o){const l=jt(a.body,o),d=new ae.MathNode("mstyle",l);return d.setAttribute("style","text-shadow: 0.02em 0.01em 0.04px"),d}});const g={">":"\\\\cdrightarrow","<":"\\\\cdleftarrow","=":"\\\\cdlongequal",A:"\\uparrow",V:"\\downarrow","|":"\\Vert",".":"no arrow"},x=()=>({type:"styling",body:[],mode:"math",style:"display"}),N=a=>a.type==="textord"&&a.text==="@",J=(a,o)=>(a.type==="mathord"||a.type==="atom")&&a.text===o;function ne(a,o,l){const d=g[a];switch(d){case"\\\\cdrightarrow":case"\\\\cdleftarrow":return l.callFunction(d,[o[0]],[o[1]]);case"\\uparrow":case"\\downarrow":{const p=l.callFunction("\\\\cdleft",[o[0]],[]),w={type:"atom",text:d,mode:"math",family:"rel"},b=l.callFunction("\\Big",[w],[]),T=l.callFunction("\\\\cdright",[o[1]],[]),R={type:"ordgroup",mode:"math",body:[p,b,T]};return l.callFunction("\\\\cdparent",[R],[])}case"\\\\cdlongequal":return l.callFunction("\\\\cdlongequal",[],[]);case"\\Vert":{const p={type:"textord",text:"\\Vert",mode:"math"};return l.callFunction("\\Big",[p],[])}default:return{type:"textord",text:" ",mode:"math"}}}function fe(a){const o=[];for(a.gullet.beginGroup(),a.gullet.macros.set("\\cr","\\\\\\relax"),a.gullet.beginGroup();;){o.push(a.parseExpression(!1,"\\\\")),a.gullet.endGroup(),a.gullet.beginGroup();const w=a.fetch().text;if(w==="&"||w==="\\\\")a.consume();else if(w==="\\end"){o[o.length-1].length===0&&o.pop();break}else throw new s("Expected \\\\ or \\cr or \\end",a.nextToken)}let l=[];const d=[l];for(let w=0;w<o.length;w++){const b=o[w];let T=x();for(let R=0;R<b.length;R++)if(!N(b[R]))T.body.push(b[R]);else{l.push(T),R+=1;const B=fo(b[R]).text,G=new Array(2);if(G[0]={type:"ordgroup",mode:"math",body:[]},G[1]={type:"ordgroup",mode:"math",body:[]},!("=|.".indexOf(B)>-1))if("<>AV".indexOf(B)>-1)for(let ue=0;ue<2;ue++){let ye=!0;for(let xe=R+1;xe<b.length;xe++){if(J(b[xe],B)){ye=!1,R=xe;break}if(N(b[xe]))throw new s("Missing a "+B+" character to complete a CD arrow.",b[xe]);G[ue].body.push(b[xe])}if(ye)throw new s("Missing a "+B+" character to complete a CD arrow.",b[R])}else throw new s('Expected one of "<>AV=|." after @',b[R]);const ee={type:"styling",body:[ne(B,G,a)],mode:"math",style:"display"};l.push(ee),T=x()}w%2===0?l.push(T):l.shift(),l=[],d.push(l)}a.gullet.endGroup(),a.gullet.endGroup();const p=new Array(d[0].length).fill({type:"align",align:"c",pregap:.25,postgap:.25});return{type:"array",mode:"math",body:d,arraystretch:1,addJot:!0,rowGaps:[null],cols:p,colSeparationType:"CD",hLinesBeforeRow:new Array(d.length+1).fill([])}}pe({type:"cdlabel",names:["\\\\cdleft","\\\\cdright"],props:{numArgs:1},handler(a,o){let{parser:l,funcName:d}=a;return{type:"cdlabel",mode:l.mode,side:d.slice(4),label:o[0]}},htmlBuilder(a,o){const l=o.havingStyle(o.style.sup()),d=Z.wrapFragment(ze(a.label,l,o),o);return d.classes.push("cd-label-"+a.side),d.style.bottom=he(.8-d.depth),d.height=0,d.depth=0,d},mathmlBuilder(a,o){let l=new ae.MathNode("mrow",[We(a.label,o)]);return l=new ae.MathNode("mpadded",[l]),l.setAttribute("width","0"),a.side==="left"&&l.setAttribute("lspace","-1width"),l.setAttribute("voffset","0.7em"),l=new ae.MathNode("mstyle",[l]),l.setAttribute("displaystyle","false"),l.setAttribute("scriptlevel","1"),l}}),pe({type:"cdlabelparent",names:["\\\\cdparent"],props:{numArgs:1},handler(a,o){let{parser:l}=a;return{type:"cdlabelparent",mode:l.mode,fragment:o[0]}},htmlBuilder(a,o){const l=Z.wrapFragment(ze(a.fragment,o),o);return l.classes.push("cd-vert-arrow"),l},mathmlBuilder(a,o){return new ae.MathNode("mrow",[We(a.fragment,o)])}}),pe({type:"textord",names:["\\@char"],props:{numArgs:1,allowedInText:!0},handler(a,o){let{parser:l}=a;const p=ke(o[0],"ordgroup").body;let w="";for(let R=0;R<p.length;R++){const B=ke(p[R],"textord");w+=B.text}let b=parseInt(w),T;if(isNaN(b))throw new s("\\@char has non-numeric argument "+w);if(b<0||b>=1114111)throw new s("\\@char with invalid code point "+w);return b<=65535?T=String.fromCharCode(b):(b-=65536,T=String.fromCharCode((b>>10)+55296,(b&1023)+56320)),{type:"textord",mode:l.mode,text:T}}});const Ge=(a,o)=>{const l=vt(a.body,o.withColor(a.color),!1);return Z.makeFragment(l)},kt=(a,o)=>{const l=jt(a.body,o.withColor(a.color)),d=new ae.MathNode("mstyle",l);return d.setAttribute("mathcolor",a.color),d};pe({type:"color",names:["\\textcolor"],props:{numArgs:2,allowedInText:!0,argTypes:["color","original"]},handler(a,o){let{parser:l}=a;const d=ke(o[0],"color-token").color,p=o[1];return{type:"color",mode:l.mode,color:d,body:ft(p)}},htmlBuilder:Ge,mathmlBuilder:kt}),pe({type:"color",names:["\\color"],props:{numArgs:1,allowedInText:!0,argTypes:["color"]},handler(a,o){let{parser:l,breakOnTokenText:d}=a;const p=ke(o[0],"color-token").color;l.gullet.macros.set("\\current@color",p);const w=l.parseExpression(!0,d);return{type:"color",mode:l.mode,color:p,body:w}},htmlBuilder:Ge,mathmlBuilder:kt}),pe({type:"cr",names:["\\\\"],props:{numArgs:0,numOptionalArgs:0,allowedInText:!0},handler(a,o,l){let{parser:d}=a;const p=d.gullet.future().text==="["?d.parseSizeGroup(!0):null,w=!d.settings.displayMode||!d.settings.useStrictBehavior("newLineInDisplayMode","In LaTeX, \\\\ or \\newline does nothing in display mode");return{type:"cr",mode:d.mode,newLine:w,size:p&&ke(p,"size").value}},htmlBuilder(a,o){const l=Z.makeSpan(["mspace"],[],o);return a.newLine&&(l.classes.push("newline"),a.size&&(l.style.marginTop=he(et(a.size,o)))),l},mathmlBuilder(a,o){const l=new ae.MathNode("mspace");return a.newLine&&(l.setAttribute("linebreak","newline"),a.size&&l.setAttribute("height",he(et(a.size,o)))),l}});const Oe={"\\global":"\\global","\\long":"\\\\globallong","\\\\globallong":"\\\\globallong","\\def":"\\gdef","\\gdef":"\\gdef","\\edef":"\\xdef","\\xdef":"\\xdef","\\let":"\\\\globallet","\\futurelet":"\\\\globalfuture"},Rt=a=>{const o=a.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(o))throw new s("Expected a control sequence",a);return o},Bt=a=>{let o=a.gullet.popToken();return o.text==="="&&(o=a.gullet.popToken(),o.text===" "&&(o=a.gullet.popToken())),o},Qr=(a,o,l,d)=>{let p=a.gullet.macros.get(l.text);p==null&&(l.noexpand=!0,p={tokens:[l],numArgs:0,unexpandable:!a.gullet.isExpandable(l.text)}),a.gullet.macros.set(o,p,d)};pe({type:"internal",names:["\\global","\\long","\\\\globallong"],props:{numArgs:0,allowedInText:!0},handler(a){let{parser:o,funcName:l}=a;o.consumeSpaces();const d=o.fetch();if(Oe[d.text])return(l==="\\global"||l==="\\\\globallong")&&(d.text=Oe[d.text]),ke(o.parseFunction(),"internal");throw new s("Invalid token after macro prefix",d)}}),pe({type:"internal",names:["\\def","\\gdef","\\edef","\\xdef"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a){let{parser:o,funcName:l}=a,d=o.gullet.popToken();const p=d.text;if(/^(?:[\\{}$&#^_]|EOF)$/.test(p))throw new s("Expected a control sequence",d);let w=0,b;const T=[[]];for(;o.gullet.future().text!=="{";)if(d=o.gullet.popToken(),d.text==="#"){if(o.gullet.future().text==="{"){b=o.gullet.future(),T[w].push("{");break}if(d=o.gullet.popToken(),!/^[1-9]$/.test(d.text))throw new s('Invalid argument number "'+d.text+'"');if(parseInt(d.text)!==w+1)throw new s('Argument number "'+d.text+'" out of order');w++,T.push([])}else{if(d.text==="EOF")throw new s("Expected a macro definition");T[w].push(d.text)}let{tokens:R}=o.gullet.consumeArg();return b&&R.unshift(b),(l==="\\edef"||l==="\\xdef")&&(R=o.gullet.expandTokens(R),R.reverse()),o.gullet.macros.set(p,{tokens:R,numArgs:w,delimiters:T},l===Oe[l]),{type:"internal",mode:o.mode}}}),pe({type:"internal",names:["\\let","\\\\globallet"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a){let{parser:o,funcName:l}=a;const d=Rt(o.gullet.popToken());o.gullet.consumeSpaces();const p=Bt(o);return Qr(o,d,p,l==="\\\\globallet"),{type:"internal",mode:o.mode}}}),pe({type:"internal",names:["\\futurelet","\\\\globalfuture"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a){let{parser:o,funcName:l}=a;const d=Rt(o.gullet.popToken()),p=o.gullet.popToken(),w=o.gullet.popToken();return Qr(o,d,w,l==="\\\\globalfuture"),o.gullet.pushToken(w),o.gullet.pushToken(p),{type:"internal",mode:o.mode}}});const Xt=function(a,o,l){const d=it.math[a]&&it.math[a].replace,p=is(d||a,o,l);if(!p)throw new Error("Unsupported symbol "+a+" and font size "+o+".");return p},xi=function(a,o,l,d){const p=l.havingBaseStyle(o),w=Z.makeSpan(d.concat(p.sizingClasses(l)),[a],l),b=p.sizeMultiplier/l.sizeMultiplier;return w.height*=b,w.depth*=b,w.maxFontSize=p.sizeMultiplier,w},go=function(a,o,l){const d=o.havingBaseStyle(l),p=(1-o.sizeMultiplier/d.sizeMultiplier)*o.fontMetrics().axisHeight;a.classes.push("delimcenter"),a.style.top=he(p),a.height-=p,a.depth+=p},Wy=function(a,o,l,d,p,w){const b=Z.makeSymbol(a,"Main-Regular",p,d),T=xi(b,o,d,w);return l&&go(T,d,o),T},Gy=function(a,o,l,d){return Z.makeSymbol(a,"Size"+o+"-Regular",l,d)},gm=function(a,o,l,d,p,w){const b=Gy(a,o,p,d),T=xi(Z.makeSpan(["delimsizing","size"+o],[b],d),oe.TEXT,d,w);return l&&go(T,d,oe.TEXT),T},ad=function(a,o,l){let d;return o==="Size1-Regular"?d="delim-size1":d="delim-size4",{type:"elem",elem:Z.makeSpan(["delimsizinginner",d],[Z.makeSpan([],[Z.makeSymbol(a,o,l)])])}},ld=function(a,o,l){const d=Dn["Size4-Regular"][a.charCodeAt(0)]?Dn["Size4-Regular"][a.charCodeAt(0)][4]:Dn["Size1-Regular"][a.charCodeAt(0)][4],p=new or("inner",xa(a,Math.round(1e3*o))),w=new kn([p],{width:he(d),height:he(o),style:"width:"+he(d),viewBox:"0 0 "+1e3*d+" "+Math.round(1e3*o),preserveAspectRatio:"xMinYMin"}),b=Z.makeSvgSpan([],[w],l);return b.height=o,b.style.height=he(o),b.style.width=he(d),{type:"elem",elem:b}},ud=.008,Nu={type:"kern",size:-1*ud},Ky=["|","\\lvert","\\rvert","\\vert"],Qy=["\\|","\\lVert","\\rVert","\\Vert"],ym=function(a,o,l,d,p,w){let b,T,R,B,G="",Y=0;b=R=B=a,T=null;let ee="Size1-Regular";a==="\\uparrow"?R=B="⏐":a==="\\Uparrow"?R=B="‖":a==="\\downarrow"?b=R="⏐":a==="\\Downarrow"?b=R="‖":a==="\\updownarrow"?(b="\\uparrow",R="⏐",B="\\downarrow"):a==="\\Updownarrow"?(b="\\Uparrow",R="‖",B="\\Downarrow"):P.contains(Ky,a)?(R="∣",G="vert",Y=333):P.contains(Qy,a)?(R="∥",G="doublevert",Y=556):a==="["||a==="\\lbrack"?(b="⎡",R="⎢",B="⎣",ee="Size4-Regular",G="lbrack",Y=667):a==="]"||a==="\\rbrack"?(b="⎤",R="⎥",B="⎦",ee="Size4-Regular",G="rbrack",Y=667):a==="\\lfloor"||a==="⌊"?(R=b="⎢",B="⎣",ee="Size4-Regular",G="lfloor",Y=667):a==="\\lceil"||a==="⌈"?(b="⎡",R=B="⎢",ee="Size4-Regular",G="lceil",Y=667):a==="\\rfloor"||a==="⌋"?(R=b="⎥",B="⎦",ee="Size4-Regular",G="rfloor",Y=667):a==="\\rceil"||a==="⌉"?(b="⎤",R=B="⎥",ee="Size4-Regular",G="rceil",Y=667):a==="("||a==="\\lparen"?(b="⎛",R="⎜",B="⎝",ee="Size4-Regular",G="lparen",Y=875):a===")"||a==="\\rparen"?(b="⎞",R="⎟",B="⎠",ee="Size4-Regular",G="rparen",Y=875):a==="\\{"||a==="\\lbrace"?(b="⎧",T="⎨",B="⎩",R="⎪",ee="Size4-Regular"):a==="\\}"||a==="\\rbrace"?(b="⎫",T="⎬",B="⎭",R="⎪",ee="Size4-Regular"):a==="\\lgroup"||a==="⟮"?(b="⎧",B="⎩",R="⎪",ee="Size4-Regular"):a==="\\rgroup"||a==="⟯"?(b="⎫",B="⎭",R="⎪",ee="Size4-Regular"):a==="\\lmoustache"||a==="⎰"?(b="⎧",B="⎭",R="⎪",ee="Size4-Regular"):(a==="\\rmoustache"||a==="⎱")&&(b="⎫",B="⎩",R="⎪",ee="Size4-Regular");const ue=Xt(b,ee,p),ye=ue.height+ue.depth,xe=Xt(R,ee,p),Ve=xe.height+xe.depth,Pe=Xt(B,ee,p),je=Pe.height+Pe.depth;let He=0,tt=1;if(T!==null){const wt=Xt(T,ee,p);He=wt.height+wt.depth,tt=2}const xn=ye+je+He,Mt=Math.max(0,Math.ceil((o-xn)/(tt*Ve))),Kn=xn+Mt*tt*Ve;let vo=d.fontMetrics().axisHeight;l&&(vo*=d.sizeMultiplier);const Be=Kn/2-vo,Qe=[];if(G.length>0){const wt=Kn-ye-je,pt=Math.round(Kn*1e3),Qn=Zc(G,Math.round(wt*1e3)),b7=new or(G,Qn),a1=(Y/1e3).toFixed(3)+"em",l1=(pt/1e3).toFixed(3)+"em",_7=new kn([b7],{width:a1,height:l1,viewBox:"0 0 "+Y+" "+pt}),Ou=Z.makeSvgSpan([],[_7],d);Ou.height=pt/1e3,Ou.style.width=a1,Ou.style.height=l1,Qe.push({type:"elem",elem:Ou})}else{if(Qe.push(ad(B,ee,p)),Qe.push(Nu),T===null){const wt=Kn-ye-je+2*ud;Qe.push(ld(R,wt,d))}else{const wt=(Kn-ye-je-He)/2+2*ud;Qe.push(ld(R,wt,d)),Qe.push(Nu),Qe.push(ad(T,ee,p)),Qe.push(Nu),Qe.push(ld(R,wt,d))}Qe.push(Nu),Qe.push(ad(b,ee,p))}const ot=d.havingBaseStyle(oe.TEXT),ut=Z.makeVList({positionType:"bottom",positionData:Be,children:Qe},ot);return xi(Z.makeSpan(["delimsizing","mult"],[ut],ot),oe.TEXT,d,w)},cd=80,dd=.08,hd=function(a,o,l,d,p){const w=wa(a,d,l),b=new or(a,w),T=new kn([b],{width:"400em",height:he(o),viewBox:"0 0 400000 "+l,preserveAspectRatio:"xMinYMin slice"});return Z.makeSvgSpan(["hide-tail"],[T],p)},Xy=function(a,o){const l=o.havingBaseSizing(),d=bm("\\surd",a*l.sizeMultiplier,xm,l);let p=l.sizeMultiplier;const w=Math.max(0,o.minRuleThickness-o.fontMetrics().sqrtRuleThickness);let b,T=0,R=0,B=0,G;return d.type==="small"?(B=1e3+1e3*w+cd,a<1?p=1:a<1.4&&(p=.7),T=(1+w+dd)/p,R=(1+w)/p,b=hd("sqrtMain",T,B,w,o),b.style.minWidth="0.853em",G=.833/p):d.type==="large"?(B=(1e3+cd)*Fa[d.size],R=(Fa[d.size]+w)/p,T=(Fa[d.size]+w+dd)/p,b=hd("sqrtSize"+d.size,T,B,w,o),b.style.minWidth="1.02em",G=1/p):(T=a+w+dd,R=a+w,B=Math.floor(1e3*a+w)+cd,b=hd("sqrtTall",T,B,w,o),b.style.minWidth="0.742em",G=1.056),b.height=R,b.style.height=he(T),{span:b,advanceWidth:G,ruleWidth:(o.fontMetrics().sqrtRuleThickness+w)*p}},vm=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","\\surd"],Yy=["\\uparrow","\\downarrow","\\updownarrow","\\Uparrow","\\Downarrow","\\Updownarrow","|","\\|","\\vert","\\Vert","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱"],wm=["<",">","\\langle","\\rangle","/","\\backslash","\\lt","\\gt"],Fa=[0,1.2,1.8,2.4,3],Jy=function(a,o,l,d,p){if(a==="<"||a==="\\lt"||a==="⟨"?a="\\langle":(a===">"||a==="\\gt"||a==="⟩")&&(a="\\rangle"),P.contains(vm,a)||P.contains(wm,a))return gm(a,o,!1,l,d,p);if(P.contains(Yy,a))return ym(a,Fa[o],!1,l,d,p);throw new s("Illegal delimiter: '"+a+"'")},Zy=[{type:"small",style:oe.SCRIPTSCRIPT},{type:"small",style:oe.SCRIPT},{type:"small",style:oe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4}],e7=[{type:"small",style:oe.SCRIPTSCRIPT},{type:"small",style:oe.SCRIPT},{type:"small",style:oe.TEXT},{type:"stack"}],xm=[{type:"small",style:oe.SCRIPTSCRIPT},{type:"small",style:oe.SCRIPT},{type:"small",style:oe.TEXT},{type:"large",size:1},{type:"large",size:2},{type:"large",size:3},{type:"large",size:4},{type:"stack"}],t7=function(a){if(a.type==="small")return"Main-Regular";if(a.type==="large")return"Size"+a.size+"-Regular";if(a.type==="stack")return"Size4-Regular";throw new Error("Add support for delim type '"+a.type+"' here.")},bm=function(a,o,l,d){const p=Math.min(2,3-d.style.size);for(let w=p;w<l.length&&l[w].type!=="stack";w++){const b=Xt(a,t7(l[w]),"math");let T=b.height+b.depth;if(l[w].type==="small"){const R=d.havingBaseStyle(l[w].style);T*=R.sizeMultiplier}if(T>o)return l[w]}return l[l.length-1]},_m=function(a,o,l,d,p,w){a==="<"||a==="\\lt"||a==="⟨"?a="\\langle":(a===">"||a==="\\gt"||a==="⟩")&&(a="\\rangle");let b;P.contains(wm,a)?b=Zy:P.contains(vm,a)?b=xm:b=e7;const T=bm(a,o,b,d);return T.type==="small"?Wy(a,T.style,l,d,p,w):T.type==="large"?gm(a,T.size,l,d,p,w):ym(a,o,l,d,p,w)};var Xr={sqrtImage:Xy,sizedDelim:Jy,sizeToMaxHeight:Fa,customSizedDelim:_m,leftRightDelim:function(a,o,l,d,p,w){const b=d.fontMetrics().axisHeight*d.sizeMultiplier,T=901,R=5/d.fontMetrics().ptPerEm,B=Math.max(o-b,l+b),G=Math.max(B/500*T,2*B-R);return _m(a,G,!0,d,p,w)}};const Sm={"\\bigl":{mclass:"mopen",size:1},"\\Bigl":{mclass:"mopen",size:2},"\\biggl":{mclass:"mopen",size:3},"\\Biggl":{mclass:"mopen",size:4},"\\bigr":{mclass:"mclose",size:1},"\\Bigr":{mclass:"mclose",size:2},"\\biggr":{mclass:"mclose",size:3},"\\Biggr":{mclass:"mclose",size:4},"\\bigm":{mclass:"mrel",size:1},"\\Bigm":{mclass:"mrel",size:2},"\\biggm":{mclass:"mrel",size:3},"\\Biggm":{mclass:"mrel",size:4},"\\big":{mclass:"mord",size:1},"\\Big":{mclass:"mord",size:2},"\\bigg":{mclass:"mord",size:3},"\\Bigg":{mclass:"mord",size:4}},n7=["(","\\lparen",")","\\rparen","[","\\lbrack","]","\\rbrack","\\{","\\lbrace","\\}","\\rbrace","\\lfloor","\\rfloor","⌊","⌋","\\lceil","\\rceil","⌈","⌉","<",">","\\langle","⟨","\\rangle","⟩","\\lt","\\gt","\\lvert","\\rvert","\\lVert","\\rVert","\\lgroup","\\rgroup","⟮","⟯","\\lmoustache","\\rmoustache","⎰","⎱","/","\\backslash","|","\\vert","\\|","\\Vert","\\uparrow","\\Uparrow","\\downarrow","\\Downarrow","\\updownarrow","\\Updownarrow","."];function Pu(a,o){const l=xs(a);if(l&&P.contains(n7,l.text))return l;throw l?new s("Invalid delimiter '"+l.text+"' after '"+o.funcName+"'",a):new s("Invalid delimiter type '"+a.type+"'",a)}pe({type:"delimsizing",names:["\\bigl","\\Bigl","\\biggl","\\Biggl","\\bigr","\\Bigr","\\biggr","\\Biggr","\\bigm","\\Bigm","\\biggm","\\Biggm","\\big","\\Big","\\bigg","\\Bigg"],props:{numArgs:1,argTypes:["primitive"]},handler:(a,o)=>{const l=Pu(o[0],a);return{type:"delimsizing",mode:a.parser.mode,size:Sm[a.funcName].size,mclass:Sm[a.funcName].mclass,delim:l.text}},htmlBuilder:(a,o)=>a.delim==="."?Z.makeSpan([a.mclass]):Xr.sizedDelim(a.delim,a.size,o,a.mode,[a.mclass]),mathmlBuilder:a=>{const o=[];a.delim!=="."&&o.push(wn(a.delim,a.mode));const l=new ae.MathNode("mo",o);a.mclass==="mopen"||a.mclass==="mclose"?l.setAttribute("fence","true"):l.setAttribute("fence","false"),l.setAttribute("stretchy","true");const d=he(Xr.sizeToMaxHeight[a.size]);return l.setAttribute("minsize",d),l.setAttribute("maxsize",d),l}});function Em(a){if(!a.body)throw new Error("Bug: The leftright ParseNode wasn't fully parsed.")}pe({type:"leftright-right",names:["\\right"],props:{numArgs:1,primitive:!0},handler:(a,o)=>{const l=a.parser.gullet.macros.get("\\current@color");if(l&&typeof l!="string")throw new s("\\current@color set to non-string in \\right");return{type:"leftright-right",mode:a.parser.mode,delim:Pu(o[0],a).text,color:l}}}),pe({type:"leftright",names:["\\left"],props:{numArgs:1,primitive:!0},handler:(a,o)=>{const l=Pu(o[0],a),d=a.parser;++d.leftrightDepth;const p=d.parseExpression(!1);--d.leftrightDepth,d.expect("\\right",!1);const w=ke(d.parseFunction(),"leftright-right");return{type:"leftright",mode:d.mode,body:p,left:l.text,right:w.delim,rightColor:w.color}},htmlBuilder:(a,o)=>{Em(a);const l=vt(a.body,o,!0,["mopen","mclose"]);let d=0,p=0,w=!1;for(let R=0;R<l.length;R++)l[R].isMiddle?w=!0:(d=Math.max(l[R].height,d),p=Math.max(l[R].depth,p));d*=o.sizeMultiplier,p*=o.sizeMultiplier;let b;if(a.left==="."?b=Ye(o,["mopen"]):b=Xr.leftRightDelim(a.left,d,p,o,a.mode,["mopen"]),l.unshift(b),w)for(let R=1;R<l.length;R++){const G=l[R].isMiddle;G&&(l[R]=Xr.leftRightDelim(G.delim,d,p,G.options,a.mode,[]))}let T;if(a.right===".")T=Ye(o,["mclose"]);else{const R=a.rightColor?o.withColor(a.rightColor):o;T=Xr.leftRightDelim(a.right,d,p,R,a.mode,["mclose"])}return l.push(T),Z.makeSpan(["minner"],l,o)},mathmlBuilder:(a,o)=>{Em(a);const l=jt(a.body,o);if(a.left!=="."){const d=new ae.MathNode("mo",[wn(a.left,a.mode)]);d.setAttribute("fence","true"),l.unshift(d)}if(a.right!=="."){const d=new ae.MathNode("mo",[wn(a.right,a.mode)]);d.setAttribute("fence","true"),a.rightColor&&d.setAttribute("mathcolor",a.rightColor),l.push(d)}return Ma(l)}}),pe({type:"middle",names:["\\middle"],props:{numArgs:1,primitive:!0},handler:(a,o)=>{const l=Pu(o[0],a);if(!a.parser.leftrightDepth)throw new s("\\middle without preceding \\left",l);return{type:"middle",mode:a.parser.mode,delim:l.text}},htmlBuilder:(a,o)=>{let l;if(a.delim===".")l=Ye(o,[]);else{l=Xr.sizedDelim(a.delim,1,o,a.mode,[]);const d={delim:a.delim,options:o};l.isMiddle=d}return l},mathmlBuilder:(a,o)=>{const l=a.delim==="\\vert"||a.delim==="|"?wn("|","text"):wn(a.delim,a.mode),d=new ae.MathNode("mo",[l]);return d.setAttribute("fence","true"),d.setAttribute("lspace","0.05em"),d.setAttribute("rspace","0.05em"),d}});const fd=(a,o)=>{const l=Z.wrapFragment(ze(a.body,o),o),d=a.label.slice(1);let p=o.sizeMultiplier,w,b=0;const T=P.isCharacterBox(a.body);if(d==="sout")w=Z.makeSpan(["stretchy","sout"]),w.height=o.fontMetrics().defaultRuleThickness/p,b=-.5*o.fontMetrics().xHeight;else if(d==="phase"){const B=et({number:.6,unit:"pt"},o),G=et({number:.35,unit:"ex"},o),Y=o.havingBaseSizing();p=p/Y.sizeMultiplier;const ee=l.height+l.depth+B+G;l.style.paddingLeft=he(ee/2+B);const ue=Math.floor(1e3*ee*p),ye=ya(ue),xe=new kn([new or("phase",ye)],{width:"400em",height:he(ue/1e3),viewBox:"0 0 400000 "+ue,preserveAspectRatio:"xMinYMin slice"});w=Z.makeSvgSpan(["hide-tail"],[xe],o),w.style.height=he(ee),b=l.depth+B+G}else{/cancel/.test(d)?T||l.classes.push("cancel-pad"):d==="angl"?l.classes.push("anglpad"):l.classes.push("boxpad");let B=0,G=0,Y=0;/box/.test(d)?(Y=Math.max(o.fontMetrics().fboxrule,o.minRuleThickness),B=o.fontMetrics().fboxsep+(d==="colorbox"?0:Y),G=B):d==="angl"?(Y=Math.max(o.fontMetrics().defaultRuleThickness,o.minRuleThickness),B=4*Y,G=Math.max(0,.25-l.depth)):(B=T?.2:0,G=B),w=Wn.encloseSpan(l,d,B,G,o),/fbox|boxed|fcolorbox/.test(d)?(w.style.borderStyle="solid",w.style.borderWidth=he(Y)):d==="angl"&&Y!==.049&&(w.style.borderTopWidth=he(Y),w.style.borderRightWidth=he(Y)),b=l.depth+G,a.backgroundColor&&(w.style.backgroundColor=a.backgroundColor,a.borderColor&&(w.style.borderColor=a.borderColor))}let R;if(a.backgroundColor)R=Z.makeVList({positionType:"individualShift",children:[{type:"elem",elem:w,shift:b},{type:"elem",elem:l,shift:0}]},o);else{const B=/cancel|phase/.test(d)?["svg-align"]:[];R=Z.makeVList({positionType:"individualShift",children:[{type:"elem",elem:l,shift:0},{type:"elem",elem:w,shift:b,wrapperClasses:B}]},o)}return/cancel/.test(d)&&(R.height=l.height,R.depth=l.depth),/cancel/.test(d)&&!T?Z.makeSpan(["mord","cancel-lap"],[R],o):Z.makeSpan(["mord"],[R],o)},pd=(a,o)=>{let l=0;const d=new ae.MathNode(a.label.indexOf("colorbox")>-1?"mpadded":"menclose",[We(a.body,o)]);switch(a.label){case"\\cancel":d.setAttribute("notation","updiagonalstrike");break;case"\\bcancel":d.setAttribute("notation","downdiagonalstrike");break;case"\\phase":d.setAttribute("notation","phasorangle");break;case"\\sout":d.setAttribute("notation","horizontalstrike");break;case"\\fbox":d.setAttribute("notation","box");break;case"\\angl":d.setAttribute("notation","actuarial");break;case"\\fcolorbox":case"\\colorbox":if(l=o.fontMetrics().fboxsep*o.fontMetrics().ptPerEm,d.setAttribute("width","+"+2*l+"pt"),d.setAttribute("height","+"+2*l+"pt"),d.setAttribute("lspace",l+"pt"),d.setAttribute("voffset",l+"pt"),a.label==="\\fcolorbox"){const p=Math.max(o.fontMetrics().fboxrule,o.minRuleThickness);d.setAttribute("style","border: "+p+"em solid "+String(a.borderColor))}break;case"\\xcancel":d.setAttribute("notation","updiagonalstrike downdiagonalstrike");break}return a.backgroundColor&&d.setAttribute("mathbackground",a.backgroundColor),d};pe({type:"enclose",names:["\\colorbox"],props:{numArgs:2,allowedInText:!0,argTypes:["color","text"]},handler(a,o,l){let{parser:d,funcName:p}=a;const w=ke(o[0],"color-token").color,b=o[1];return{type:"enclose",mode:d.mode,label:p,backgroundColor:w,body:b}},htmlBuilder:fd,mathmlBuilder:pd}),pe({type:"enclose",names:["\\fcolorbox"],props:{numArgs:3,allowedInText:!0,argTypes:["color","color","text"]},handler(a,o,l){let{parser:d,funcName:p}=a;const w=ke(o[0],"color-token").color,b=ke(o[1],"color-token").color,T=o[2];return{type:"enclose",mode:d.mode,label:p,backgroundColor:b,borderColor:w,body:T}},htmlBuilder:fd,mathmlBuilder:pd}),pe({type:"enclose",names:["\\fbox"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!0},handler(a,o){let{parser:l}=a;return{type:"enclose",mode:l.mode,label:"\\fbox",body:o[0]}}}),pe({type:"enclose",names:["\\cancel","\\bcancel","\\xcancel","\\sout","\\phase"],props:{numArgs:1},handler(a,o){let{parser:l,funcName:d}=a;const p=o[0];return{type:"enclose",mode:l.mode,label:d,body:p}},htmlBuilder:fd,mathmlBuilder:pd}),pe({type:"enclose",names:["\\angl"],props:{numArgs:1,argTypes:["hbox"],allowedInText:!1},handler(a,o){let{parser:l}=a;return{type:"enclose",mode:l.mode,label:"\\angl",body:o[0]}}});const Tm={};function kr(a){let{type:o,names:l,props:d,handler:p,htmlBuilder:w,mathmlBuilder:b}=a;const T={type:o,numArgs:d.numArgs||0,allowedInText:!1,numOptionalArgs:0,handler:p};for(let R=0;R<l.length;++R)Tm[l[R]]=T;w&&(ms[o]=w),b&&(gs[o]=b)}const km={};function A(a,o){km[a]=o}class Ln{constructor(o,l,d){this.lexer=void 0,this.start=void 0,this.end=void 0,this.lexer=o,this.start=l,this.end=d}static range(o,l){return l?!o||!o.loc||!l.loc||o.loc.lexer!==l.loc.lexer?null:new Ln(o.loc.lexer,o.loc.start,l.loc.end):o&&o.loc}}class Gn{constructor(o,l){this.text=void 0,this.loc=void 0,this.noexpand=void 0,this.treatAsRelax=void 0,this.text=o,this.loc=l}range(o,l){return new Gn(l,Ln.range(this,o))}}function Am(a){const o=[];a.consumeSpaces();let l=a.fetch().text;for(l==="\\relax"&&(a.consume(),a.consumeSpaces(),l=a.fetch().text);l==="\\hline"||l==="\\hdashline";)a.consume(),o.push(l==="\\hdashline"),a.consumeSpaces(),l=a.fetch().text;return o}const Ru=a=>{if(!a.parser.settings.displayMode)throw new s("{"+a.envName+"} can be used only in display mode.")};function md(a){if(a.indexOf("ed")===-1)return a.indexOf("*")===-1}function bi(a,o,l){let{hskipBeforeAndAfter:d,addJot:p,cols:w,arraystretch:b,colSeparationType:T,autoTag:R,singleRow:B,emptySingleRow:G,maxNumCols:Y,leqno:ee}=o;if(a.gullet.beginGroup(),B||a.gullet.macros.set("\\cr","\\\\\\relax"),!b){const tt=a.gullet.expandMacroAsText("\\arraystretch");if(tt==null)b=1;else if(b=parseFloat(tt),!b||b<0)throw new s("Invalid \\arraystretch: "+tt)}a.gullet.beginGroup();let ue=[];const ye=[ue],xe=[],Ve=[],Pe=R!=null?[]:void 0;function je(){R&&a.gullet.macros.set("\\@eqnsw","1",!0)}function He(){Pe&&(a.gullet.macros.get("\\df@tag")?(Pe.push(a.subparse([new Gn("\\df@tag")])),a.gullet.macros.set("\\df@tag",void 0,!0)):Pe.push(!!R&&a.gullet.macros.get("\\@eqnsw")==="1"))}for(je(),Ve.push(Am(a));;){let tt=a.parseExpression(!1,B?"\\end":"\\\\");a.gullet.endGroup(),a.gullet.beginGroup(),tt={type:"ordgroup",mode:a.mode,body:tt},l&&(tt={type:"styling",mode:a.mode,style:l,body:[tt]}),ue.push(tt);const xn=a.fetch().text;if(xn==="&"){if(Y&&ue.length===Y){if(B||T)throw new s("Too many tab characters: &",a.nextToken);a.settings.reportNonstrict("textEnv","Too few columns specified in the {array} column argument.")}a.consume()}else if(xn==="\\end"){He(),ue.length===1&&tt.type==="styling"&&tt.body[0].body.length===0&&(ye.length>1||!G)&&ye.pop(),Ve.length<ye.length+1&&Ve.push([]);break}else if(xn==="\\\\"){a.consume();let Mt;a.gullet.future().text!==" "&&(Mt=a.parseSizeGroup(!0)),xe.push(Mt?Mt.value:null),He(),Ve.push(Am(a)),ue=[],ye.push(ue),je()}else throw new s("Expected & or \\\\ or \\cr or \\end",a.nextToken)}return a.gullet.endGroup(),a.gullet.endGroup(),{type:"array",mode:a.mode,addJot:p,arraystretch:b,body:ye,cols:w,rowGaps:xe,hskipBeforeAndAfter:d,hLinesBeforeRow:Ve,colSeparationType:T,tags:Pe,leqno:ee}}function gd(a){return a.slice(0,1)==="d"?"display":"text"}const Ar=function(a,o){let l,d;const p=a.body.length,w=a.hLinesBeforeRow;let b=0,T=new Array(p);const R=[],B=Math.max(o.fontMetrics().arrayRuleWidth,o.minRuleThickness),G=1/o.fontMetrics().ptPerEm;let Y=5*G;a.colSeparationType&&a.colSeparationType==="small"&&(Y=.2778*(o.havingStyle(oe.SCRIPT).sizeMultiplier/o.sizeMultiplier));const ee=a.colSeparationType==="CD"?et({number:3,unit:"ex"},o):12*G,ue=3*G,ye=a.arraystretch*ee,xe=.7*ye,Ve=.3*ye;let Pe=0;function je(Be){for(let Qe=0;Qe<Be.length;++Qe)Qe>0&&(Pe+=.25),R.push({pos:Pe,isDashed:Be[Qe]})}for(je(w[0]),l=0;l<a.body.length;++l){const Be=a.body[l];let Qe=xe,ot=Ve;b<Be.length&&(b=Be.length);const ut=new Array(Be.length);for(d=0;d<Be.length;++d){const Qn=ze(Be[d],o);ot<Qn.depth&&(ot=Qn.depth),Qe<Qn.height&&(Qe=Qn.height),ut[d]=Qn}const wt=a.rowGaps[l];let pt=0;wt&&(pt=et(wt,o),pt>0&&(pt+=Ve,ot<pt&&(ot=pt),pt=0)),a.addJot&&(ot+=ue),ut.height=Qe,ut.depth=ot,Pe+=Qe,ut.pos=Pe,Pe+=ot+pt,T[l]=ut,je(w[l+1])}const He=Pe/2+o.fontMetrics().axisHeight,tt=a.cols||[],xn=[];let Mt,Kn;const vo=[];if(a.tags&&a.tags.some(Be=>Be))for(l=0;l<p;++l){const Be=T[l],Qe=Be.pos-He,ot=a.tags[l];let ut;ot===!0?ut=Z.makeSpan(["eqn-num"],[],o):ot===!1?ut=Z.makeSpan([],[],o):ut=Z.makeSpan([],vt(ot,o,!0),o),ut.depth=Be.depth,ut.height=Be.height,vo.push({type:"elem",elem:ut,shift:Qe})}for(d=0,Kn=0;d<b||Kn<tt.length;++d,++Kn){let Be=tt[Kn]||{},Qe=!0;for(;Be.type==="separator";){if(Qe||(Mt=Z.makeSpan(["arraycolsep"],[]),Mt.style.width=he(o.fontMetrics().doubleRuleSep),xn.push(Mt)),Be.separator==="|"||Be.separator===":"){const wt=Be.separator==="|"?"solid":"dashed",pt=Z.makeSpan(["vertical-separator"],[],o);pt.style.height=he(Pe),pt.style.borderRightWidth=he(B),pt.style.borderRightStyle=wt,pt.style.margin="0 "+he(-B/2);const Qn=Pe-He;Qn&&(pt.style.verticalAlign=he(-Qn)),xn.push(pt)}else throw new s("Invalid separator type: "+Be.separator);Kn++,Be=tt[Kn]||{},Qe=!1}if(d>=b)continue;let ot;(d>0||a.hskipBeforeAndAfter)&&(ot=P.deflt(Be.pregap,Y),ot!==0&&(Mt=Z.makeSpan(["arraycolsep"],[]),Mt.style.width=he(ot),xn.push(Mt)));let ut=[];for(l=0;l<p;++l){const wt=T[l],pt=wt[d];if(!pt)continue;const Qn=wt.pos-He;pt.depth=wt.depth,pt.height=wt.height,ut.push({type:"elem",elem:pt,shift:Qn})}ut=Z.makeVList({positionType:"individualShift",children:ut},o),ut=Z.makeSpan(["col-align-"+(Be.align||"c")],[ut]),xn.push(ut),(d<b-1||a.hskipBeforeAndAfter)&&(ot=P.deflt(Be.postgap,Y),ot!==0&&(Mt=Z.makeSpan(["arraycolsep"],[]),Mt.style.width=he(ot),xn.push(Mt)))}if(T=Z.makeSpan(["mtable"],xn),R.length>0){const Be=Z.makeLineSpan("hline",o,B),Qe=Z.makeLineSpan("hdashline",o,B),ot=[{type:"elem",elem:T,shift:0}];for(;R.length>0;){const ut=R.pop(),wt=ut.pos-He;ut.isDashed?ot.push({type:"elem",elem:Qe,shift:wt}):ot.push({type:"elem",elem:Be,shift:wt})}T=Z.makeVList({positionType:"individualShift",children:ot},o)}if(vo.length===0)return Z.makeSpan(["mord"],[T],o);{let Be=Z.makeVList({positionType:"individualShift",children:vo},o);return Be=Z.makeSpan(["tag"],[Be],o),Z.makeFragment([T,Be])}},r7={c:"center ",l:"left ",r:"right "},Ir=function(a,o){const l=[],d=new ae.MathNode("mtd",[],["mtr-glue"]),p=new ae.MathNode("mtd",[],["mml-eqn-num"]);for(let Y=0;Y<a.body.length;Y++){const ee=a.body[Y],ue=[];for(let ye=0;ye<ee.length;ye++)ue.push(new ae.MathNode("mtd",[We(ee[ye],o)]));a.tags&&a.tags[Y]&&(ue.unshift(d),ue.push(d),a.leqno?ue.unshift(p):ue.push(p)),l.push(new ae.MathNode("mtr",ue))}let w=new ae.MathNode("mtable",l);const b=a.arraystretch===.5?.1:.16+a.arraystretch-1+(a.addJot?.09:0);w.setAttribute("rowspacing",he(b));let T="",R="";if(a.cols&&a.cols.length>0){const Y=a.cols;let ee="",ue=!1,ye=0,xe=Y.length;Y[0].type==="separator"&&(T+="top ",ye=1),Y[Y.length-1].type==="separator"&&(T+="bottom ",xe-=1);for(let Ve=ye;Ve<xe;Ve++)Y[Ve].type==="align"?(R+=r7[Y[Ve].align],ue&&(ee+="none "),ue=!0):Y[Ve].type==="separator"&&ue&&(ee+=Y[Ve].separator==="|"?"solid ":"dashed ",ue=!1);w.setAttribute("columnalign",R.trim()),/[sd]/.test(ee)&&w.setAttribute("columnlines",ee.trim())}if(a.colSeparationType==="align"){const Y=a.cols||[];let ee="";for(let ue=1;ue<Y.length;ue++)ee+=ue%2?"0em ":"1em ";w.setAttribute("columnspacing",ee.trim())}else a.colSeparationType==="alignat"||a.colSeparationType==="gather"?w.setAttribute("columnspacing","0em"):a.colSeparationType==="small"?w.setAttribute("columnspacing","0.2778em"):a.colSeparationType==="CD"?w.setAttribute("columnspacing","0.5em"):w.setAttribute("columnspacing","1em");let B="";const G=a.hLinesBeforeRow;T+=G[0].length>0?"left ":"",T+=G[G.length-1].length>0?"right ":"";for(let Y=1;Y<G.length-1;Y++)B+=G[Y].length===0?"none ":G[Y][0]?"dashed ":"solid ";return/[sd]/.test(B)&&w.setAttribute("rowlines",B.trim()),T!==""&&(w=new ae.MathNode("menclose",[w]),w.setAttribute("notation",T.trim())),a.arraystretch&&a.arraystretch<1&&(w=new ae.MathNode("mstyle",[w]),w.setAttribute("scriptlevel","1")),w},Im=function(a,o){a.envName.indexOf("ed")===-1&&Ru(a);const l=[],d=a.envName.indexOf("at")>-1?"alignat":"align",p=a.envName==="split",w=bi(a.parser,{cols:l,addJot:!0,autoTag:p?void 0:md(a.envName),emptySingleRow:!0,colSeparationType:d,maxNumCols:p?2:void 0,leqno:a.parser.settings.leqno},"display");let b,T=0;const R={type:"ordgroup",mode:a.mode,body:[]};if(o[0]&&o[0].type==="ordgroup"){let G="";for(let Y=0;Y<o[0].body.length;Y++){const ee=ke(o[0].body[Y],"textord");G+=ee.text}b=Number(G),T=b*2}const B=!T;w.body.forEach(function(G){for(let Y=1;Y<G.length;Y+=2){const ee=ke(G[Y],"styling");ke(ee.body[0],"ordgroup").body.unshift(R)}if(B)T<G.length&&(T=G.length);else{const Y=G.length/2;if(b<Y)throw new s("Too many math in a row: "+("expected "+b+", but got "+Y),G[0])}});for(let G=0;G<T;++G){let Y="r",ee=0;G%2===1?Y="l":G>0&&B&&(ee=1),l[G]={type:"align",align:Y,pregap:ee,postgap:0}}return w.colSeparationType=B?"align":"alignat",w};kr({type:"array",names:["array","darray"],props:{numArgs:1},handler(a,o){const p=(xs(o[0])?[o[0]]:ke(o[0],"ordgroup").body).map(function(b){const R=fo(b).text;if("lcr".indexOf(R)!==-1)return{type:"align",align:R};if(R==="|")return{type:"separator",separator:"|"};if(R===":")return{type:"separator",separator:":"};throw new s("Unknown column alignment: "+R,b)}),w={cols:p,hskipBeforeAndAfter:!0,maxNumCols:p.length};return bi(a.parser,w,gd(a.envName))},htmlBuilder:Ar,mathmlBuilder:Ir}),kr({type:"array",names:["matrix","pmatrix","bmatrix","Bmatrix","vmatrix","Vmatrix","matrix*","pmatrix*","bmatrix*","Bmatrix*","vmatrix*","Vmatrix*"],props:{numArgs:0},handler(a){const o={matrix:null,pmatrix:["(",")"],bmatrix:["[","]"],Bmatrix:["\\{","\\}"],vmatrix:["|","|"],Vmatrix:["\\Vert","\\Vert"]}[a.envName.replace("*","")];let l="c";const d={hskipBeforeAndAfter:!1,cols:[{type:"align",align:l}]};if(a.envName.charAt(a.envName.length-1)==="*"){const b=a.parser;if(b.consumeSpaces(),b.fetch().text==="["){if(b.consume(),b.consumeSpaces(),l=b.fetch().text,"lcr".indexOf(l)===-1)throw new s("Expected l or c or r",b.nextToken);b.consume(),b.consumeSpaces(),b.expect("]"),b.consume(),d.cols=[{type:"align",align:l}]}}const p=bi(a.parser,d,gd(a.envName)),w=Math.max(0,...p.body.map(b=>b.length));return p.cols=new Array(w).fill({type:"align",align:l}),o?{type:"leftright",mode:a.mode,body:[p],left:o[0],right:o[1],rightColor:void 0}:p},htmlBuilder:Ar,mathmlBuilder:Ir}),kr({type:"array",names:["smallmatrix"],props:{numArgs:0},handler(a){const o={arraystretch:.5},l=bi(a.parser,o,"script");return l.colSeparationType="small",l},htmlBuilder:Ar,mathmlBuilder:Ir}),kr({type:"array",names:["subarray"],props:{numArgs:1},handler(a,o){const p=(xs(o[0])?[o[0]]:ke(o[0],"ordgroup").body).map(function(b){const R=fo(b).text;if("lc".indexOf(R)!==-1)return{type:"align",align:R};throw new s("Unknown column alignment: "+R,b)});if(p.length>1)throw new s("{subarray} can contain only one column");let w={cols:p,hskipBeforeAndAfter:!1,arraystretch:.5};if(w=bi(a.parser,w,"script"),w.body.length>0&&w.body[0].length>1)throw new s("{subarray} can contain only one column");return w},htmlBuilder:Ar,mathmlBuilder:Ir}),kr({type:"array",names:["cases","dcases","rcases","drcases"],props:{numArgs:0},handler(a){const o={arraystretch:1.2,cols:[{type:"align",align:"l",pregap:0,postgap:1},{type:"align",align:"l",pregap:0,postgap:0}]},l=bi(a.parser,o,gd(a.envName));return{type:"leftright",mode:a.mode,body:[l],left:a.envName.indexOf("r")>-1?".":"\\{",right:a.envName.indexOf("r")>-1?"\\}":".",rightColor:void 0}},htmlBuilder:Ar,mathmlBuilder:Ir}),kr({type:"array",names:["align","align*","aligned","split"],props:{numArgs:0},handler:Im,htmlBuilder:Ar,mathmlBuilder:Ir}),kr({type:"array",names:["gathered","gather","gather*"],props:{numArgs:0},handler(a){P.contains(["gather","gather*"],a.envName)&&Ru(a);const o={cols:[{type:"align",align:"c"}],addJot:!0,colSeparationType:"gather",autoTag:md(a.envName),emptySingleRow:!0,leqno:a.parser.settings.leqno};return bi(a.parser,o,"display")},htmlBuilder:Ar,mathmlBuilder:Ir}),kr({type:"array",names:["alignat","alignat*","alignedat"],props:{numArgs:1},handler:Im,htmlBuilder:Ar,mathmlBuilder:Ir}),kr({type:"array",names:["equation","equation*"],props:{numArgs:0},handler(a){Ru(a);const o={autoTag:md(a.envName),emptySingleRow:!0,singleRow:!0,maxNumCols:1,leqno:a.parser.settings.leqno};return bi(a.parser,o,"display")},htmlBuilder:Ar,mathmlBuilder:Ir}),kr({type:"array",names:["CD"],props:{numArgs:0},handler(a){return Ru(a),fe(a.parser)},htmlBuilder:Ar,mathmlBuilder:Ir}),A("\\nonumber","\\gdef\\@eqnsw{0}"),A("\\notag","\\nonumber"),pe({type:"text",names:["\\hline","\\hdashline"],props:{numArgs:0,allowedInText:!0,allowedInMath:!0},handler(a,o){throw new s(a.funcName+" valid only within array environment")}});var Cm=Tm;pe({type:"environment",names:["\\begin","\\end"],props:{numArgs:1,argTypes:["text"]},handler(a,o){let{parser:l,funcName:d}=a;const p=o[0];if(p.type!=="ordgroup")throw new s("Invalid environment name",p);let w="";for(let b=0;b<p.body.length;++b)w+=ke(p.body[b],"textord").text;if(d==="\\begin"){if(!Cm.hasOwnProperty(w))throw new s("No such environment: "+w,p);const b=Cm[w],{args:T,optArgs:R}=l.parseArguments("\\begin{"+w+"}",b),B={mode:l.mode,envName:w,parser:l},G=b.handler(B,T,R);l.expect("\\end",!1);const Y=l.nextToken,ee=ke(l.parseFunction(),"environment");if(ee.name!==w)throw new s("Mismatch: \\begin{"+w+"} matched by \\end{"+ee.name+"}",Y);return G}return{type:"environment",mode:l.mode,name:w,nameGroup:p}}});const Nm=(a,o)=>{const l=a.font,d=o.withFont(l);return ze(a.body,d)},Pm=(a,o)=>{const l=a.font,d=o.withFont(l);return We(a.body,d)},Rm={"\\Bbb":"\\mathbb","\\bold":"\\mathbf","\\frak":"\\mathfrak","\\bm":"\\boldsymbol"};pe({type:"font",names:["\\mathrm","\\mathit","\\mathbf","\\mathnormal","\\mathsfit","\\mathbb","\\mathcal","\\mathfrak","\\mathscr","\\mathsf","\\mathtt","\\Bbb","\\bold","\\frak"],props:{numArgs:1,allowedInArgument:!0},handler:(a,o)=>{let{parser:l,funcName:d}=a;const p=so(o[0]);let w=d;return w in Rm&&(w=Rm[w]),{type:"font",mode:l.mode,font:w.slice(1),body:p}},htmlBuilder:Nm,mathmlBuilder:Pm}),pe({type:"mclass",names:["\\boldsymbol","\\bm"],props:{numArgs:1},handler:(a,o)=>{let{parser:l}=a;const d=o[0],p=P.isCharacterBox(d);return{type:"mclass",mode:l.mode,mclass:c(d),body:[{type:"font",mode:l.mode,font:"boldsymbol",body:d}],isCharacterBox:p}}}),pe({type:"font",names:["\\rm","\\sf","\\tt","\\bf","\\it","\\cal"],props:{numArgs:0,allowedInText:!0},handler:(a,o)=>{let{parser:l,funcName:d,breakOnTokenText:p}=a;const{mode:w}=l,b=l.parseExpression(!0,p),T="math"+d.slice(1);return{type:"font",mode:w,font:T,body:{type:"ordgroup",mode:l.mode,body:b}}},htmlBuilder:Nm,mathmlBuilder:Pm});const Mm=(a,o)=>{let l=o;return a==="display"?l=l.id>=oe.SCRIPT.id?l.text():oe.DISPLAY:a==="text"&&l.size===oe.DISPLAY.size?l=oe.TEXT:a==="script"?l=oe.SCRIPT:a==="scriptscript"&&(l=oe.SCRIPTSCRIPT),l},yd=(a,o)=>{const l=Mm(a.size,o.style),d=l.fracNum(),p=l.fracDen();let w;w=o.havingStyle(d);const b=ze(a.numer,w,o);if(a.continued){const je=8.5/o.fontMetrics().ptPerEm,He=3.5/o.fontMetrics().ptPerEm;b.height=b.height<je?je:b.height,b.depth=b.depth<He?He:b.depth}w=o.havingStyle(p);const T=ze(a.denom,w,o);let R,B,G;a.hasBarLine?(a.barSize?(B=et(a.barSize,o),R=Z.makeLineSpan("frac-line",o,B)):R=Z.makeLineSpan("frac-line",o),B=R.height,G=R.height):(R=null,B=0,G=o.fontMetrics().defaultRuleThickness);let Y,ee,ue;l.size===oe.DISPLAY.size||a.size==="display"?(Y=o.fontMetrics().num1,B>0?ee=3*G:ee=7*G,ue=o.fontMetrics().denom1):(B>0?(Y=o.fontMetrics().num2,ee=G):(Y=o.fontMetrics().num3,ee=3*G),ue=o.fontMetrics().denom2);let ye;if(R){const je=o.fontMetrics().axisHeight;Y-b.depth-(je+.5*B)<ee&&(Y+=ee-(Y-b.depth-(je+.5*B))),je-.5*B-(T.height-ue)<ee&&(ue+=ee-(je-.5*B-(T.height-ue)));const He=-(je-.5*B);ye=Z.makeVList({positionType:"individualShift",children:[{type:"elem",elem:T,shift:ue},{type:"elem",elem:R,shift:He},{type:"elem",elem:b,shift:-Y}]},o)}else{const je=Y-b.depth-(T.height-ue);je<ee&&(Y+=.5*(ee-je),ue+=.5*(ee-je)),ye=Z.makeVList({positionType:"individualShift",children:[{type:"elem",elem:T,shift:ue},{type:"elem",elem:b,shift:-Y}]},o)}w=o.havingStyle(l),ye.height*=w.sizeMultiplier/o.sizeMultiplier,ye.depth*=w.sizeMultiplier/o.sizeMultiplier;let xe;l.size===oe.DISPLAY.size?xe=o.fontMetrics().delim1:l.size===oe.SCRIPTSCRIPT.size?xe=o.havingStyle(oe.SCRIPT).fontMetrics().delim2:xe=o.fontMetrics().delim2;let Ve,Pe;return a.leftDelim==null?Ve=Ye(o,["mopen"]):Ve=Xr.customSizedDelim(a.leftDelim,xe,!0,o.havingStyle(l),a.mode,["mopen"]),a.continued?Pe=Z.makeSpan([]):a.rightDelim==null?Pe=Ye(o,["mclose"]):Pe=Xr.customSizedDelim(a.rightDelim,xe,!0,o.havingStyle(l),a.mode,["mclose"]),Z.makeSpan(["mord"].concat(w.sizingClasses(o)),[Ve,Z.makeSpan(["mfrac"],[ye]),Pe],o)},vd=(a,o)=>{let l=new ae.MathNode("mfrac",[We(a.numer,o),We(a.denom,o)]);if(!a.hasBarLine)l.setAttribute("linethickness","0px");else if(a.barSize){const p=et(a.barSize,o);l.setAttribute("linethickness",he(p))}const d=Mm(a.size,o.style);if(d.size!==o.style.size){l=new ae.MathNode("mstyle",[l]);const p=d.size===oe.DISPLAY.size?"true":"false";l.setAttribute("displaystyle",p),l.setAttribute("scriptlevel","0")}if(a.leftDelim!=null||a.rightDelim!=null){const p=[];if(a.leftDelim!=null){const w=new ae.MathNode("mo",[new ae.TextNode(a.leftDelim.replace("\\",""))]);w.setAttribute("fence","true"),p.push(w)}if(p.push(l),a.rightDelim!=null){const w=new ae.MathNode("mo",[new ae.TextNode(a.rightDelim.replace("\\",""))]);w.setAttribute("fence","true"),p.push(w)}return Ma(p)}return l};pe({type:"genfrac",names:["\\dfrac","\\frac","\\tfrac","\\dbinom","\\binom","\\tbinom","\\\\atopfrac","\\\\bracefrac","\\\\brackfrac"],props:{numArgs:2,allowedInArgument:!0},handler:(a,o)=>{let{parser:l,funcName:d}=a;const p=o[0],w=o[1];let b,T=null,R=null,B="auto";switch(d){case"\\dfrac":case"\\frac":case"\\tfrac":b=!0;break;case"\\\\atopfrac":b=!1;break;case"\\dbinom":case"\\binom":case"\\tbinom":b=!1,T="(",R=")";break;case"\\\\bracefrac":b=!1,T="\\{",R="\\}";break;case"\\\\brackfrac":b=!1,T="[",R="]";break;default:throw new Error("Unrecognized genfrac command")}switch(d){case"\\dfrac":case"\\dbinom":B="display";break;case"\\tfrac":case"\\tbinom":B="text";break}return{type:"genfrac",mode:l.mode,continued:!1,numer:p,denom:w,hasBarLine:b,leftDelim:T,rightDelim:R,size:B,barSize:null}},htmlBuilder:yd,mathmlBuilder:vd}),pe({type:"genfrac",names:["\\cfrac"],props:{numArgs:2},handler:(a,o)=>{let{parser:l,funcName:d}=a;const p=o[0],w=o[1];return{type:"genfrac",mode:l.mode,continued:!0,numer:p,denom:w,hasBarLine:!0,leftDelim:null,rightDelim:null,size:"display",barSize:null}}}),pe({type:"infix",names:["\\over","\\choose","\\atop","\\brace","\\brack"],props:{numArgs:0,infix:!0},handler(a){let{parser:o,funcName:l,token:d}=a,p;switch(l){case"\\over":p="\\frac";break;case"\\choose":p="\\binom";break;case"\\atop":p="\\\\atopfrac";break;case"\\brace":p="\\\\bracefrac";break;case"\\brack":p="\\\\brackfrac";break;default:throw new Error("Unrecognized infix genfrac command")}return{type:"infix",mode:o.mode,replaceWith:p,token:d}}});const Dm=["display","text","script","scriptscript"],Om=function(a){let o=null;return a.length>0&&(o=a,o=o==="."?null:o),o};pe({type:"genfrac",names:["\\genfrac"],props:{numArgs:6,allowedInArgument:!0,argTypes:["math","math","size","text","math","math"]},handler(a,o){let{parser:l}=a;const d=o[4],p=o[5],w=so(o[0]),b=w.type==="atom"&&w.family==="open"?Om(w.text):null,T=so(o[1]),R=T.type==="atom"&&T.family==="close"?Om(T.text):null,B=ke(o[2],"size");let G,Y=null;B.isBlank?G=!0:(Y=B.value,G=Y.number>0);let ee="auto",ue=o[3];if(ue.type==="ordgroup"){if(ue.body.length>0){const ye=ke(ue.body[0],"textord");ee=Dm[Number(ye.text)]}}else ue=ke(ue,"textord"),ee=Dm[Number(ue.text)];return{type:"genfrac",mode:l.mode,numer:d,denom:p,continued:!1,hasBarLine:G,barSize:Y,leftDelim:b,rightDelim:R,size:ee}},htmlBuilder:yd,mathmlBuilder:vd}),pe({type:"infix",names:["\\above"],props:{numArgs:1,argTypes:["size"],infix:!0},handler(a,o){let{parser:l,funcName:d,token:p}=a;return{type:"infix",mode:l.mode,replaceWith:"\\\\abovefrac",size:ke(o[0],"size").value,token:p}}}),pe({type:"genfrac",names:["\\\\abovefrac"],props:{numArgs:3,argTypes:["math","size","math"]},handler:(a,o)=>{let{parser:l,funcName:d}=a;const p=o[0],w=X(ke(o[1],"infix").size),b=o[2],T=w.number>0;return{type:"genfrac",mode:l.mode,numer:p,denom:b,continued:!1,hasBarLine:T,barSize:w,leftDelim:null,rightDelim:null,size:"auto"}},htmlBuilder:yd,mathmlBuilder:vd});const Lm=(a,o)=>{const l=o.style;let d,p;a.type==="supsub"?(d=a.sup?ze(a.sup,o.havingStyle(l.sup()),o):ze(a.sub,o.havingStyle(l.sub()),o),p=ke(a.base,"horizBrace")):p=ke(a,"horizBrace");const w=ze(p.base,o.havingBaseStyle(oe.DISPLAY)),b=Wn.svgSpan(p,o);let T;if(p.isOver?(T=Z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:w},{type:"kern",size:.1},{type:"elem",elem:b}]},o),T.children[0].children[0].children[1].classes.push("svg-align")):(T=Z.makeVList({positionType:"bottom",positionData:w.depth+.1+b.height,children:[{type:"elem",elem:b},{type:"kern",size:.1},{type:"elem",elem:w}]},o),T.children[0].children[0].children[0].classes.push("svg-align")),d){const R=Z.makeSpan(["mord",p.isOver?"mover":"munder"],[T],o);p.isOver?T=Z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:R},{type:"kern",size:.2},{type:"elem",elem:d}]},o):T=Z.makeVList({positionType:"bottom",positionData:R.depth+.2+d.height+d.depth,children:[{type:"elem",elem:d},{type:"kern",size:.2},{type:"elem",elem:R}]},o)}return Z.makeSpan(["mord",p.isOver?"mover":"munder"],[T],o)};pe({type:"horizBrace",names:["\\overbrace","\\underbrace"],props:{numArgs:1},handler(a,o){let{parser:l,funcName:d}=a;return{type:"horizBrace",mode:l.mode,label:d,isOver:/^\\over/.test(d),base:o[0]}},htmlBuilder:Lm,mathmlBuilder:(a,o)=>{const l=Wn.mathMLnode(a.label);return new ae.MathNode(a.isOver?"mover":"munder",[We(a.base,o),l])}}),pe({type:"href",names:["\\href"],props:{numArgs:2,argTypes:["url","original"],allowedInText:!0},handler:(a,o)=>{let{parser:l}=a;const d=o[1],p=ke(o[0],"url").url;return l.settings.isTrusted({command:"\\href",url:p})?{type:"href",mode:l.mode,href:p,body:ft(d)}:l.formatUnsupportedCmd("\\href")},htmlBuilder:(a,o)=>{const l=vt(a.body,o,!1);return Z.makeAnchor(a.href,[],l,o)},mathmlBuilder:(a,o)=>{let l=On(a.body,o);return l instanceof on||(l=new on("mrow",[l])),l.setAttribute("href",a.href),l}}),pe({type:"href",names:["\\url"],props:{numArgs:1,argTypes:["url"],allowedInText:!0},handler:(a,o)=>{let{parser:l}=a;const d=ke(o[0],"url").url;if(!l.settings.isTrusted({command:"\\url",url:d}))return l.formatUnsupportedCmd("\\url");const p=[];for(let b=0;b<d.length;b++){let T=d[b];T==="~"&&(T="\\textasciitilde"),p.push({type:"textord",mode:"text",text:T})}const w={type:"text",mode:l.mode,font:"\\texttt",body:p};return{type:"href",mode:l.mode,href:d,body:ft(w)}}}),pe({type:"hbox",names:["\\hbox"],props:{numArgs:1,argTypes:["text"],allowedInText:!0,primitive:!0},handler(a,o){let{parser:l}=a;return{type:"hbox",mode:l.mode,body:ft(o[0])}},htmlBuilder(a,o){const l=vt(a.body,o,!1);return Z.makeFragment(l)},mathmlBuilder(a,o){return new ae.MathNode("mrow",jt(a.body,o))}}),pe({type:"html",names:["\\htmlClass","\\htmlId","\\htmlStyle","\\htmlData"],props:{numArgs:2,argTypes:["raw","original"],allowedInText:!0},handler:(a,o)=>{let{parser:l,funcName:d,token:p}=a;const w=ke(o[0],"raw").string,b=o[1];l.settings.strict&&l.settings.reportNonstrict("htmlExtension","HTML extension is disabled on strict mode");let T;const R={};switch(d){case"\\htmlClass":R.class=w,T={command:"\\htmlClass",class:w};break;case"\\htmlId":R.id=w,T={command:"\\htmlId",id:w};break;case"\\htmlStyle":R.style=w,T={command:"\\htmlStyle",style:w};break;case"\\htmlData":{const B=w.split(",");for(let G=0;G<B.length;G++){const Y=B[G].split("=");if(Y.length!==2)throw new s("Error parsing key-value for \\htmlData");R["data-"+Y[0].trim()]=Y[1].trim()}T={command:"\\htmlData",attributes:R};break}default:throw new Error("Unrecognized html command")}return l.settings.isTrusted(T)?{type:"html",mode:l.mode,attributes:R,body:ft(b)}:l.formatUnsupportedCmd(d)},htmlBuilder:(a,o)=>{const l=vt(a.body,o,!1),d=["enclosing"];a.attributes.class&&d.push(...a.attributes.class.trim().split(/\s+/));const p=Z.makeSpan(d,l,o);for(const w in a.attributes)w!=="class"&&a.attributes.hasOwnProperty(w)&&p.setAttribute(w,a.attributes[w]);return p},mathmlBuilder:(a,o)=>On(a.body,o)}),pe({type:"htmlmathml",names:["\\html@mathml"],props:{numArgs:2,allowedInText:!0},handler:(a,o)=>{let{parser:l}=a;return{type:"htmlmathml",mode:l.mode,html:ft(o[0]),mathml:ft(o[1])}},htmlBuilder:(a,o)=>{const l=vt(a.html,o,!1);return Z.makeFragment(l)},mathmlBuilder:(a,o)=>On(a.mathml,o)});const wd=function(a){if(/^[-+]? *(\d+(\.\d*)?|\.\d+)$/.test(a))return{number:+a,unit:"bp"};{const o=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(a);if(!o)throw new s("Invalid size: '"+a+"' in \\includegraphics");const l={number:+(o[1]+o[2]),unit:o[3]};if(!Ea(l))throw new s("Invalid unit: '"+l.unit+"' in \\includegraphics.");return l}};pe({type:"includegraphics",names:["\\includegraphics"],props:{numArgs:1,numOptionalArgs:1,argTypes:["raw","url"],allowedInText:!1},handler:(a,o,l)=>{let{parser:d}=a,p={number:0,unit:"em"},w={number:.9,unit:"em"},b={number:0,unit:"em"},T="";if(l[0]){const G=ke(l[0],"raw").string.split(",");for(let Y=0;Y<G.length;Y++){const ee=G[Y].split("=");if(ee.length===2){const ue=ee[1].trim();switch(ee[0].trim()){case"alt":T=ue;break;case"width":p=wd(ue);break;case"height":w=wd(ue);break;case"totalheight":b=wd(ue);break;default:throw new s("Invalid key: '"+ee[0]+"' in \\includegraphics.")}}}}const R=ke(o[0],"url").url;return T===""&&(T=R,T=T.replace(/^.*[\\/]/,""),T=T.substring(0,T.lastIndexOf("."))),d.settings.isTrusted({command:"\\includegraphics",url:R})?{type:"includegraphics",mode:d.mode,alt:T,width:p,height:w,totalheight:b,src:R}:d.formatUnsupportedCmd("\\includegraphics")},htmlBuilder:(a,o)=>{const l=et(a.height,o);let d=0;a.totalheight.number>0&&(d=et(a.totalheight,o)-l);let p=0;a.width.number>0&&(p=et(a.width,o));const w={height:he(l+d)};p>0&&(w.width=he(p)),d>0&&(w.verticalAlign=he(-d));const b=new ka(a.src,a.alt,w);return b.height=l,b.depth=d,b},mathmlBuilder:(a,o)=>{const l=new ae.MathNode("mglyph",[]);l.setAttribute("alt",a.alt);const d=et(a.height,o);let p=0;if(a.totalheight.number>0&&(p=et(a.totalheight,o)-d,l.setAttribute("valign",he(-p))),l.setAttribute("height",he(d+p)),a.width.number>0){const w=et(a.width,o);l.setAttribute("width",he(w))}return l.setAttribute("src",a.src),l}}),pe({type:"kern",names:["\\kern","\\mkern","\\hskip","\\mskip"],props:{numArgs:1,argTypes:["size"],primitive:!0,allowedInText:!0},handler(a,o){let{parser:l,funcName:d}=a;const p=ke(o[0],"size");if(l.settings.strict){const w=d[1]==="m",b=p.value.unit==="mu";w?(b||l.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+d+" supports only mu units, "+("not "+p.value.unit+" units")),l.mode!=="math"&&l.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+d+" works only in math mode")):b&&l.settings.reportNonstrict("mathVsTextUnits","LaTeX's "+d+" doesn't support mu units")}return{type:"kern",mode:l.mode,dimension:p.value}},htmlBuilder(a,o){return Z.makeGlue(a.dimension,o)},mathmlBuilder(a,o){const l=et(a.dimension,o);return new ae.SpaceNode(l)}}),pe({type:"lap",names:["\\mathllap","\\mathrlap","\\mathclap"],props:{numArgs:1,allowedInText:!0},handler:(a,o)=>{let{parser:l,funcName:d}=a;const p=o[0];return{type:"lap",mode:l.mode,alignment:d.slice(5),body:p}},htmlBuilder:(a,o)=>{let l;a.alignment==="clap"?(l=Z.makeSpan([],[ze(a.body,o)]),l=Z.makeSpan(["inner"],[l],o)):l=Z.makeSpan(["inner"],[ze(a.body,o)]);const d=Z.makeSpan(["fix"],[]);let p=Z.makeSpan([a.alignment],[l,d],o);const w=Z.makeSpan(["strut"]);return w.style.height=he(p.height+p.depth),p.depth&&(w.style.verticalAlign=he(-p.depth)),p.children.unshift(w),p=Z.makeSpan(["thinbox"],[p],o),Z.makeSpan(["mord","vbox"],[p],o)},mathmlBuilder:(a,o)=>{const l=new ae.MathNode("mpadded",[We(a.body,o)]);if(a.alignment!=="rlap"){const d=a.alignment==="llap"?"-1":"-0.5";l.setAttribute("lspace",d+"width")}return l.setAttribute("width","0px"),l}}),pe({type:"styling",names:["\\(","$"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(a,o){let{funcName:l,parser:d}=a;const p=d.mode;d.switchMode("math");const w=l==="\\("?"\\)":"$",b=d.parseExpression(!1,w);return d.expect(w),d.switchMode(p),{type:"styling",mode:d.mode,style:"text",body:b}}}),pe({type:"text",names:["\\)","\\]"],props:{numArgs:0,allowedInText:!0,allowedInMath:!1},handler(a,o){throw new s("Mismatched "+a.funcName)}});const zm=(a,o)=>{switch(o.style.size){case oe.DISPLAY.size:return a.display;case oe.TEXT.size:return a.text;case oe.SCRIPT.size:return a.script;case oe.SCRIPTSCRIPT.size:return a.scriptscript;default:return a.text}};pe({type:"mathchoice",names:["\\mathchoice"],props:{numArgs:4,primitive:!0},handler:(a,o)=>{let{parser:l}=a;return{type:"mathchoice",mode:l.mode,display:ft(o[0]),text:ft(o[1]),script:ft(o[2]),scriptscript:ft(o[3])}},htmlBuilder:(a,o)=>{const l=zm(a,o),d=vt(l,o,!1);return Z.makeFragment(d)},mathmlBuilder:(a,o)=>{const l=zm(a,o);return On(l,o)}});const Vm=(a,o,l,d,p,w,b)=>{a=Z.makeSpan([],[a]);const T=l&&P.isCharacterBox(l);let R,B;if(o){const ee=ze(o,d.havingStyle(p.sup()),d);B={elem:ee,kern:Math.max(d.fontMetrics().bigOpSpacing1,d.fontMetrics().bigOpSpacing3-ee.depth)}}if(l){const ee=ze(l,d.havingStyle(p.sub()),d);R={elem:ee,kern:Math.max(d.fontMetrics().bigOpSpacing2,d.fontMetrics().bigOpSpacing4-ee.height)}}let G;if(B&&R){const ee=d.fontMetrics().bigOpSpacing5+R.elem.height+R.elem.depth+R.kern+a.depth+b;G=Z.makeVList({positionType:"bottom",positionData:ee,children:[{type:"kern",size:d.fontMetrics().bigOpSpacing5},{type:"elem",elem:R.elem,marginLeft:he(-w)},{type:"kern",size:R.kern},{type:"elem",elem:a},{type:"kern",size:B.kern},{type:"elem",elem:B.elem,marginLeft:he(w)},{type:"kern",size:d.fontMetrics().bigOpSpacing5}]},d)}else if(R){const ee=a.height-b;G=Z.makeVList({positionType:"top",positionData:ee,children:[{type:"kern",size:d.fontMetrics().bigOpSpacing5},{type:"elem",elem:R.elem,marginLeft:he(-w)},{type:"kern",size:R.kern},{type:"elem",elem:a}]},d)}else if(B){const ee=a.depth+b;G=Z.makeVList({positionType:"bottom",positionData:ee,children:[{type:"elem",elem:a},{type:"kern",size:B.kern},{type:"elem",elem:B.elem,marginLeft:he(w)},{type:"kern",size:d.fontMetrics().bigOpSpacing5}]},d)}else return a;const Y=[G];if(R&&w!==0&&!T){const ee=Z.makeSpan(["mspace"],[],d);ee.style.marginRight=he(w),Y.unshift(ee)}return Z.makeSpan(["mop","op-limits"],Y,d)},jm=["\\smallint"],yo=(a,o)=>{let l,d,p=!1,w;a.type==="supsub"?(l=a.sup,d=a.sub,w=ke(a.base,"op"),p=!0):w=ke(a,"op");const b=o.style;let T=!1;b.size===oe.DISPLAY.size&&w.symbol&&!P.contains(jm,w.name)&&(T=!0);let R;if(w.symbol){const Y=T?"Size2-Regular":"Size1-Regular";let ee="";if((w.name==="\\oiint"||w.name==="\\oiiint")&&(ee=w.name.slice(1),w.name=ee==="oiint"?"\\iint":"\\iiint"),R=Z.makeSymbol(w.name,Y,"math",o,["mop","op-symbol",T?"large-op":"small-op"]),ee.length>0){const ue=R.italic,ye=Z.staticSvg(ee+"Size"+(T?"2":"1"),o);R=Z.makeVList({positionType:"individualShift",children:[{type:"elem",elem:R,shift:0},{type:"elem",elem:ye,shift:T?.08:0}]},o),w.name="\\"+ee,R.classes.unshift("mop"),R.italic=ue}}else if(w.body){const Y=vt(w.body,o,!0);Y.length===1&&Y[0]instanceof mn?(R=Y[0],R.classes[0]="mop"):R=Z.makeSpan(["mop"],Y,o)}else{const Y=[];for(let ee=1;ee<w.name.length;ee++)Y.push(Z.mathsym(w.name[ee],w.mode,o));R=Z.makeSpan(["mop"],Y,o)}let B=0,G=0;return(R instanceof mn||w.name==="\\oiint"||w.name==="\\oiiint")&&!w.suppressBaseShift&&(B=(R.height-R.depth)/2-o.fontMetrics().axisHeight,G=R.italic),p?Vm(R,l,d,o,b,G,B):(B&&(R.style.position="relative",R.style.top=he(B)),R)},Ba=(a,o)=>{let l;if(a.symbol)l=new on("mo",[wn(a.name,a.mode)]),P.contains(jm,a.name)&&l.setAttribute("largeop","false");else if(a.body)l=new on("mo",jt(a.body,o));else{l=new on("mi",[new vn(a.name.slice(1))]);const d=new on("mo",[wn("⁡","text")]);a.parentIsSupSub?l=new on("mrow",[l,d]):l=Ra([l,d])}return l},i7={"∏":"\\prod","∐":"\\coprod","∑":"\\sum","⋀":"\\bigwedge","⋁":"\\bigvee","⋂":"\\bigcap","⋃":"\\bigcup","⨀":"\\bigodot","⨁":"\\bigoplus","⨂":"\\bigotimes","⨄":"\\biguplus","⨆":"\\bigsqcup"};pe({type:"op",names:["\\coprod","\\bigvee","\\bigwedge","\\biguplus","\\bigcap","\\bigcup","\\intop","\\prod","\\sum","\\bigotimes","\\bigoplus","\\bigodot","\\bigsqcup","\\smallint","∏","∐","∑","⋀","⋁","⋂","⋃","⨀","⨁","⨂","⨄","⨆"],props:{numArgs:0},handler:(a,o)=>{let{parser:l,funcName:d}=a,p=d;return p.length===1&&(p=i7[p]),{type:"op",mode:l.mode,limits:!0,parentIsSupSub:!1,symbol:!0,name:p}},htmlBuilder:yo,mathmlBuilder:Ba}),pe({type:"op",names:["\\mathop"],props:{numArgs:1,primitive:!0},handler:(a,o)=>{let{parser:l}=a;const d=o[0];return{type:"op",mode:l.mode,limits:!1,parentIsSupSub:!1,symbol:!1,body:ft(d)}},htmlBuilder:yo,mathmlBuilder:Ba});const s7={"∫":"\\int","∬":"\\iint","∭":"\\iiint","∮":"\\oint","∯":"\\oiint","∰":"\\oiiint"};pe({type:"op",names:["\\arcsin","\\arccos","\\arctan","\\arctg","\\arcctg","\\arg","\\ch","\\cos","\\cosec","\\cosh","\\cot","\\cotg","\\coth","\\csc","\\ctg","\\cth","\\deg","\\dim","\\exp","\\hom","\\ker","\\lg","\\ln","\\log","\\sec","\\sin","\\sinh","\\sh","\\tan","\\tanh","\\tg","\\th"],props:{numArgs:0},handler(a){let{parser:o,funcName:l}=a;return{type:"op",mode:o.mode,limits:!1,parentIsSupSub:!1,symbol:!1,name:l}},htmlBuilder:yo,mathmlBuilder:Ba}),pe({type:"op",names:["\\det","\\gcd","\\inf","\\lim","\\max","\\min","\\Pr","\\sup"],props:{numArgs:0},handler(a){let{parser:o,funcName:l}=a;return{type:"op",mode:o.mode,limits:!0,parentIsSupSub:!1,symbol:!1,name:l}},htmlBuilder:yo,mathmlBuilder:Ba}),pe({type:"op",names:["\\int","\\iint","\\iiint","\\oint","\\oiint","\\oiiint","∫","∬","∭","∮","∯","∰"],props:{numArgs:0},handler(a){let{parser:o,funcName:l}=a,d=l;return d.length===1&&(d=s7[d]),{type:"op",mode:o.mode,limits:!1,parentIsSupSub:!1,symbol:!0,name:d}},htmlBuilder:yo,mathmlBuilder:Ba});const Fm=(a,o)=>{let l,d,p=!1,w;a.type==="supsub"?(l=a.sup,d=a.sub,w=ke(a.base,"operatorname"),p=!0):w=ke(a,"operatorname");let b;if(w.body.length>0){const T=w.body.map(B=>{const G=B.text;return typeof G=="string"?{type:"textord",mode:B.mode,text:G}:B}),R=vt(T,o.withFont("mathrm"),!0);for(let B=0;B<R.length;B++){const G=R[B];G instanceof mn&&(G.text=G.text.replace(/\u2212/,"-").replace(/\u2217/,"*"))}b=Z.makeSpan(["mop"],R,o)}else b=Z.makeSpan(["mop"],[],o);return p?Vm(b,l,d,o,o.style,0,0):b};pe({type:"operatorname",names:["\\operatorname@","\\operatornamewithlimits"],props:{numArgs:1},handler:(a,o)=>{let{parser:l,funcName:d}=a;const p=o[0];return{type:"operatorname",mode:l.mode,body:ft(p),alwaysHandleSupSub:d==="\\operatornamewithlimits",limits:!1,parentIsSupSub:!1}},htmlBuilder:Fm,mathmlBuilder:(a,o)=>{let l=jt(a.body,o.withFont("mathrm")),d=!0;for(let b=0;b<l.length;b++){const T=l[b];if(!(T instanceof ae.SpaceNode))if(T instanceof ae.MathNode)switch(T.type){case"mi":case"mn":case"ms":case"mspace":case"mtext":break;case"mo":{const R=T.children[0];T.children.length===1&&R instanceof ae.TextNode?R.text=R.text.replace(/\u2212/,"-").replace(/\u2217/,"*"):d=!1;break}default:d=!1}else d=!1}if(d){const b=l.map(T=>T.toText()).join("");l=[new ae.TextNode(b)]}const p=new ae.MathNode("mi",l);p.setAttribute("mathvariant","normal");const w=new ae.MathNode("mo",[wn("⁡","text")]);return a.parentIsSupSub?new ae.MathNode("mrow",[p,w]):ae.newDocumentFragment([p,w])}}),A("\\operatorname","\\@ifstar\\operatornamewithlimits\\operatorname@"),Hr({type:"ordgroup",htmlBuilder(a,o){return a.semisimple?Z.makeFragment(vt(a.body,o,!1)):Z.makeSpan(["mord"],vt(a.body,o,!0),o)},mathmlBuilder(a,o){return On(a.body,o,!0)}}),pe({type:"overline",names:["\\overline"],props:{numArgs:1},handler(a,o){let{parser:l}=a;const d=o[0];return{type:"overline",mode:l.mode,body:d}},htmlBuilder(a,o){const l=ze(a.body,o.havingCrampedStyle()),d=Z.makeLineSpan("overline-line",o),p=o.fontMetrics().defaultRuleThickness,w=Z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l},{type:"kern",size:3*p},{type:"elem",elem:d},{type:"kern",size:p}]},o);return Z.makeSpan(["mord","overline"],[w],o)},mathmlBuilder(a,o){const l=new ae.MathNode("mo",[new ae.TextNode("‾")]);l.setAttribute("stretchy","true");const d=new ae.MathNode("mover",[We(a.body,o),l]);return d.setAttribute("accent","true"),d}}),pe({type:"phantom",names:["\\phantom"],props:{numArgs:1,allowedInText:!0},handler:(a,o)=>{let{parser:l}=a;const d=o[0];return{type:"phantom",mode:l.mode,body:ft(d)}},htmlBuilder:(a,o)=>{const l=vt(a.body,o.withPhantom(),!1);return Z.makeFragment(l)},mathmlBuilder:(a,o)=>{const l=jt(a.body,o);return new ae.MathNode("mphantom",l)}}),pe({type:"hphantom",names:["\\hphantom"],props:{numArgs:1,allowedInText:!0},handler:(a,o)=>{let{parser:l}=a;const d=o[0];return{type:"hphantom",mode:l.mode,body:d}},htmlBuilder:(a,o)=>{let l=Z.makeSpan([],[ze(a.body,o.withPhantom())]);if(l.height=0,l.depth=0,l.children)for(let d=0;d<l.children.length;d++)l.children[d].height=0,l.children[d].depth=0;return l=Z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l}]},o),Z.makeSpan(["mord"],[l],o)},mathmlBuilder:(a,o)=>{const l=jt(ft(a.body),o),d=new ae.MathNode("mphantom",l),p=new ae.MathNode("mpadded",[d]);return p.setAttribute("height","0px"),p.setAttribute("depth","0px"),p}}),pe({type:"vphantom",names:["\\vphantom"],props:{numArgs:1,allowedInText:!0},handler:(a,o)=>{let{parser:l}=a;const d=o[0];return{type:"vphantom",mode:l.mode,body:d}},htmlBuilder:(a,o)=>{const l=Z.makeSpan(["inner"],[ze(a.body,o.withPhantom())]),d=Z.makeSpan(["fix"],[]);return Z.makeSpan(["mord","rlap"],[l,d],o)},mathmlBuilder:(a,o)=>{const l=jt(ft(a.body),o),d=new ae.MathNode("mphantom",l),p=new ae.MathNode("mpadded",[d]);return p.setAttribute("width","0px"),p}}),pe({type:"raisebox",names:["\\raisebox"],props:{numArgs:2,argTypes:["size","hbox"],allowedInText:!0},handler(a,o){let{parser:l}=a;const d=ke(o[0],"size").value,p=o[1];return{type:"raisebox",mode:l.mode,dy:d,body:p}},htmlBuilder(a,o){const l=ze(a.body,o),d=et(a.dy,o);return Z.makeVList({positionType:"shift",positionData:-d,children:[{type:"elem",elem:l}]},o)},mathmlBuilder(a,o){const l=new ae.MathNode("mpadded",[We(a.body,o)]),d=a.dy.number+a.dy.unit;return l.setAttribute("voffset",d),l}}),pe({type:"internal",names:["\\relax"],props:{numArgs:0,allowedInText:!0,allowedInArgument:!0},handler(a){let{parser:o}=a;return{type:"internal",mode:o.mode}}}),pe({type:"rule",names:["\\rule"],props:{numArgs:2,numOptionalArgs:1,allowedInText:!0,allowedInMath:!0,argTypes:["size","size","size"]},handler(a,o,l){let{parser:d}=a;const p=l[0],w=ke(o[0],"size"),b=ke(o[1],"size");return{type:"rule",mode:d.mode,shift:p&&ke(p,"size").value,width:w.value,height:b.value}},htmlBuilder(a,o){const l=Z.makeSpan(["mord","rule"],[],o),d=et(a.width,o),p=et(a.height,o),w=a.shift?et(a.shift,o):0;return l.style.borderRightWidth=he(d),l.style.borderTopWidth=he(p),l.style.bottom=he(w),l.width=d,l.height=p+w,l.depth=-w,l.maxFontSize=p*1.125*o.sizeMultiplier,l},mathmlBuilder(a,o){const l=et(a.width,o),d=et(a.height,o),p=a.shift?et(a.shift,o):0,w=o.color&&o.getColor()||"black",b=new ae.MathNode("mspace");b.setAttribute("mathbackground",w),b.setAttribute("width",he(l)),b.setAttribute("height",he(d));const T=new ae.MathNode("mpadded",[b]);return p>=0?T.setAttribute("height",he(p)):(T.setAttribute("height",he(p)),T.setAttribute("depth",he(-p))),T.setAttribute("voffset",he(p)),T}});function Bm(a,o,l){const d=vt(a,o,!1),p=o.sizeMultiplier/l.sizeMultiplier;for(let w=0;w<d.length;w++){const b=d[w].classes.indexOf("sizing");b<0?Array.prototype.push.apply(d[w].classes,o.sizingClasses(l)):d[w].classes[b+1]==="reset-size"+o.size&&(d[w].classes[b+1]="reset-size"+l.size),d[w].height*=p,d[w].depth*=p}return Z.makeFragment(d)}const Um=["\\tiny","\\sixptsize","\\scriptsize","\\footnotesize","\\small","\\normalsize","\\large","\\Large","\\LARGE","\\huge","\\Huge"];pe({type:"sizing",names:Um,props:{numArgs:0,allowedInText:!0},handler:(a,o)=>{let{breakOnTokenText:l,funcName:d,parser:p}=a;const w=p.parseExpression(!1,l);return{type:"sizing",mode:p.mode,size:Um.indexOf(d)+1,body:w}},htmlBuilder:(a,o)=>{const l=o.havingSize(a.size);return Bm(a.body,l,o)},mathmlBuilder:(a,o)=>{const l=o.havingSize(a.size),d=jt(a.body,l),p=new ae.MathNode("mstyle",d);return p.setAttribute("mathsize",he(l.sizeMultiplier)),p}}),pe({type:"smash",names:["\\smash"],props:{numArgs:1,numOptionalArgs:1,allowedInText:!0},handler:(a,o,l)=>{let{parser:d}=a,p=!1,w=!1;const b=l[0]&&ke(l[0],"ordgroup");if(b){let R="";for(let B=0;B<b.body.length;++B)if(R=b.body[B].text,R==="t")p=!0;else if(R==="b")w=!0;else{p=!1,w=!1;break}}else p=!0,w=!0;const T=o[0];return{type:"smash",mode:d.mode,body:T,smashHeight:p,smashDepth:w}},htmlBuilder:(a,o)=>{const l=Z.makeSpan([],[ze(a.body,o)]);if(!a.smashHeight&&!a.smashDepth)return l;if(a.smashHeight&&(l.height=0,l.children))for(let p=0;p<l.children.length;p++)l.children[p].height=0;if(a.smashDepth&&(l.depth=0,l.children))for(let p=0;p<l.children.length;p++)l.children[p].depth=0;const d=Z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l}]},o);return Z.makeSpan(["mord"],[d],o)},mathmlBuilder:(a,o)=>{const l=new ae.MathNode("mpadded",[We(a.body,o)]);return a.smashHeight&&l.setAttribute("height","0px"),a.smashDepth&&l.setAttribute("depth","0px"),l}}),pe({type:"sqrt",names:["\\sqrt"],props:{numArgs:1,numOptionalArgs:1},handler(a,o,l){let{parser:d}=a;const p=l[0],w=o[0];return{type:"sqrt",mode:d.mode,body:w,index:p}},htmlBuilder(a,o){let l=ze(a.body,o.havingCrampedStyle());l.height===0&&(l.height=o.fontMetrics().xHeight),l=Z.wrapFragment(l,o);const p=o.fontMetrics().defaultRuleThickness;let w=p;o.style.id<oe.TEXT.id&&(w=o.fontMetrics().xHeight);let b=p+w/4;const T=l.height+l.depth+b+p,{span:R,ruleWidth:B,advanceWidth:G}=Xr.sqrtImage(T,o),Y=R.height-B;Y>l.height+l.depth+b&&(b=(b+Y-l.height-l.depth)/2);const ee=R.height-l.height-b-B;l.style.paddingLeft=he(G);const ue=Z.makeVList({positionType:"firstBaseline",children:[{type:"elem",elem:l,wrapperClasses:["svg-align"]},{type:"kern",size:-(l.height+ee)},{type:"elem",elem:R},{type:"kern",size:B}]},o);if(a.index){const ye=o.havingStyle(oe.SCRIPTSCRIPT),xe=ze(a.index,ye,o),Ve=.6*(ue.height-ue.depth),Pe=Z.makeVList({positionType:"shift",positionData:-Ve,children:[{type:"elem",elem:xe}]},o),je=Z.makeSpan(["root"],[Pe]);return Z.makeSpan(["mord","sqrt"],[je,ue],o)}else return Z.makeSpan(["mord","sqrt"],[ue],o)},mathmlBuilder(a,o){const{body:l,index:d}=a;return d?new ae.MathNode("mroot",[We(l,o),We(d,o)]):new ae.MathNode("msqrt",[We(l,o)])}});const qm={display:oe.DISPLAY,text:oe.TEXT,script:oe.SCRIPT,scriptscript:oe.SCRIPTSCRIPT};pe({type:"styling",names:["\\displaystyle","\\textstyle","\\scriptstyle","\\scriptscriptstyle"],props:{numArgs:0,allowedInText:!0,primitive:!0},handler(a,o){let{breakOnTokenText:l,funcName:d,parser:p}=a;const w=p.parseExpression(!0,l),b=d.slice(1,d.length-5);return{type:"styling",mode:p.mode,style:b,body:w}},htmlBuilder(a,o){const l=qm[a.style],d=o.havingStyle(l).withFont("");return Bm(a.body,d,o)},mathmlBuilder(a,o){const l=qm[a.style],d=o.havingStyle(l),p=jt(a.body,d),w=new ae.MathNode("mstyle",p),T={display:["0","true"],text:["0","false"],script:["1","false"],scriptscript:["2","false"]}[a.style];return w.setAttribute("scriptlevel",T[0]),w.setAttribute("displaystyle",T[1]),w}});const o7=function(a,o){const l=a.base;return l?l.type==="op"?l.limits&&(o.style.size===oe.DISPLAY.size||l.alwaysHandleSupSub)?yo:null:l.type==="operatorname"?l.alwaysHandleSupSub&&(o.style.size===oe.DISPLAY.size||l.limits)?Fm:null:l.type==="accent"?P.isCharacterBox(l.base)?po:null:l.type==="horizBrace"&&!a.sub===l.isOver?Lm:null:null};Hr({type:"supsub",htmlBuilder(a,o){const l=o7(a,o);if(l)return l(a,o);const{base:d,sup:p,sub:w}=a,b=ze(d,o);let T,R;const B=o.fontMetrics();let G=0,Y=0;const ee=d&&P.isCharacterBox(d);if(p){const He=o.havingStyle(o.style.sup());T=ze(p,He,o),ee||(G=b.height-He.fontMetrics().supDrop*He.sizeMultiplier/o.sizeMultiplier)}if(w){const He=o.havingStyle(o.style.sub());R=ze(w,He,o),ee||(Y=b.depth+He.fontMetrics().subDrop*He.sizeMultiplier/o.sizeMultiplier)}let ue;o.style===oe.DISPLAY?ue=B.sup1:o.style.cramped?ue=B.sup3:ue=B.sup2;const ye=o.sizeMultiplier,xe=he(.5/B.ptPerEm/ye);let Ve=null;if(R){const He=a.base&&a.base.type==="op"&&a.base.name&&(a.base.name==="\\oiint"||a.base.name==="\\oiiint");(b instanceof mn||He)&&(Ve=he(-b.italic))}let Pe;if(T&&R){G=Math.max(G,ue,T.depth+.25*B.xHeight),Y=Math.max(Y,B.sub2);const tt=4*B.defaultRuleThickness;if(G-T.depth-(R.height-Y)<tt){Y=tt-(G-T.depth)+R.height;const Mt=.8*B.xHeight-(G-T.depth);Mt>0&&(G+=Mt,Y-=Mt)}const xn=[{type:"elem",elem:R,shift:Y,marginRight:xe,marginLeft:Ve},{type:"elem",elem:T,shift:-G,marginRight:xe}];Pe=Z.makeVList({positionType:"individualShift",children:xn},o)}else if(R){Y=Math.max(Y,B.sub1,R.height-.8*B.xHeight);const He=[{type:"elem",elem:R,marginLeft:Ve,marginRight:xe}];Pe=Z.makeVList({positionType:"shift",positionData:Y,children:He},o)}else if(T)G=Math.max(G,ue,T.depth+.25*B.xHeight),Pe=Z.makeVList({positionType:"shift",positionData:-G,children:[{type:"elem",elem:T,marginRight:xe}]},o);else throw new Error("supsub must have either sup or sub.");const je=ys(b,"right")||"mord";return Z.makeSpan([je],[b,Z.makeSpan(["msupsub"],[Pe])],o)},mathmlBuilder(a,o){let l=!1,d,p;a.base&&a.base.type==="horizBrace"&&(p=!!a.sup,p===a.base.isOver&&(l=!0,d=a.base.isOver)),a.base&&(a.base.type==="op"||a.base.type==="operatorname")&&(a.base.parentIsSupSub=!0);const w=[We(a.base,o)];a.sub&&w.push(We(a.sub,o)),a.sup&&w.push(We(a.sup,o));let b;if(l)b=d?"mover":"munder";else if(a.sub)if(a.sup){const T=a.base;T&&T.type==="op"&&T.limits&&o.style===oe.DISPLAY||T&&T.type==="operatorname"&&T.alwaysHandleSupSub&&(o.style===oe.DISPLAY||T.limits)?b="munderover":b="msubsup"}else{const T=a.base;T&&T.type==="op"&&T.limits&&(o.style===oe.DISPLAY||T.alwaysHandleSupSub)||T&&T.type==="operatorname"&&T.alwaysHandleSupSub&&(T.limits||o.style===oe.DISPLAY)?b="munder":b="msub"}else{const T=a.base;T&&T.type==="op"&&T.limits&&(o.style===oe.DISPLAY||T.alwaysHandleSupSub)||T&&T.type==="operatorname"&&T.alwaysHandleSupSub&&(T.limits||o.style===oe.DISPLAY)?b="mover":b="msup"}return new ae.MathNode(b,w)}}),Hr({type:"atom",htmlBuilder(a,o){return Z.mathsym(a.text,a.mode,o,["m"+a.family])},mathmlBuilder(a,o){const l=new ae.MathNode("mo",[wn(a.text,a.mode)]);if(a.family==="bin"){const d=Gr(a,o);d==="bold-italic"&&l.setAttribute("mathvariant",d)}else a.family==="punct"?l.setAttribute("separator","true"):(a.family==="open"||a.family==="close")&&l.setAttribute("stretchy","false");return l}});const $m={mi:"italic",mn:"normal",mtext:"normal"};Hr({type:"mathord",htmlBuilder(a,o){return Z.makeOrd(a,o,"mathord")},mathmlBuilder(a,o){const l=new ae.MathNode("mi",[wn(a.text,a.mode,o)]),d=Gr(a,o)||"italic";return d!==$m[l.type]&&l.setAttribute("mathvariant",d),l}}),Hr({type:"textord",htmlBuilder(a,o){return Z.makeOrd(a,o,"textord")},mathmlBuilder(a,o){const l=wn(a.text,a.mode,o),d=Gr(a,o)||"normal";let p;return a.mode==="text"?p=new ae.MathNode("mtext",[l]):/[0-9]/.test(a.text)?p=new ae.MathNode("mn",[l]):a.text==="\\prime"?p=new ae.MathNode("mo",[l]):p=new ae.MathNode("mi",[l]),d!==$m[p.type]&&p.setAttribute("mathvariant",d),p}});const xd={"\\nobreak":"nobreak","\\allowbreak":"allowbreak"},bd={" ":{},"\\ ":{},"~":{className:"nobreak"},"\\space":{},"\\nobreakspace":{className:"nobreak"}};Hr({type:"spacing",htmlBuilder(a,o){if(bd.hasOwnProperty(a.text)){const l=bd[a.text].className||"";if(a.mode==="text"){const d=Z.makeOrd(a,o,"textord");return d.classes.push(l),d}else return Z.makeSpan(["mspace",l],[Z.mathsym(a.text,a.mode,o)],o)}else{if(xd.hasOwnProperty(a.text))return Z.makeSpan(["mspace",xd[a.text]],[],o);throw new s('Unknown type of space "'+a.text+'"')}},mathmlBuilder(a,o){let l;if(bd.hasOwnProperty(a.text))l=new ae.MathNode("mtext",[new ae.TextNode(" ")]);else{if(xd.hasOwnProperty(a.text))return new ae.MathNode("mspace");throw new s('Unknown type of space "'+a.text+'"')}return l}});const Hm=()=>{const a=new ae.MathNode("mtd",[]);return a.setAttribute("width","50%"),a};Hr({type:"tag",mathmlBuilder(a,o){const l=new ae.MathNode("mtable",[new ae.MathNode("mtr",[Hm(),new ae.MathNode("mtd",[On(a.body,o)]),Hm(),new ae.MathNode("mtd",[On(a.tag,o)])])]);return l.setAttribute("width","100%"),l}});const Wm={"\\text":void 0,"\\textrm":"textrm","\\textsf":"textsf","\\texttt":"texttt","\\textnormal":"textrm"},Gm={"\\textbf":"textbf","\\textmd":"textmd"},a7={"\\textit":"textit","\\textup":"textup"},Km=(a,o)=>{const l=a.font;if(l){if(Wm[l])return o.withTextFontFamily(Wm[l]);if(Gm[l])return o.withTextFontWeight(Gm[l]);if(l==="\\emph")return o.fontShape==="textit"?o.withTextFontShape("textup"):o.withTextFontShape("textit")}else return o;return o.withTextFontShape(a7[l])};pe({type:"text",names:["\\text","\\textrm","\\textsf","\\texttt","\\textnormal","\\textbf","\\textmd","\\textit","\\textup","\\emph"],props:{numArgs:1,argTypes:["text"],allowedInArgument:!0,allowedInText:!0},handler(a,o){let{parser:l,funcName:d}=a;const p=o[0];return{type:"text",mode:l.mode,body:ft(p),font:d}},htmlBuilder(a,o){const l=Km(a,o),d=vt(a.body,l,!0);return Z.makeSpan(["mord","text"],d,l)},mathmlBuilder(a,o){const l=Km(a,o);return On(a.body,l)}}),pe({type:"underline",names:["\\underline"],props:{numArgs:1,allowedInText:!0},handler(a,o){let{parser:l}=a;return{type:"underline",mode:l.mode,body:o[0]}},htmlBuilder(a,o){const l=ze(a.body,o),d=Z.makeLineSpan("underline-line",o),p=o.fontMetrics().defaultRuleThickness,w=Z.makeVList({positionType:"top",positionData:l.height,children:[{type:"kern",size:p},{type:"elem",elem:d},{type:"kern",size:3*p},{type:"elem",elem:l}]},o);return Z.makeSpan(["mord","underline"],[w],o)},mathmlBuilder(a,o){const l=new ae.MathNode("mo",[new ae.TextNode("‾")]);l.setAttribute("stretchy","true");const d=new ae.MathNode("munder",[We(a.body,o),l]);return d.setAttribute("accentunder","true"),d}}),pe({type:"vcenter",names:["\\vcenter"],props:{numArgs:1,argTypes:["original"],allowedInText:!1},handler(a,o){let{parser:l}=a;return{type:"vcenter",mode:l.mode,body:o[0]}},htmlBuilder(a,o){const l=ze(a.body,o),d=o.fontMetrics().axisHeight,p=.5*(l.height-d-(l.depth+d));return Z.makeVList({positionType:"shift",positionData:p,children:[{type:"elem",elem:l}]},o)},mathmlBuilder(a,o){return new ae.MathNode("mpadded",[We(a.body,o)],["vcenter"])}}),pe({type:"verb",names:["\\verb"],props:{numArgs:0,allowedInText:!0},handler(a,o,l){throw new s("\\verb ended by end of line instead of matching delimiter")},htmlBuilder(a,o){const l=Qm(a),d=[],p=o.havingStyle(o.style.text());for(let w=0;w<l.length;w++){let b=l[w];b==="~"&&(b="\\textasciitilde"),d.push(Z.makeSymbol(b,"Typewriter-Regular",a.mode,p,["mord","texttt"]))}return Z.makeSpan(["mord","text"].concat(p.sizingClasses(o)),Z.tryCombineChars(d),p)},mathmlBuilder(a,o){const l=new ae.TextNode(Qm(a)),d=new ae.MathNode("mtext",[l]);return d.setAttribute("mathvariant","monospace"),d}});const Qm=a=>a.body.replace(/ /g,a.star?"␣":" ");var _i=Pa;const Xm=`[ \r
	]`,l7="\\\\[a-zA-Z@]+",u7="\\\\[^\uD800-\uDFFF]",c7="("+l7+")"+Xm+"*",d7=`\\\\(
|[ \r	]+
?)[ \r	]*`,_d="[̀-ͯ]",h7=new RegExp(_d+"+$"),f7="("+Xm+"+)|"+(d7+"|")+"([!-\\[\\]-‧‪-퟿豈-￿]"+(_d+"*")+"|[\uD800-\uDBFF][\uDC00-\uDFFF]"+(_d+"*")+"|\\\\verb\\*([^]).*?\\4|\\\\verb([^*a-zA-Z]).*?\\5"+("|"+c7)+("|"+u7+")");class Ym{constructor(o,l){this.input=void 0,this.settings=void 0,this.tokenRegex=void 0,this.catcodes=void 0,this.input=o,this.settings=l,this.tokenRegex=new RegExp(f7,"g"),this.catcodes={"%":14,"~":13}}setCatcode(o,l){this.catcodes[o]=l}lex(){const o=this.input,l=this.tokenRegex.lastIndex;if(l===o.length)return new Gn("EOF",new Ln(this,l,l));const d=this.tokenRegex.exec(o);if(d===null||d.index!==l)throw new s("Unexpected character: '"+o[l]+"'",new Gn(o[l],new Ln(this,l,l+1)));const p=d[6]||d[3]||(d[2]?"\\ ":" ");if(this.catcodes[p]===14){const w=o.indexOf(`
`,this.tokenRegex.lastIndex);return w===-1?(this.tokenRegex.lastIndex=o.length,this.settings.reportNonstrict("commentAtEnd","% comment has no terminating newline; LaTeX would fail because of commenting the end of math mode (e.g. $)")):this.tokenRegex.lastIndex=w+1,this.lex()}return new Gn(p,new Ln(this,l,this.tokenRegex.lastIndex))}}class p7{constructor(o,l){o===void 0&&(o={}),l===void 0&&(l={}),this.current=void 0,this.builtins=void 0,this.undefStack=void 0,this.current=l,this.builtins=o,this.undefStack=[]}beginGroup(){this.undefStack.push({})}endGroup(){if(this.undefStack.length===0)throw new s("Unbalanced namespace destruction: attempt to pop global namespace; please report this as a bug");const o=this.undefStack.pop();for(const l in o)o.hasOwnProperty(l)&&(o[l]==null?delete this.current[l]:this.current[l]=o[l])}endGroups(){for(;this.undefStack.length>0;)this.endGroup()}has(o){return this.current.hasOwnProperty(o)||this.builtins.hasOwnProperty(o)}get(o){return this.current.hasOwnProperty(o)?this.current[o]:this.builtins[o]}set(o,l,d){if(d===void 0&&(d=!1),d){for(let p=0;p<this.undefStack.length;p++)delete this.undefStack[p][o];this.undefStack.length>0&&(this.undefStack[this.undefStack.length-1][o]=l)}else{const p=this.undefStack[this.undefStack.length-1];p&&!p.hasOwnProperty(o)&&(p[o]=this.current[o])}l==null?delete this.current[o]:this.current[o]=l}}var m7=km;A("\\noexpand",function(a){const o=a.popToken();return a.isExpandable(o.text)&&(o.noexpand=!0,o.treatAsRelax=!0),{tokens:[o],numArgs:0}}),A("\\expandafter",function(a){const o=a.popToken();return a.expandOnce(!0),{tokens:[o],numArgs:0}}),A("\\@firstoftwo",function(a){return{tokens:a.consumeArgs(2)[0],numArgs:0}}),A("\\@secondoftwo",function(a){return{tokens:a.consumeArgs(2)[1],numArgs:0}}),A("\\@ifnextchar",function(a){const o=a.consumeArgs(3);a.consumeSpaces();const l=a.future();return o[0].length===1&&o[0][0].text===l.text?{tokens:o[1],numArgs:0}:{tokens:o[2],numArgs:0}}),A("\\@ifstar","\\@ifnextchar *{\\@firstoftwo{#1}}"),A("\\TextOrMath",function(a){const o=a.consumeArgs(2);return a.mode==="text"?{tokens:o[0],numArgs:0}:{tokens:o[1],numArgs:0}});const Jm={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,a:10,A:10,b:11,B:11,c:12,C:12,d:13,D:13,e:14,E:14,f:15,F:15};A("\\char",function(a){let o=a.popToken(),l,d="";if(o.text==="'")l=8,o=a.popToken();else if(o.text==='"')l=16,o=a.popToken();else if(o.text==="`")if(o=a.popToken(),o.text[0]==="\\")d=o.text.charCodeAt(1);else{if(o.text==="EOF")throw new s("\\char` missing argument");d=o.text.charCodeAt(0)}else l=10;if(l){if(d=Jm[o.text],d==null||d>=l)throw new s("Invalid base-"+l+" digit "+o.text);let p;for(;(p=Jm[a.future().text])!=null&&p<l;)d*=l,d+=p,a.popToken()}return"\\@char{"+d+"}"});const Sd=(a,o,l,d)=>{let p=a.consumeArg().tokens;if(p.length!==1)throw new s("\\newcommand's first argument must be a macro name");const w=p[0].text,b=a.isDefined(w);if(b&&!o)throw new s("\\newcommand{"+w+"} attempting to redefine "+(w+"; use \\renewcommand"));if(!b&&!l)throw new s("\\renewcommand{"+w+"} when command "+w+" does not yet exist; use \\newcommand");let T=0;if(p=a.consumeArg().tokens,p.length===1&&p[0].text==="["){let R="",B=a.expandNextToken();for(;B.text!=="]"&&B.text!=="EOF";)R+=B.text,B=a.expandNextToken();if(!R.match(/^\s*[0-9]+\s*$/))throw new s("Invalid number of arguments: "+R);T=parseInt(R),p=a.consumeArg().tokens}return b&&d||a.macros.set(w,{tokens:p,numArgs:T}),""};A("\\newcommand",a=>Sd(a,!1,!0,!1)),A("\\renewcommand",a=>Sd(a,!0,!1,!1)),A("\\providecommand",a=>Sd(a,!0,!0,!0)),A("\\message",a=>{const o=a.consumeArgs(1)[0];return console.log(o.reverse().map(l=>l.text).join("")),""}),A("\\errmessage",a=>{const o=a.consumeArgs(1)[0];return console.error(o.reverse().map(l=>l.text).join("")),""}),A("\\show",a=>{const o=a.popToken(),l=o.text;return console.log(o,a.macros.get(l),_i[l],it.math[l],it.text[l]),""}),A("\\bgroup","{"),A("\\egroup","}"),A("~","\\nobreakspace"),A("\\lq","`"),A("\\rq","'"),A("\\aa","\\r a"),A("\\AA","\\r A"),A("\\textcopyright","\\html@mathml{\\textcircled{c}}{\\char`©}"),A("\\copyright","\\TextOrMath{\\textcopyright}{\\text{\\textcopyright}}"),A("\\textregistered","\\html@mathml{\\textcircled{\\scriptsize R}}{\\char`®}"),A("ℬ","\\mathscr{B}"),A("ℰ","\\mathscr{E}"),A("ℱ","\\mathscr{F}"),A("ℋ","\\mathscr{H}"),A("ℐ","\\mathscr{I}"),A("ℒ","\\mathscr{L}"),A("ℳ","\\mathscr{M}"),A("ℛ","\\mathscr{R}"),A("ℭ","\\mathfrak{C}"),A("ℌ","\\mathfrak{H}"),A("ℨ","\\mathfrak{Z}"),A("\\Bbbk","\\Bbb{k}"),A("·","\\cdotp"),A("\\llap","\\mathllap{\\textrm{#1}}"),A("\\rlap","\\mathrlap{\\textrm{#1}}"),A("\\clap","\\mathclap{\\textrm{#1}}"),A("\\mathstrut","\\vphantom{(}"),A("\\underbar","\\underline{\\text{#1}}"),A("\\not",'\\html@mathml{\\mathrel{\\mathrlap\\@not}}{\\char"338}'),A("\\neq","\\html@mathml{\\mathrel{\\not=}}{\\mathrel{\\char`≠}}"),A("\\ne","\\neq"),A("≠","\\neq"),A("\\notin","\\html@mathml{\\mathrel{{\\in}\\mathllap{/\\mskip1mu}}}{\\mathrel{\\char`∉}}"),A("∉","\\notin"),A("≘","\\html@mathml{\\mathrel{=\\kern{-1em}\\raisebox{0.4em}{$\\scriptsize\\frown$}}}{\\mathrel{\\char`≘}}"),A("≙","\\html@mathml{\\stackrel{\\tiny\\wedge}{=}}{\\mathrel{\\char`≘}}"),A("≚","\\html@mathml{\\stackrel{\\tiny\\vee}{=}}{\\mathrel{\\char`≚}}"),A("≛","\\html@mathml{\\stackrel{\\scriptsize\\star}{=}}{\\mathrel{\\char`≛}}"),A("≝","\\html@mathml{\\stackrel{\\tiny\\mathrm{def}}{=}}{\\mathrel{\\char`≝}}"),A("≞","\\html@mathml{\\stackrel{\\tiny\\mathrm{m}}{=}}{\\mathrel{\\char`≞}}"),A("≟","\\html@mathml{\\stackrel{\\tiny?}{=}}{\\mathrel{\\char`≟}}"),A("⟂","\\perp"),A("‼","\\mathclose{!\\mkern-0.8mu!}"),A("∌","\\notni"),A("⌜","\\ulcorner"),A("⌝","\\urcorner"),A("⌞","\\llcorner"),A("⌟","\\lrcorner"),A("©","\\copyright"),A("®","\\textregistered"),A("️","\\textregistered"),A("\\ulcorner",'\\html@mathml{\\@ulcorner}{\\mathop{\\char"231c}}'),A("\\urcorner",'\\html@mathml{\\@urcorner}{\\mathop{\\char"231d}}'),A("\\llcorner",'\\html@mathml{\\@llcorner}{\\mathop{\\char"231e}}'),A("\\lrcorner",'\\html@mathml{\\@lrcorner}{\\mathop{\\char"231f}}'),A("\\vdots","{\\varvdots\\rule{0pt}{15pt}}"),A("⋮","\\vdots"),A("\\varGamma","\\mathit{\\Gamma}"),A("\\varDelta","\\mathit{\\Delta}"),A("\\varTheta","\\mathit{\\Theta}"),A("\\varLambda","\\mathit{\\Lambda}"),A("\\varXi","\\mathit{\\Xi}"),A("\\varPi","\\mathit{\\Pi}"),A("\\varSigma","\\mathit{\\Sigma}"),A("\\varUpsilon","\\mathit{\\Upsilon}"),A("\\varPhi","\\mathit{\\Phi}"),A("\\varPsi","\\mathit{\\Psi}"),A("\\varOmega","\\mathit{\\Omega}"),A("\\substack","\\begin{subarray}{c}#1\\end{subarray}"),A("\\colon","\\nobreak\\mskip2mu\\mathpunct{}\\mathchoice{\\mkern-3mu}{\\mkern-3mu}{}{}{:}\\mskip6mu\\relax"),A("\\boxed","\\fbox{$\\displaystyle{#1}$}"),A("\\iff","\\DOTSB\\;\\Longleftrightarrow\\;"),A("\\implies","\\DOTSB\\;\\Longrightarrow\\;"),A("\\impliedby","\\DOTSB\\;\\Longleftarrow\\;"),A("\\dddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ...}}{#1}}"),A("\\ddddot","{\\overset{\\raisebox{-0.1ex}{\\normalsize ....}}{#1}}");const Zm={",":"\\dotsc","\\not":"\\dotsb","+":"\\dotsb","=":"\\dotsb","<":"\\dotsb",">":"\\dotsb","-":"\\dotsb","*":"\\dotsb",":":"\\dotsb","\\DOTSB":"\\dotsb","\\coprod":"\\dotsb","\\bigvee":"\\dotsb","\\bigwedge":"\\dotsb","\\biguplus":"\\dotsb","\\bigcap":"\\dotsb","\\bigcup":"\\dotsb","\\prod":"\\dotsb","\\sum":"\\dotsb","\\bigotimes":"\\dotsb","\\bigoplus":"\\dotsb","\\bigodot":"\\dotsb","\\bigsqcup":"\\dotsb","\\And":"\\dotsb","\\longrightarrow":"\\dotsb","\\Longrightarrow":"\\dotsb","\\longleftarrow":"\\dotsb","\\Longleftarrow":"\\dotsb","\\longleftrightarrow":"\\dotsb","\\Longleftrightarrow":"\\dotsb","\\mapsto":"\\dotsb","\\longmapsto":"\\dotsb","\\hookrightarrow":"\\dotsb","\\doteq":"\\dotsb","\\mathbin":"\\dotsb","\\mathrel":"\\dotsb","\\relbar":"\\dotsb","\\Relbar":"\\dotsb","\\xrightarrow":"\\dotsb","\\xleftarrow":"\\dotsb","\\DOTSI":"\\dotsi","\\int":"\\dotsi","\\oint":"\\dotsi","\\iint":"\\dotsi","\\iiint":"\\dotsi","\\iiiint":"\\dotsi","\\idotsint":"\\dotsi","\\DOTSX":"\\dotsx"};A("\\dots",function(a){let o="\\dotso";const l=a.expandAfterFuture().text;return l in Zm?o=Zm[l]:(l.slice(0,4)==="\\not"||l in it.math&&P.contains(["bin","rel"],it.math[l].group))&&(o="\\dotsb"),o});const Ed={")":!0,"]":!0,"\\rbrack":!0,"\\}":!0,"\\rbrace":!0,"\\rangle":!0,"\\rceil":!0,"\\rfloor":!0,"\\rgroup":!0,"\\rmoustache":!0,"\\right":!0,"\\bigr":!0,"\\biggr":!0,"\\Bigr":!0,"\\Biggr":!0,$:!0,";":!0,".":!0,",":!0};A("\\dotso",function(a){return a.future().text in Ed?"\\ldots\\,":"\\ldots"}),A("\\dotsc",function(a){const o=a.future().text;return o in Ed&&o!==","?"\\ldots\\,":"\\ldots"}),A("\\cdots",function(a){return a.future().text in Ed?"\\@cdots\\,":"\\@cdots"}),A("\\dotsb","\\cdots"),A("\\dotsm","\\cdots"),A("\\dotsi","\\!\\cdots"),A("\\dotsx","\\ldots\\,"),A("\\DOTSI","\\relax"),A("\\DOTSB","\\relax"),A("\\DOTSX","\\relax"),A("\\tmspace","\\TextOrMath{\\kern#1#3}{\\mskip#1#2}\\relax"),A("\\,","\\tmspace+{3mu}{.1667em}"),A("\\thinspace","\\,"),A("\\>","\\mskip{4mu}"),A("\\:","\\tmspace+{4mu}{.2222em}"),A("\\medspace","\\:"),A("\\;","\\tmspace+{5mu}{.2777em}"),A("\\thickspace","\\;"),A("\\!","\\tmspace-{3mu}{.1667em}"),A("\\negthinspace","\\!"),A("\\negmedspace","\\tmspace-{4mu}{.2222em}"),A("\\negthickspace","\\tmspace-{5mu}{.277em}"),A("\\enspace","\\kern.5em "),A("\\enskip","\\hskip.5em\\relax"),A("\\quad","\\hskip1em\\relax"),A("\\qquad","\\hskip2em\\relax"),A("\\tag","\\@ifstar\\tag@literal\\tag@paren"),A("\\tag@paren","\\tag@literal{({#1})}"),A("\\tag@literal",a=>{if(a.macros.get("\\df@tag"))throw new s("Multiple \\tag");return"\\gdef\\df@tag{\\text{#1}}"}),A("\\bmod","\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}\\mathbin{\\rm mod}\\mathchoice{\\mskip1mu}{\\mskip1mu}{\\mskip5mu}{\\mskip5mu}"),A("\\pod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern8mu}{\\mkern8mu}{\\mkern8mu}(#1)"),A("\\pmod","\\pod{{\\rm mod}\\mkern6mu#1}"),A("\\mod","\\allowbreak\\mathchoice{\\mkern18mu}{\\mkern12mu}{\\mkern12mu}{\\mkern12mu}{\\rm mod}\\,\\,#1"),A("\\newline","\\\\\\relax"),A("\\TeX","\\textrm{\\html@mathml{T\\kern-.1667em\\raisebox{-.5ex}{E}\\kern-.125emX}{TeX}}");const e1=he(Dn["Main-Regular"][84][1]-.7*Dn["Main-Regular"][65][1]);A("\\LaTeX","\\textrm{\\html@mathml{"+("L\\kern-.36em\\raisebox{"+e1+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{LaTeX}}"),A("\\KaTeX","\\textrm{\\html@mathml{"+("K\\kern-.17em\\raisebox{"+e1+"}{\\scriptstyle A}")+"\\kern-.15em\\TeX}{KaTeX}}"),A("\\hspace","\\@ifstar\\@hspacer\\@hspace"),A("\\@hspace","\\hskip #1\\relax"),A("\\@hspacer","\\rule{0pt}{0pt}\\hskip #1\\relax"),A("\\ordinarycolon",":"),A("\\vcentcolon","\\mathrel{\\mathop\\ordinarycolon}"),A("\\dblcolon",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-.9mu}\\vcentcolon}}{\\mathop{\\char"2237}}'),A("\\coloneqq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2254}}'),A("\\Coloneqq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}=}}{\\mathop{\\char"2237\\char"3d}}'),A("\\coloneq",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"3a\\char"2212}}'),A("\\Coloneq",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\mathrel{-}}}{\\mathop{\\char"2237\\char"2212}}'),A("\\eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2255}}'),A("\\Eqqcolon",'\\html@mathml{\\mathrel{=\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"3d\\char"2237}}'),A("\\eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\vcentcolon}}{\\mathop{\\char"2239}}'),A("\\Eqcolon",'\\html@mathml{\\mathrel{\\mathrel{-}\\mathrel{\\mkern-1.2mu}\\dblcolon}}{\\mathop{\\char"2212\\char"2237}}'),A("\\colonapprox",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"3a\\char"2248}}'),A("\\Colonapprox",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\approx}}{\\mathop{\\char"2237\\char"2248}}'),A("\\colonsim",'\\html@mathml{\\mathrel{\\vcentcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"3a\\char"223c}}'),A("\\Colonsim",'\\html@mathml{\\mathrel{\\dblcolon\\mathrel{\\mkern-1.2mu}\\sim}}{\\mathop{\\char"2237\\char"223c}}'),A("∷","\\dblcolon"),A("∹","\\eqcolon"),A("≔","\\coloneqq"),A("≕","\\eqqcolon"),A("⩴","\\Coloneqq"),A("\\ratio","\\vcentcolon"),A("\\coloncolon","\\dblcolon"),A("\\colonequals","\\coloneqq"),A("\\coloncolonequals","\\Coloneqq"),A("\\equalscolon","\\eqqcolon"),A("\\equalscoloncolon","\\Eqqcolon"),A("\\colonminus","\\coloneq"),A("\\coloncolonminus","\\Coloneq"),A("\\minuscolon","\\eqcolon"),A("\\minuscoloncolon","\\Eqcolon"),A("\\coloncolonapprox","\\Colonapprox"),A("\\coloncolonsim","\\Colonsim"),A("\\simcolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),A("\\simcoloncolon","\\mathrel{\\sim\\mathrel{\\mkern-1.2mu}\\dblcolon}"),A("\\approxcolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\vcentcolon}"),A("\\approxcoloncolon","\\mathrel{\\approx\\mathrel{\\mkern-1.2mu}\\dblcolon}"),A("\\notni","\\html@mathml{\\not\\ni}{\\mathrel{\\char`∌}}"),A("\\limsup","\\DOTSB\\operatorname*{lim\\,sup}"),A("\\liminf","\\DOTSB\\operatorname*{lim\\,inf}"),A("\\injlim","\\DOTSB\\operatorname*{inj\\,lim}"),A("\\projlim","\\DOTSB\\operatorname*{proj\\,lim}"),A("\\varlimsup","\\DOTSB\\operatorname*{\\overline{lim}}"),A("\\varliminf","\\DOTSB\\operatorname*{\\underline{lim}}"),A("\\varinjlim","\\DOTSB\\operatorname*{\\underrightarrow{lim}}"),A("\\varprojlim","\\DOTSB\\operatorname*{\\underleftarrow{lim}}"),A("\\gvertneqq","\\html@mathml{\\@gvertneqq}{≩}"),A("\\lvertneqq","\\html@mathml{\\@lvertneqq}{≨}"),A("\\ngeqq","\\html@mathml{\\@ngeqq}{≱}"),A("\\ngeqslant","\\html@mathml{\\@ngeqslant}{≱}"),A("\\nleqq","\\html@mathml{\\@nleqq}{≰}"),A("\\nleqslant","\\html@mathml{\\@nleqslant}{≰}"),A("\\nshortmid","\\html@mathml{\\@nshortmid}{∤}"),A("\\nshortparallel","\\html@mathml{\\@nshortparallel}{∦}"),A("\\nsubseteqq","\\html@mathml{\\@nsubseteqq}{⊈}"),A("\\nsupseteqq","\\html@mathml{\\@nsupseteqq}{⊉}"),A("\\varsubsetneq","\\html@mathml{\\@varsubsetneq}{⊊}"),A("\\varsubsetneqq","\\html@mathml{\\@varsubsetneqq}{⫋}"),A("\\varsupsetneq","\\html@mathml{\\@varsupsetneq}{⊋}"),A("\\varsupsetneqq","\\html@mathml{\\@varsupsetneqq}{⫌}"),A("\\imath","\\html@mathml{\\@imath}{ı}"),A("\\jmath","\\html@mathml{\\@jmath}{ȷ}"),A("\\llbracket","\\html@mathml{\\mathopen{[\\mkern-3.2mu[}}{\\mathopen{\\char`⟦}}"),A("\\rrbracket","\\html@mathml{\\mathclose{]\\mkern-3.2mu]}}{\\mathclose{\\char`⟧}}"),A("⟦","\\llbracket"),A("⟧","\\rrbracket"),A("\\lBrace","\\html@mathml{\\mathopen{\\{\\mkern-3.2mu[}}{\\mathopen{\\char`⦃}}"),A("\\rBrace","\\html@mathml{\\mathclose{]\\mkern-3.2mu\\}}}{\\mathclose{\\char`⦄}}"),A("⦃","\\lBrace"),A("⦄","\\rBrace"),A("\\minuso","\\mathbin{\\html@mathml{{\\mathrlap{\\mathchoice{\\kern{0.145em}}{\\kern{0.145em}}{\\kern{0.1015em}}{\\kern{0.0725em}}\\circ}{-}}}{\\char`⦵}}"),A("⦵","\\minuso"),A("\\darr","\\downarrow"),A("\\dArr","\\Downarrow"),A("\\Darr","\\Downarrow"),A("\\lang","\\langle"),A("\\rang","\\rangle"),A("\\uarr","\\uparrow"),A("\\uArr","\\Uparrow"),A("\\Uarr","\\Uparrow"),A("\\N","\\mathbb{N}"),A("\\R","\\mathbb{R}"),A("\\Z","\\mathbb{Z}"),A("\\alef","\\aleph"),A("\\alefsym","\\aleph"),A("\\Alpha","\\mathrm{A}"),A("\\Beta","\\mathrm{B}"),A("\\bull","\\bullet"),A("\\Chi","\\mathrm{X}"),A("\\clubs","\\clubsuit"),A("\\cnums","\\mathbb{C}"),A("\\Complex","\\mathbb{C}"),A("\\Dagger","\\ddagger"),A("\\diamonds","\\diamondsuit"),A("\\empty","\\emptyset"),A("\\Epsilon","\\mathrm{E}"),A("\\Eta","\\mathrm{H}"),A("\\exist","\\exists"),A("\\harr","\\leftrightarrow"),A("\\hArr","\\Leftrightarrow"),A("\\Harr","\\Leftrightarrow"),A("\\hearts","\\heartsuit"),A("\\image","\\Im"),A("\\infin","\\infty"),A("\\Iota","\\mathrm{I}"),A("\\isin","\\in"),A("\\Kappa","\\mathrm{K}"),A("\\larr","\\leftarrow"),A("\\lArr","\\Leftarrow"),A("\\Larr","\\Leftarrow"),A("\\lrarr","\\leftrightarrow"),A("\\lrArr","\\Leftrightarrow"),A("\\Lrarr","\\Leftrightarrow"),A("\\Mu","\\mathrm{M}"),A("\\natnums","\\mathbb{N}"),A("\\Nu","\\mathrm{N}"),A("\\Omicron","\\mathrm{O}"),A("\\plusmn","\\pm"),A("\\rarr","\\rightarrow"),A("\\rArr","\\Rightarrow"),A("\\Rarr","\\Rightarrow"),A("\\real","\\Re"),A("\\reals","\\mathbb{R}"),A("\\Reals","\\mathbb{R}"),A("\\Rho","\\mathrm{P}"),A("\\sdot","\\cdot"),A("\\sect","\\S"),A("\\spades","\\spadesuit"),A("\\sub","\\subset"),A("\\sube","\\subseteq"),A("\\supe","\\supseteq"),A("\\Tau","\\mathrm{T}"),A("\\thetasym","\\vartheta"),A("\\weierp","\\wp"),A("\\Zeta","\\mathrm{Z}"),A("\\argmin","\\DOTSB\\operatorname*{arg\\,min}"),A("\\argmax","\\DOTSB\\operatorname*{arg\\,max}"),A("\\plim","\\DOTSB\\mathop{\\operatorname{plim}}\\limits"),A("\\bra","\\mathinner{\\langle{#1}|}"),A("\\ket","\\mathinner{|{#1}\\rangle}"),A("\\braket","\\mathinner{\\langle{#1}\\rangle}"),A("\\Bra","\\left\\langle#1\\right|"),A("\\Ket","\\left|#1\\right\\rangle");const t1=a=>o=>{const l=o.consumeArg().tokens,d=o.consumeArg().tokens,p=o.consumeArg().tokens,w=o.consumeArg().tokens,b=o.macros.get("|"),T=o.macros.get("\\|");o.macros.beginGroup();const R=Y=>ee=>{a&&(ee.macros.set("|",b),p.length&&ee.macros.set("\\|",T));let ue=Y;return!Y&&p.length&&ee.future().text==="|"&&(ee.popToken(),ue=!0),{tokens:ue?p:d,numArgs:0}};o.macros.set("|",R(!1)),p.length&&o.macros.set("\\|",R(!0));const B=o.consumeArg().tokens,G=o.expandTokens([...w,...B,...l]);return o.macros.endGroup(),{tokens:G.reverse(),numArgs:0}};A("\\bra@ket",t1(!1)),A("\\bra@set",t1(!0)),A("\\Braket","\\bra@ket{\\left\\langle}{\\,\\middle\\vert\\,}{\\,\\middle\\vert\\,}{\\right\\rangle}"),A("\\Set","\\bra@set{\\left\\{\\:}{\\;\\middle\\vert\\;}{\\;\\middle\\Vert\\;}{\\:\\right\\}}"),A("\\set","\\bra@set{\\{\\,}{\\mid}{}{\\,\\}}"),A("\\angln","{\\angl n}"),A("\\blue","\\textcolor{##6495ed}{#1}"),A("\\orange","\\textcolor{##ffa500}{#1}"),A("\\pink","\\textcolor{##ff00af}{#1}"),A("\\red","\\textcolor{##df0030}{#1}"),A("\\green","\\textcolor{##28ae7b}{#1}"),A("\\gray","\\textcolor{gray}{#1}"),A("\\purple","\\textcolor{##9d38bd}{#1}"),A("\\blueA","\\textcolor{##ccfaff}{#1}"),A("\\blueB","\\textcolor{##80f6ff}{#1}"),A("\\blueC","\\textcolor{##63d9ea}{#1}"),A("\\blueD","\\textcolor{##11accd}{#1}"),A("\\blueE","\\textcolor{##0c7f99}{#1}"),A("\\tealA","\\textcolor{##94fff5}{#1}"),A("\\tealB","\\textcolor{##26edd5}{#1}"),A("\\tealC","\\textcolor{##01d1c1}{#1}"),A("\\tealD","\\textcolor{##01a995}{#1}"),A("\\tealE","\\textcolor{##208170}{#1}"),A("\\greenA","\\textcolor{##b6ffb0}{#1}"),A("\\greenB","\\textcolor{##8af281}{#1}"),A("\\greenC","\\textcolor{##74cf70}{#1}"),A("\\greenD","\\textcolor{##1fab54}{#1}"),A("\\greenE","\\textcolor{##0d923f}{#1}"),A("\\goldA","\\textcolor{##ffd0a9}{#1}"),A("\\goldB","\\textcolor{##ffbb71}{#1}"),A("\\goldC","\\textcolor{##ff9c39}{#1}"),A("\\goldD","\\textcolor{##e07d10}{#1}"),A("\\goldE","\\textcolor{##a75a05}{#1}"),A("\\redA","\\textcolor{##fca9a9}{#1}"),A("\\redB","\\textcolor{##ff8482}{#1}"),A("\\redC","\\textcolor{##f9685d}{#1}"),A("\\redD","\\textcolor{##e84d39}{#1}"),A("\\redE","\\textcolor{##bc2612}{#1}"),A("\\maroonA","\\textcolor{##ffbde0}{#1}"),A("\\maroonB","\\textcolor{##ff92c6}{#1}"),A("\\maroonC","\\textcolor{##ed5fa6}{#1}"),A("\\maroonD","\\textcolor{##ca337c}{#1}"),A("\\maroonE","\\textcolor{##9e034e}{#1}"),A("\\purpleA","\\textcolor{##ddd7ff}{#1}"),A("\\purpleB","\\textcolor{##c6b9fc}{#1}"),A("\\purpleC","\\textcolor{##aa87ff}{#1}"),A("\\purpleD","\\textcolor{##7854ab}{#1}"),A("\\purpleE","\\textcolor{##543b78}{#1}"),A("\\mintA","\\textcolor{##f5f9e8}{#1}"),A("\\mintB","\\textcolor{##edf2df}{#1}"),A("\\mintC","\\textcolor{##e0e5cc}{#1}"),A("\\grayA","\\textcolor{##f6f7f7}{#1}"),A("\\grayB","\\textcolor{##f0f1f2}{#1}"),A("\\grayC","\\textcolor{##e3e5e6}{#1}"),A("\\grayD","\\textcolor{##d6d8da}{#1}"),A("\\grayE","\\textcolor{##babec2}{#1}"),A("\\grayF","\\textcolor{##888d93}{#1}"),A("\\grayG","\\textcolor{##626569}{#1}"),A("\\grayH","\\textcolor{##3b3e40}{#1}"),A("\\grayI","\\textcolor{##21242c}{#1}"),A("\\kaBlue","\\textcolor{##314453}{#1}"),A("\\kaGreen","\\textcolor{##71B307}{#1}");const n1={"^":!0,_:!0,"\\limits":!0,"\\nolimits":!0};class g7{constructor(o,l,d){this.settings=void 0,this.expansionCount=void 0,this.lexer=void 0,this.macros=void 0,this.stack=void 0,this.mode=void 0,this.settings=l,this.expansionCount=0,this.feed(o),this.macros=new p7(m7,l.macros),this.mode=d,this.stack=[]}feed(o){this.lexer=new Ym(o,this.settings)}switchMode(o){this.mode=o}beginGroup(){this.macros.beginGroup()}endGroup(){this.macros.endGroup()}endGroups(){this.macros.endGroups()}future(){return this.stack.length===0&&this.pushToken(this.lexer.lex()),this.stack[this.stack.length-1]}popToken(){return this.future(),this.stack.pop()}pushToken(o){this.stack.push(o)}pushTokens(o){this.stack.push(...o)}scanArgument(o){let l,d,p;if(o){if(this.consumeSpaces(),this.future().text!=="[")return null;l=this.popToken(),{tokens:p,end:d}=this.consumeArg(["]"])}else({tokens:p,start:l,end:d}=this.consumeArg());return this.pushToken(new Gn("EOF",d.loc)),this.pushTokens(p),l.range(d,"")}consumeSpaces(){for(;this.future().text===" ";)this.stack.pop()}consumeArg(o){const l=[],d=o&&o.length>0;d||this.consumeSpaces();const p=this.future();let w,b=0,T=0;do{if(w=this.popToken(),l.push(w),w.text==="{")++b;else if(w.text==="}"){if(--b,b===-1)throw new s("Extra }",w)}else if(w.text==="EOF")throw new s("Unexpected end of input in a macro argument, expected '"+(o&&d?o[T]:"}")+"'",w);if(o&&d)if((b===0||b===1&&o[T]==="{")&&w.text===o[T]){if(++T,T===o.length){l.splice(-T,T);break}}else T=0}while(b!==0||d);return p.text==="{"&&l[l.length-1].text==="}"&&(l.pop(),l.shift()),l.reverse(),{tokens:l,start:p,end:w}}consumeArgs(o,l){if(l){if(l.length!==o+1)throw new s("The length of delimiters doesn't match the number of args!");const p=l[0];for(let w=0;w<p.length;w++){const b=this.popToken();if(p[w]!==b.text)throw new s("Use of the macro doesn't match its definition",b)}}const d=[];for(let p=0;p<o;p++)d.push(this.consumeArg(l&&l[p+1]).tokens);return d}countExpansion(o){if(this.expansionCount+=o,this.expansionCount>this.settings.maxExpand)throw new s("Too many expansions: infinite loop or need to increase maxExpand setting")}expandOnce(o){const l=this.popToken(),d=l.text,p=l.noexpand?null:this._getExpansion(d);if(p==null||o&&p.unexpandable){if(o&&p==null&&d[0]==="\\"&&!this.isDefined(d))throw new s("Undefined control sequence: "+d);return this.pushToken(l),!1}this.countExpansion(1);let w=p.tokens;const b=this.consumeArgs(p.numArgs,p.delimiters);if(p.numArgs){w=w.slice();for(let T=w.length-1;T>=0;--T){let R=w[T];if(R.text==="#"){if(T===0)throw new s("Incomplete placeholder at end of macro body",R);if(R=w[--T],R.text==="#")w.splice(T+1,1);else if(/^[1-9]$/.test(R.text))w.splice(T,2,...b[+R.text-1]);else throw new s("Not a valid argument number",R)}}}return this.pushTokens(w),w.length}expandAfterFuture(){return this.expandOnce(),this.future()}expandNextToken(){for(;;)if(this.expandOnce()===!1){const o=this.stack.pop();return o.treatAsRelax&&(o.text="\\relax"),o}throw new Error}expandMacro(o){return this.macros.has(o)?this.expandTokens([new Gn(o)]):void 0}expandTokens(o){const l=[],d=this.stack.length;for(this.pushTokens(o);this.stack.length>d;)if(this.expandOnce(!0)===!1){const p=this.stack.pop();p.treatAsRelax&&(p.noexpand=!1,p.treatAsRelax=!1),l.push(p)}return this.countExpansion(l.length),l}expandMacroAsText(o){const l=this.expandMacro(o);return l&&l.map(d=>d.text).join("")}_getExpansion(o){const l=this.macros.get(o);if(l==null)return l;if(o.length===1){const p=this.lexer.catcodes[o];if(p!=null&&p!==13)return}const d=typeof l=="function"?l(this):l;if(typeof d=="string"){let p=0;if(d.indexOf("#")!==-1){const B=d.replace(/##/g,"");for(;B.indexOf("#"+(p+1))!==-1;)++p}const w=new Ym(d,this.settings),b=[];let T=w.lex();for(;T.text!=="EOF";)b.push(T),T=w.lex();return b.reverse(),{tokens:b,numArgs:p}}return d}isDefined(o){return this.macros.has(o)||_i.hasOwnProperty(o)||it.math.hasOwnProperty(o)||it.text.hasOwnProperty(o)||n1.hasOwnProperty(o)}isExpandable(o){const l=this.macros.get(o);return l!=null?typeof l=="string"||typeof l=="function"||!l.unexpandable:_i.hasOwnProperty(o)&&!_i[o].primitive}}const r1=/^[₊₋₌₍₎₀₁₂₃₄₅₆₇₈₉ₐₑₕᵢⱼₖₗₘₙₒₚᵣₛₜᵤᵥₓᵦᵧᵨᵩᵪ]/,Mu=Object.freeze({"₊":"+","₋":"-","₌":"=","₍":"(","₎":")","₀":"0","₁":"1","₂":"2","₃":"3","₄":"4","₅":"5","₆":"6","₇":"7","₈":"8","₉":"9","ₐ":"a","ₑ":"e","ₕ":"h","ᵢ":"i","ⱼ":"j","ₖ":"k","ₗ":"l","ₘ":"m","ₙ":"n","ₒ":"o","ₚ":"p","ᵣ":"r","ₛ":"s","ₜ":"t","ᵤ":"u","ᵥ":"v","ₓ":"x","ᵦ":"β","ᵧ":"γ","ᵨ":"ρ","ᵩ":"ϕ","ᵪ":"χ","⁺":"+","⁻":"-","⁼":"=","⁽":"(","⁾":")","⁰":"0","¹":"1","²":"2","³":"3","⁴":"4","⁵":"5","⁶":"6","⁷":"7","⁸":"8","⁹":"9","ᴬ":"A","ᴮ":"B","ᴰ":"D","ᴱ":"E","ᴳ":"G","ᴴ":"H","ᴵ":"I","ᴶ":"J","ᴷ":"K","ᴸ":"L","ᴹ":"M","ᴺ":"N","ᴼ":"O","ᴾ":"P","ᴿ":"R","ᵀ":"T","ᵁ":"U","ⱽ":"V","ᵂ":"W","ᵃ":"a","ᵇ":"b","ᶜ":"c","ᵈ":"d","ᵉ":"e","ᶠ":"f","ᵍ":"g",ʰ:"h","ⁱ":"i",ʲ:"j","ᵏ":"k",ˡ:"l","ᵐ":"m",ⁿ:"n","ᵒ":"o","ᵖ":"p",ʳ:"r",ˢ:"s","ᵗ":"t","ᵘ":"u","ᵛ":"v",ʷ:"w",ˣ:"x",ʸ:"y","ᶻ":"z","ᵝ":"β","ᵞ":"γ","ᵟ":"δ","ᵠ":"ϕ","ᵡ":"χ","ᶿ":"θ"}),Td={"́":{text:"\\'",math:"\\acute"},"̀":{text:"\\`",math:"\\grave"},"̈":{text:'\\"',math:"\\ddot"},"̃":{text:"\\~",math:"\\tilde"},"̄":{text:"\\=",math:"\\bar"},"̆":{text:"\\u",math:"\\breve"},"̌":{text:"\\v",math:"\\check"},"̂":{text:"\\^",math:"\\hat"},"̇":{text:"\\.",math:"\\dot"},"̊":{text:"\\r",math:"\\mathring"},"̋":{text:"\\H"},"̧":{text:"\\c"}},i1={á:"á",à:"à",ä:"ä",ǟ:"ǟ",ã:"ã",ā:"ā",ă:"ă",ắ:"ắ",ằ:"ằ",ẵ:"ẵ",ǎ:"ǎ",â:"â",ấ:"ấ",ầ:"ầ",ẫ:"ẫ",ȧ:"ȧ",ǡ:"ǡ",å:"å",ǻ:"ǻ",ḃ:"ḃ",ć:"ć",ḉ:"ḉ",č:"č",ĉ:"ĉ",ċ:"ċ",ç:"ç",ď:"ď",ḋ:"ḋ",ḑ:"ḑ",é:"é",è:"è",ë:"ë",ẽ:"ẽ",ē:"ē",ḗ:"ḗ",ḕ:"ḕ",ĕ:"ĕ",ḝ:"ḝ",ě:"ě",ê:"ê",ế:"ế",ề:"ề",ễ:"ễ",ė:"ė",ȩ:"ȩ",ḟ:"ḟ",ǵ:"ǵ",ḡ:"ḡ",ğ:"ğ",ǧ:"ǧ",ĝ:"ĝ",ġ:"ġ",ģ:"ģ",ḧ:"ḧ",ȟ:"ȟ",ĥ:"ĥ",ḣ:"ḣ",ḩ:"ḩ",í:"í",ì:"ì",ï:"ï",ḯ:"ḯ",ĩ:"ĩ",ī:"ī",ĭ:"ĭ",ǐ:"ǐ",î:"î",ǰ:"ǰ",ĵ:"ĵ",ḱ:"ḱ",ǩ:"ǩ",ķ:"ķ",ĺ:"ĺ",ľ:"ľ",ļ:"ļ",ḿ:"ḿ",ṁ:"ṁ",ń:"ń",ǹ:"ǹ",ñ:"ñ",ň:"ň",ṅ:"ṅ",ņ:"ņ",ó:"ó",ò:"ò",ö:"ö",ȫ:"ȫ",õ:"õ",ṍ:"ṍ",ṏ:"ṏ",ȭ:"ȭ",ō:"ō",ṓ:"ṓ",ṑ:"ṑ",ŏ:"ŏ",ǒ:"ǒ",ô:"ô",ố:"ố",ồ:"ồ",ỗ:"ỗ",ȯ:"ȯ",ȱ:"ȱ",ő:"ő",ṕ:"ṕ",ṗ:"ṗ",ŕ:"ŕ",ř:"ř",ṙ:"ṙ",ŗ:"ŗ",ś:"ś",ṥ:"ṥ",š:"š",ṧ:"ṧ",ŝ:"ŝ",ṡ:"ṡ",ş:"ş",ẗ:"ẗ",ť:"ť",ṫ:"ṫ",ţ:"ţ",ú:"ú",ù:"ù",ü:"ü",ǘ:"ǘ",ǜ:"ǜ",ǖ:"ǖ",ǚ:"ǚ",ũ:"ũ",ṹ:"ṹ",ū:"ū",ṻ:"ṻ",ŭ:"ŭ",ǔ:"ǔ",û:"û",ů:"ů",ű:"ű",ṽ:"ṽ",ẃ:"ẃ",ẁ:"ẁ",ẅ:"ẅ",ŵ:"ŵ",ẇ:"ẇ",ẘ:"ẘ",ẍ:"ẍ",ẋ:"ẋ",ý:"ý",ỳ:"ỳ",ÿ:"ÿ",ỹ:"ỹ",ȳ:"ȳ",ŷ:"ŷ",ẏ:"ẏ",ẙ:"ẙ",ź:"ź",ž:"ž",ẑ:"ẑ",ż:"ż",Á:"Á",À:"À",Ä:"Ä",Ǟ:"Ǟ",Ã:"Ã",Ā:"Ā",Ă:"Ă",Ắ:"Ắ",Ằ:"Ằ",Ẵ:"Ẵ",Ǎ:"Ǎ",Â:"Â",Ấ:"Ấ",Ầ:"Ầ",Ẫ:"Ẫ",Ȧ:"Ȧ",Ǡ:"Ǡ",Å:"Å",Ǻ:"Ǻ",Ḃ:"Ḃ",Ć:"Ć",Ḉ:"Ḉ",Č:"Č",Ĉ:"Ĉ",Ċ:"Ċ",Ç:"Ç",Ď:"Ď",Ḋ:"Ḋ",Ḑ:"Ḑ",É:"É",È:"È",Ë:"Ë",Ẽ:"Ẽ",Ē:"Ē",Ḗ:"Ḗ",Ḕ:"Ḕ",Ĕ:"Ĕ",Ḝ:"Ḝ",Ě:"Ě",Ê:"Ê",Ế:"Ế",Ề:"Ề",Ễ:"Ễ",Ė:"Ė",Ȩ:"Ȩ",Ḟ:"Ḟ",Ǵ:"Ǵ",Ḡ:"Ḡ",Ğ:"Ğ",Ǧ:"Ǧ",Ĝ:"Ĝ",Ġ:"Ġ",Ģ:"Ģ",Ḧ:"Ḧ",Ȟ:"Ȟ",Ĥ:"Ĥ",Ḣ:"Ḣ",Ḩ:"Ḩ",Í:"Í",Ì:"Ì",Ï:"Ï",Ḯ:"Ḯ",Ĩ:"Ĩ",Ī:"Ī",Ĭ:"Ĭ",Ǐ:"Ǐ",Î:"Î",İ:"İ",Ĵ:"Ĵ",Ḱ:"Ḱ",Ǩ:"Ǩ",Ķ:"Ķ",Ĺ:"Ĺ",Ľ:"Ľ",Ļ:"Ļ",Ḿ:"Ḿ",Ṁ:"Ṁ",Ń:"Ń",Ǹ:"Ǹ",Ñ:"Ñ",Ň:"Ň",Ṅ:"Ṅ",Ņ:"Ņ",Ó:"Ó",Ò:"Ò",Ö:"Ö",Ȫ:"Ȫ",Õ:"Õ",Ṍ:"Ṍ",Ṏ:"Ṏ",Ȭ:"Ȭ",Ō:"Ō",Ṓ:"Ṓ",Ṑ:"Ṑ",Ŏ:"Ŏ",Ǒ:"Ǒ",Ô:"Ô",Ố:"Ố",Ồ:"Ồ",Ỗ:"Ỗ",Ȯ:"Ȯ",Ȱ:"Ȱ",Ő:"Ő",Ṕ:"Ṕ",Ṗ:"Ṗ",Ŕ:"Ŕ",Ř:"Ř",Ṙ:"Ṙ",Ŗ:"Ŗ",Ś:"Ś",Ṥ:"Ṥ",Š:"Š",Ṧ:"Ṧ",Ŝ:"Ŝ",Ṡ:"Ṡ",Ş:"Ş",Ť:"Ť",Ṫ:"Ṫ",Ţ:"Ţ",Ú:"Ú",Ù:"Ù",Ü:"Ü",Ǘ:"Ǘ",Ǜ:"Ǜ",Ǖ:"Ǖ",Ǚ:"Ǚ",Ũ:"Ũ",Ṹ:"Ṹ",Ū:"Ū",Ṻ:"Ṻ",Ŭ:"Ŭ",Ǔ:"Ǔ",Û:"Û",Ů:"Ů",Ű:"Ű",Ṽ:"Ṽ",Ẃ:"Ẃ",Ẁ:"Ẁ",Ẅ:"Ẅ",Ŵ:"Ŵ",Ẇ:"Ẇ",Ẍ:"Ẍ",Ẋ:"Ẋ",Ý:"Ý",Ỳ:"Ỳ",Ÿ:"Ÿ",Ỹ:"Ỹ",Ȳ:"Ȳ",Ŷ:"Ŷ",Ẏ:"Ẏ",Ź:"Ź",Ž:"Ž",Ẑ:"Ẑ",Ż:"Ż",ά:"ά",ὰ:"ὰ",ᾱ:"ᾱ",ᾰ:"ᾰ",έ:"έ",ὲ:"ὲ",ή:"ή",ὴ:"ὴ",ί:"ί",ὶ:"ὶ",ϊ:"ϊ",ΐ:"ΐ",ῒ:"ῒ",ῑ:"ῑ",ῐ:"ῐ",ό:"ό",ὸ:"ὸ",ύ:"ύ",ὺ:"ὺ",ϋ:"ϋ",ΰ:"ΰ",ῢ:"ῢ",ῡ:"ῡ",ῠ:"ῠ",ώ:"ώ",ὼ:"ὼ",Ύ:"Ύ",Ὺ:"Ὺ",Ϋ:"Ϋ",Ῡ:"Ῡ",Ῠ:"Ῠ",Ώ:"Ώ",Ὼ:"Ὼ"};class Du{constructor(o,l){this.mode=void 0,this.gullet=void 0,this.settings=void 0,this.leftrightDepth=void 0,this.nextToken=void 0,this.mode="math",this.gullet=new g7(o,l,this.mode),this.settings=l,this.leftrightDepth=0}expect(o,l){if(l===void 0&&(l=!0),this.fetch().text!==o)throw new s("Expected '"+o+"', got '"+this.fetch().text+"'",this.fetch());l&&this.consume()}consume(){this.nextToken=null}fetch(){return this.nextToken==null&&(this.nextToken=this.gullet.expandNextToken()),this.nextToken}switchMode(o){this.mode=o,this.gullet.switchMode(o)}parse(){this.settings.globalGroup||this.gullet.beginGroup(),this.settings.colorIsTextColor&&this.gullet.macros.set("\\color","\\textcolor");try{const o=this.parseExpression(!1);return this.expect("EOF"),this.settings.globalGroup||this.gullet.endGroup(),o}finally{this.gullet.endGroups()}}subparse(o){const l=this.nextToken;this.consume(),this.gullet.pushToken(new Gn("}")),this.gullet.pushTokens(o);const d=this.parseExpression(!1);return this.expect("}"),this.nextToken=l,d}parseExpression(o,l){const d=[];for(;;){this.mode==="math"&&this.consumeSpaces();const p=this.fetch();if(Du.endOfExpression.indexOf(p.text)!==-1||l&&p.text===l||o&&_i[p.text]&&_i[p.text].infix)break;const w=this.parseAtom(l);if(w){if(w.type==="internal")continue}else break;d.push(w)}return this.mode==="text"&&this.formLigatures(d),this.handleInfixNodes(d)}handleInfixNodes(o){let l=-1,d;for(let p=0;p<o.length;p++)if(o[p].type==="infix"){if(l!==-1)throw new s("only one infix operator per group",o[p].token);l=p,d=o[p].replaceWith}if(l!==-1&&d){let p,w;const b=o.slice(0,l),T=o.slice(l+1);b.length===1&&b[0].type==="ordgroup"?p=b[0]:p={type:"ordgroup",mode:this.mode,body:b},T.length===1&&T[0].type==="ordgroup"?w=T[0]:w={type:"ordgroup",mode:this.mode,body:T};let R;return d==="\\\\abovefrac"?R=this.callFunction(d,[p,o[l],w],[]):R=this.callFunction(d,[p,w],[]),[R]}else return o}handleSupSubscript(o){const l=this.fetch(),d=l.text;this.consume(),this.consumeSpaces();let p;do{var w;p=this.parseGroup(o)}while(((w=p)==null?void 0:w.type)==="internal");if(!p)throw new s("Expected group after '"+d+"'",l);return p}formatUnsupportedCmd(o){const l=[];for(let w=0;w<o.length;w++)l.push({type:"textord",mode:"text",text:o[w]});const d={type:"text",mode:this.mode,body:l};return{type:"color",mode:this.mode,color:this.settings.errorColor,body:[d]}}parseAtom(o){const l=this.parseGroup("atom",o);if((l==null?void 0:l.type)==="internal"||this.mode==="text")return l;let d,p;for(;;){this.consumeSpaces();const w=this.fetch();if(w.text==="\\limits"||w.text==="\\nolimits"){if(l&&l.type==="op"){const b=w.text==="\\limits";l.limits=b,l.alwaysHandleSupSub=!0}else if(l&&l.type==="operatorname")l.alwaysHandleSupSub&&(l.limits=w.text==="\\limits");else throw new s("Limit controls must follow a math operator",w);this.consume()}else if(w.text==="^"){if(d)throw new s("Double superscript",w);d=this.handleSupSubscript("superscript")}else if(w.text==="_"){if(p)throw new s("Double subscript",w);p=this.handleSupSubscript("subscript")}else if(w.text==="'"){if(d)throw new s("Double superscript",w);const b={type:"textord",mode:this.mode,text:"\\prime"},T=[b];for(this.consume();this.fetch().text==="'";)T.push(b),this.consume();this.fetch().text==="^"&&T.push(this.handleSupSubscript("superscript")),d={type:"ordgroup",mode:this.mode,body:T}}else if(Mu[w.text]){const b=r1.test(w.text),T=[];for(T.push(new Gn(Mu[w.text])),this.consume();;){const B=this.fetch().text;if(!Mu[B]||r1.test(B)!==b)break;T.unshift(new Gn(Mu[B])),this.consume()}const R=this.subparse(T);b?p={type:"ordgroup",mode:"math",body:R}:d={type:"ordgroup",mode:"math",body:R}}else break}return d||p?{type:"supsub",mode:this.mode,base:l,sup:d,sub:p}:l}parseFunction(o,l){const d=this.fetch(),p=d.text,w=_i[p];if(!w)return null;if(this.consume(),l&&l!=="atom"&&!w.allowedInArgument)throw new s("Got function '"+p+"' with no arguments"+(l?" as "+l:""),d);if(this.mode==="text"&&!w.allowedInText)throw new s("Can't use function '"+p+"' in text mode",d);if(this.mode==="math"&&w.allowedInMath===!1)throw new s("Can't use function '"+p+"' in math mode",d);const{args:b,optArgs:T}=this.parseArguments(p,w);return this.callFunction(p,b,T,d,o)}callFunction(o,l,d,p,w){const b={funcName:o,parser:this,token:p,breakOnTokenText:w},T=_i[o];if(T&&T.handler)return T.handler(b,l,d);throw new s("No function handler for "+o)}parseArguments(o,l){const d=l.numArgs+l.numOptionalArgs;if(d===0)return{args:[],optArgs:[]};const p=[],w=[];for(let b=0;b<d;b++){let T=l.argTypes&&l.argTypes[b];const R=b<l.numOptionalArgs;(l.primitive&&T==null||l.type==="sqrt"&&b===1&&w[0]==null)&&(T="primitive");const B=this.parseGroupOfType("argument to '"+o+"'",T,R);if(R)w.push(B);else if(B!=null)p.push(B);else throw new s("Null argument, please report this as a bug")}return{args:p,optArgs:w}}parseGroupOfType(o,l,d){switch(l){case"color":return this.parseColorGroup(d);case"size":return this.parseSizeGroup(d);case"url":return this.parseUrlGroup(d);case"math":case"text":return this.parseArgumentGroup(d,l);case"hbox":{const p=this.parseArgumentGroup(d,"text");return p!=null?{type:"styling",mode:p.mode,body:[p],style:"text"}:null}case"raw":{const p=this.parseStringGroup("raw",d);return p!=null?{type:"raw",mode:"text",string:p.text}:null}case"primitive":{if(d)throw new s("A primitive argument cannot be optional");const p=this.parseGroup(o);if(p==null)throw new s("Expected group as "+o,this.fetch());return p}case"original":case null:case void 0:return this.parseArgumentGroup(d);default:throw new s("Unknown group type as "+o,this.fetch())}}consumeSpaces(){for(;this.fetch().text===" ";)this.consume()}parseStringGroup(o,l){const d=this.gullet.scanArgument(l);if(d==null)return null;let p="",w;for(;(w=this.fetch()).text!=="EOF";)p+=w.text,this.consume();return this.consume(),d.text=p,d}parseRegexGroup(o,l){const d=this.fetch();let p=d,w="",b;for(;(b=this.fetch()).text!=="EOF"&&o.test(w+b.text);)p=b,w+=p.text,this.consume();if(w==="")throw new s("Invalid "+l+": '"+d.text+"'",d);return d.range(p,w)}parseColorGroup(o){const l=this.parseStringGroup("color",o);if(l==null)return null;const d=/^(#[a-f0-9]{3}|#?[a-f0-9]{6}|[a-z]+)$/i.exec(l.text);if(!d)throw new s("Invalid color: '"+l.text+"'",l);let p=d[0];return/^[0-9a-f]{6}$/i.test(p)&&(p="#"+p),{type:"color-token",mode:this.mode,color:p}}parseSizeGroup(o){let l,d=!1;if(this.gullet.consumeSpaces(),!o&&this.gullet.future().text!=="{"?l=this.parseRegexGroup(/^[-+]? *(?:$|\d+|\d+\.\d*|\.\d*) *[a-z]{0,2} *$/,"size"):l=this.parseStringGroup("size",o),!l)return null;!o&&l.text.length===0&&(l.text="0pt",d=!0);const p=/([-+]?) *(\d+(?:\.\d*)?|\.\d+) *([a-z]{2})/.exec(l.text);if(!p)throw new s("Invalid size: '"+l.text+"'",l);const w={number:+(p[1]+p[2]),unit:p[3]};if(!Ea(w))throw new s("Invalid unit: '"+w.unit+"'",l);return{type:"size",mode:this.mode,value:w,isBlank:d}}parseUrlGroup(o){this.gullet.lexer.setCatcode("%",13),this.gullet.lexer.setCatcode("~",12);const l=this.parseStringGroup("url",o);if(this.gullet.lexer.setCatcode("%",14),this.gullet.lexer.setCatcode("~",13),l==null)return null;const d=l.text.replace(/\\([#$%&~_^{}])/g,"$1");return{type:"url",mode:this.mode,url:d}}parseArgumentGroup(o,l){const d=this.gullet.scanArgument(o);if(d==null)return null;const p=this.mode;l&&this.switchMode(l),this.gullet.beginGroup();const w=this.parseExpression(!1,"EOF");this.expect("EOF"),this.gullet.endGroup();const b={type:"ordgroup",mode:this.mode,loc:d.loc,body:w};return l&&this.switchMode(p),b}parseGroup(o,l){const d=this.fetch(),p=d.text;let w;if(p==="{"||p==="\\begingroup"){this.consume();const b=p==="{"?"}":"\\endgroup";this.gullet.beginGroup();const T=this.parseExpression(!1,b),R=this.fetch();this.expect(b),this.gullet.endGroup(),w={type:"ordgroup",mode:this.mode,loc:Ln.range(d,R),body:T,semisimple:p==="\\begingroup"||void 0}}else if(w=this.parseFunction(l,o)||this.parseSymbol(),w==null&&p[0]==="\\"&&!n1.hasOwnProperty(p)){if(this.settings.throwOnError)throw new s("Undefined control sequence: "+p,d);w=this.formatUnsupportedCmd(p),this.consume()}return w}formLigatures(o){let l=o.length-1;for(let d=0;d<l;++d){const p=o[d],w=p.text;w==="-"&&o[d+1].text==="-"&&(d+1<l&&o[d+2].text==="-"?(o.splice(d,3,{type:"textord",mode:"text",loc:Ln.range(p,o[d+2]),text:"---"}),l-=2):(o.splice(d,2,{type:"textord",mode:"text",loc:Ln.range(p,o[d+1]),text:"--"}),l-=1)),(w==="'"||w==="`")&&o[d+1].text===w&&(o.splice(d,2,{type:"textord",mode:"text",loc:Ln.range(p,o[d+1]),text:w+w}),l-=1)}}parseSymbol(){const o=this.fetch();let l=o.text;if(/^\\verb[^a-zA-Z]/.test(l)){this.consume();let w=l.slice(5);const b=w.charAt(0)==="*";if(b&&(w=w.slice(1)),w.length<2||w.charAt(0)!==w.slice(-1))throw new s(`\\verb assertion failed --
                    please report what input caused this bug`);return w=w.slice(1,-1),{type:"verb",mode:"text",body:w,star:b}}i1.hasOwnProperty(l[0])&&!it[this.mode][l[0]]&&(this.settings.strict&&this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Accented Unicode text character "'+l[0]+'" used in math mode',o),l=i1[l[0]]+l.slice(1));const d=h7.exec(l);d&&(l=l.substring(0,d.index),l==="i"?l="ı":l==="j"&&(l="ȷ"));let p;if(it[this.mode][l]){this.settings.strict&&this.mode==="math"&&ds.indexOf(l)>=0&&this.settings.reportNonstrict("unicodeTextInMathMode",'Latin-1/Unicode text character "'+l[0]+'" used in math mode',o);const w=it[this.mode][l].group,b=Ln.range(o);let T;if(yu.hasOwnProperty(w)){const R=w;T={type:"atom",mode:this.mode,family:R,loc:b,text:l}}else T={type:w,mode:this.mode,loc:b,text:l};p=T}else if(l.charCodeAt(0)>=128)this.settings.strict&&(Pt(l.charCodeAt(0))?this.mode==="math"&&this.settings.reportNonstrict("unicodeTextInMathMode",'Unicode text character "'+l[0]+'" used in math mode',o):this.settings.reportNonstrict("unknownSymbol",'Unrecognized Unicode character "'+l[0]+'"'+(" ("+l.charCodeAt(0)+")"),o)),p={type:"textord",mode:"text",loc:Ln.range(o),text:l};else return null;if(this.consume(),d)for(let w=0;w<d[0].length;w++){const b=d[0][w];if(!Td[b])throw new s("Unknown accent ' "+b+"'",o);const T=Td[b][this.mode]||Td[b].text;if(!T)throw new s("Accent "+b+" unsupported in "+this.mode+" mode",o);p={type:"accent",mode:this.mode,loc:Ln.range(o),label:T,isStretchy:!1,isShifty:!0,base:p}}return p}}Du.endOfExpression=["}","\\endgroup","\\end","\\right","&"];var kd=function(a,o){if(!(typeof a=="string"||a instanceof String))throw new TypeError("KaTeX can only parse string typed expression");const l=new Du(a,o);delete l.gullet.macros.current["\\df@tag"];let d=l.parse();if(delete l.gullet.macros.current["\\current@color"],delete l.gullet.macros.current["\\color"],l.gullet.macros.get("\\df@tag")){if(!o.displayMode)throw new s("\\tag works only in display equations");d=[{type:"tag",mode:"text",body:d,tag:l.subparse([new Gn("\\df@tag")])}]}return d};let s1=function(a,o,l){o.textContent="";const d=Ad(a,l).toNode();o.appendChild(d)};typeof document<"u"&&document.compatMode!=="CSS1Compat"&&(typeof console<"u"&&console.warn("Warning: KaTeX doesn't work in quirks mode. Make sure your website has a suitable doctype."),s1=function(){throw new s("KaTeX doesn't work in quirks mode.")});const y7=function(a,o){return Ad(a,o).toMarkup()},v7=function(a,o){const l=new K(o);return kd(a,l)},o1=function(a,o,l){if(l.throwOnError||!(a instanceof s))throw a;const d=Z.makeSpan(["katex-error"],[new mn(o)]);return d.setAttribute("title",a.toString()),d.setAttribute("style","color:"+l.errorColor),d},Ad=function(a,o){const l=new K(o);try{const d=kd(a,l);return ws(d,a,l)}catch(d){return o1(d,a,l)}};var w7={version:"0.16.22",render:s1,renderToString:y7,ParseError:s,SETTINGS_SCHEMA:M,__parse:v7,__renderToDomTree:Ad,__renderToHTMLTree:function(a,o){const l=new K(o);try{const d=kd(a,l);return ku(d,a,l)}catch(d){return o1(d,a,l)}},__setFontMetrics:ed,__defineSymbol:m,__defineFunction:pe,__defineMacro:A,__domTree:{Span:sr,Anchor:ls,SymbolNode:mn,SvgNode:kn,PathNode:or,LineNode:Ur}},x7=w7;return r=r.default,r}()})}(vh)),vh.exports}(function(t,e){(function(n,r){r(e,re,lA(),uA())})(r2,function(n,r,i,s){Object.defineProperty(n,"__esModule",{value:!0});function u(Q,P){for(var M in P)Object.defineProperty(Q,M,{enumerable:!0,get:P[M]})}u(n,{BlockMath:()=>q,InlineMath:()=>X}),r=y(r),i=h(i),s=h(s);function h(Q){return Q&&Q.__esModule?Q:{default:Q}}function f(Q){if(typeof WeakMap!="function")return null;var P=new WeakMap,M=new WeakMap;return(f=function(L){return L?M:P})(Q)}function y(Q,P){if(Q&&Q.__esModule)return Q;if(Q===null||typeof Q!="object"&&typeof Q!="function")return{default:Q};var M=f(P);if(M&&M.has(Q))return M.get(Q);var L={},K=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var te in Q)if(te!=="default"&&Object.prototype.hasOwnProperty.call(Q,te)){var ie=K?Object.getOwnPropertyDescriptor(Q,te):null;ie&&(ie.get||ie.set)?Object.defineProperty(L,te,ie):L[te]=Q[te]}return L.default=Q,M&&M.set(Q,L),L}const _=(Q,{displayMode:P})=>{const M=({children:L,errorColor:K,math:te,renderError:ie})=>{const z=te??L,{html:C,error:D}=(0,r.useMemo)(()=>{try{return{html:s.default.renderToString(z,{displayMode:P,errorColor:K,throwOnError:!!ie}),error:void 0}}catch(O){if(O instanceof s.default.ParseError||O instanceof TypeError)return{error:O};throw O}},[z,K,ie]);return D?ie?ie(D):r.default.createElement(Q,{html:`${D.message}`}):r.default.createElement(Q,{html:C})};return M.propTypes={children:i.default.string,errorColor:i.default.string,math:i.default.string,renderError:i.default.func},M},E={html:i.default.string.isRequired},I=({html:Q})=>r.default.createElement("div",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:Q}});I.propTypes=E;const U=({html:Q})=>r.default.createElement("span",{"data-testid":"react-katex",dangerouslySetInnerHTML:{__html:Q}});U.propTypes=E;const q=_(I,{displayMode:!0}),X=_(U,{displayMode:!1})})})(zf,zf.exports);var a0=zf.exports;const cA=()=>{const{weekId:t,challengeId:e}=ha(),[n,r]=re.useState(`# Escribe tu solución aquí
import numpy as np

def optimizar_funcion(x0, y0, alpha=0.01, iteraciones=100):
    # Implementa el algoritmo de descenso de gradiente
    # para encontrar el mínimo de la función
    pass
`),[i,s]=re.useState("\\nabla f(x,y) = (2xy, x^2 + 2xy)"),[u,h]=re.useState(null),[f,y]=re.useState(1),_=()=>{i.includes("\\nabla f(x,y)")&&i.includes("2xy")&&i.includes("x^2 + 2xy")?(y(2),h(null)):h({passed:!1,testsPassed:0,totalTests:0,feedback:"Tu solución analítica no es correcta. Revisa las derivadas parciales."})},E=()=>{const I=Math.floor(Math.random()*5)+1,U=I===5;h({passed:U,testsPassed:I,totalTests:5,feedback:U?"¡Excelente! Has completado el reto satisfactoriamente.":`Tu algoritmo pasa ${I}/5 tests. Sigue intentando.`}),U&&console.log("Reto completado con éxito")};return k.jsxs("div",{className:"container mx-auto px-4 py-8",children:[k.jsx("div",{className:"mb-6",children:k.jsxs(_n,{to:`/semana/${t}`,className:"text-primary-600 hover:underline",children:["← Volver a Semana ",t]})}),k.jsxs("h1",{className:"text-3xl font-bold mb-6",children:["Reto ",e,": Optimización con Gradientes"]}),k.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:[k.jsxs("div",{className:"mb-6",children:[k.jsx("h2",{className:"text-xl font-semibold mb-3",children:"Descripción del Reto"}),k.jsx("p",{className:"text-gray-700 mb-4",children:"Este reto combina teoría y práctica. Primero deberás encontrar el gradiente de una función, y luego implementar un algoritmo de descenso de gradiente para encontrar su mínimo."}),k.jsxs("div",{className:"mb-6 p-4 bg-amber-50 rounded-lg",children:[k.jsx("h3",{className:"font-medium mb-2",children:"Objetivo:"}),k.jsxs("p",{children:["Optimizar la función ",k.jsx(a0.InlineMath,{math:"f(x,y) = x^2y + xy^2"})," utilizando el método de descenso de gradiente."]})]})]}),f===1&&k.jsxs("div",{className:"mb-8",children:[k.jsx("h3",{className:"text-lg font-medium mb-3",children:"Paso 1: Encontrar el gradiente analíticamente"}),k.jsxs("div",{className:"mb-4",children:[k.jsxs("p",{children:["Encuentra el gradiente de ",k.jsx(a0.InlineMath,{math:"f(x,y) = x^2y + xy^2"})," e ingrésalo usando LaTeX:"]}),k.jsx("div",{className:"h-24 border rounded-md p-3 mt-2",children:k.jsx("textarea",{className:"w-full h-full resize-none",value:i,onChange:I=>s(I.target.value),placeholder:"Escribe tu solución usando notación LaTeX..."})})]}),k.jsxs("div",{className:"mb-4",children:[k.jsx("p",{className:"mb-2",children:"Vista previa:"}),k.jsx("div",{className:"p-4 bg-gray-50 rounded-md",children:k.jsx(a0.BlockMath,{math:i})})]}),k.jsx("div",{className:"flex justify-end",children:k.jsx("button",{onClick:_,className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700",children:"Verificar y continuar"})})]}),f===2&&k.jsxs("div",{className:"mb-6",children:[k.jsx("h3",{className:"text-lg font-medium mb-3",children:"Paso 2: Implementar el descenso de gradiente"}),k.jsxs("p",{className:"mb-4",children:["Ahora que has calculado el gradiente ",k.jsx(a0.BlockMath,{math:i}),", implementa el algoritmo de descenso de gradiente para encontrar el mínimo de la función."]}),k.jsx("div",{className:"h-80 border rounded-md overflow-hidden mb-4",children:k.jsx(Hy,{height:"100%",defaultLanguage:"python",value:n,onChange:I=>r(I||""),theme:"vs-dark",options:{minimap:{enabled:!1},fontSize:14}})}),k.jsx("div",{className:"flex justify-end",children:k.jsx("button",{onClick:E,className:"bg-primary-600 text-white px-4 py-2 rounded-md hover:bg-primary-700",children:"Ejecutar y verificar"})})]}),u&&k.jsxs("div",{className:"mt-6 p-4 rounded-lg bg-gray-50",children:[k.jsx("h3",{className:"text-lg font-medium mb-2",children:"Resultado:"}),u.testsPassed!==void 0&&k.jsx("div",{className:"mb-3",children:k.jsxs("div",{className:"flex items-center",children:[k.jsx("span",{className:"font-medium",children:"Tests pasados:"}),k.jsxs("span",{className:"ml-2",children:[u.testsPassed,"/",u.totalTests]})]})}),k.jsx("div",{className:`p-3 rounded-md ${u.passed?"bg-green-50 text-green-800":"bg-red-50 text-red-800"}`,children:u.feedback})]})]})]})},dA={lesson:"📚",exercise:"📝",code:"💻",quiz:"🧠"},hA=({weekId:t,moduleId:e,activities:n,onActivityClick:r})=>{const{getModuleScore:i,isModulePassed:s}=eu(),u=i(Number(t),Number(e)),h=s(Number(t),Number(e)),f=n.reduce((y,_)=>y+(pr[_.type]||0),0);return k.jsxs("div",{className:"w-full mb-8",children:[k.jsxs("div",{className:"flex items-center justify-between mb-4",children:[k.jsx("h3",{className:"text-lg font-semibold",children:"Actividades del módulo"}),k.jsxs("div",{className:"text-sm font-medium",children:[k.jsx("span",{children:"Puntuación: "}),k.jsxs("span",{className:h?"text-green-600":"text-amber-600",children:[u,"/",f]}),k.jsxs("span",{className:"ml-2 text-gray-600",children:["Mínimo: ",Z0]})]})]}),k.jsx("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:n.map(y=>k.jsx("div",{className:`border rounded-lg overflow-hidden ${y.completed?"border-green-300 bg-green-50":y.locked?"border-gray-300 bg-gray-50 opacity-75":"border-blue-300 bg-blue-50"}`,children:k.jsxs("div",{className:"p-4",children:[k.jsx("div",{className:"text-2xl mb-2",children:dA[y.type]}),k.jsx("h4",{className:"font-medium mb-1 truncate",children:y.title}),k.jsxs("div",{className:"flex items-center justify-between text-xs mb-3",children:[k.jsx("span",{className:"text-gray-500 bg-gray-100 px-2 py-1 rounded",children:y.type==="lesson"?"Lección":y.type==="exercise"?"Ejercicio":y.type==="code"?"Práctica de código":"Cuestionario final"}),k.jsxs("span",{className:"font-medium text-blue-600",children:[pr[y.type]," pts"]})]}),y.locked?k.jsxs("div",{className:"flex items-center justify-center text-gray-500 text-sm bg-gray-200 p-2 rounded",children:[k.jsx("span",{className:"mr-1",children:"🔒"})," Bloqueado"]}):y.completed?k.jsxs("div",{className:"flex items-center justify-center text-green-600 text-sm bg-green-100 p-2 rounded",children:[k.jsx("span",{className:"mr-1",children:"✓"})," Completado"]}):k.jsx("button",{onClick:()=>r(y),className:"w-full text-sm bg-blue-600 text-white py-2 px-3 rounded hover:bg-blue-700 transition-colors",children:"Iniciar actividad"})]})},`${y.type}-${y.id}`))})]})},fA=({weekId:t,moduleId:e,title:n,questions:r,onComplete:i})=>{const{completeQuiz:s}=eu(),[u,h]=re.useState(0),[f,y]=re.useState(Array(r.length).fill(-1)),[_,E]=re.useState(!1),[I,U]=re.useState(0),q=L=>{if(_)return;const K=[...f];K[u]=L,y(K)},X=()=>{u<r.length-1&&h(u+1)},Q=()=>{u>0&&h(u-1)},P=()=>{const L=r.length,K=r.filter((ie,z)=>ie.correctAnswer===f[z]).length;return Math.round(K/L*pr.quiz)},M=()=>{const L=f.findIndex(te=>te===-1);if(L!==-1){h(L),alert("Por favor responde todas las preguntas antes de enviar.");return}const K=P();U(K),E(!0),s(Number(t),Number(e),K)};if(_){const L=r.length,K=r.filter((te,ie)=>te.correctAnswer===f[ie]).length;return k.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[k.jsxs("h2",{className:"text-xl font-semibold mb-4",children:[n," - Resultados"]}),k.jsxs("div",{className:"text-center py-6",children:[k.jsxs("div",{className:"text-4xl font-bold mb-2",children:[I,"/",pr.quiz]}),k.jsxs("p",{className:"text-gray-600 mb-4",children:["Respondiste correctamente ",K," de ",L," preguntas"]}),k.jsx("div",{className:`text-lg font-medium mb-6 ${I>=pr.quiz/2?"text-green-600":"text-red-600"}`,children:I>=pr.quiz/2?"¡Buen trabajo!":"Necesitas mejorar. Repasa el contenido del módulo."}),k.jsx("button",{onClick:i,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700",children:"Volver al módulo"})]}),k.jsxs("div",{className:"mt-8 border-t pt-6",children:[k.jsx("h3",{className:"font-medium mb-4",children:"Revisión de respuestas:"}),r.map((te,ie)=>k.jsxs("div",{className:"mb-4 pb-4 border-b last:border-b-0",children:[k.jsxs("p",{className:"font-medium mb-2",children:[ie+1,". ",te.question]}),k.jsx("div",{className:"grid gap-2",children:te.options.map((z,C)=>k.jsxs("div",{className:`p-2 rounded ${f[ie]===C&&te.correctAnswer===C?"bg-green-100 border border-green-300":f[ie]===C&&te.correctAnswer!==C?"bg-red-100 border border-red-300":te.correctAnswer===C?"bg-green-50 border border-green-200":"bg-gray-50 border border-gray-200"}`,children:[z,f[ie]===C&&te.correctAnswer===C&&k.jsx("span",{className:"ml-2 text-green-600",children:"✓ Tu respuesta (correcta)"}),f[ie]===C&&te.correctAnswer!==C&&k.jsx("span",{className:"ml-2 text-red-600",children:"✗ Tu respuesta (incorrecta)"}),f[ie]!==C&&te.correctAnswer===C&&k.jsx("span",{className:"ml-2 text-green-600",children:"✓ Respuesta correcta"})]},C))})]},te.id))]})]})}return k.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[k.jsx("h2",{className:"text-xl font-semibold mb-4",children:n}),k.jsxs("div",{className:"mb-6",children:[k.jsxs("div",{className:"flex justify-between items-center mb-4",children:[k.jsxs("span",{className:"text-sm font-medium text-gray-600",children:["Pregunta ",u+1," de ",r.length]}),k.jsxs("span",{className:"text-sm font-medium text-blue-600",children:[pr.quiz," puntos posibles"]})]}),k.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-4",children:k.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${f.filter(L=>L!==-1).length/r.length*100}%`}})})]}),k.jsxs("div",{className:"mb-8",children:[k.jsxs("h3",{className:"text-lg font-medium mb-4",children:[u+1,". ",r[u].question]}),k.jsx("div",{className:"space-y-3",children:r[u].options.map((L,K)=>k.jsx("div",{onClick:()=>q(K),className:`p-3 border rounded-lg cursor-pointer hover:bg-gray-50 ${f[u]===K?"border-blue-400 bg-blue-50":"border-gray-300"}`,children:k.jsxs("div",{className:"flex items-start",children:[k.jsx("div",{className:`w-5 h-5 rounded-full border flex-shrink-0 flex items-center justify-center mr-3 ${f[u]===K?"border-blue-500 bg-blue-500":"border-gray-400"}`,children:f[u]===K&&k.jsx("span",{className:"text-white text-xs",children:"✓"})}),k.jsx("span",{children:L})]})},K))})]}),k.jsxs("div",{className:"flex justify-between",children:[k.jsx("button",{onClick:Q,disabled:u===0,className:`px-4 py-2 rounded-md ${u===0?"bg-gray-200 text-gray-400 cursor-not-allowed":"bg-gray-200 text-gray-800 hover:bg-gray-300"}`,children:"Anterior"}),u<r.length-1?k.jsx("button",{onClick:X,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"Siguiente"}):k.jsx("button",{onClick:M,className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700",children:"Enviar respuestas"})]})]})},n2={1:{id:"1",title:"Introducción al Cálculo Multivariante",description:"Fundamentos y conceptos básicos del cálculo multivariante",activities:[{id:"1",title:"Fundamentos matemáticos",type:"lesson",content:`
          <h3>Fundamentos Matemáticos para Cálculo Multivariante</h3>
          <p>En esta lección aprenderás los conceptos fundamentales necesarios para entender el cálculo de múltiples variables.</p>
          <ul>
            <li>Repaso de funciones de una variable</li>
            <li>Concepto de espacio vectorial</li>
            <li>Introducción a las funciones de varias variables</li>
          </ul>
        `,locked:!1,completed:!1},{id:"2",title:"Ejercicio: Dominios y rangos",type:"exercise",content:`
          <h3>Ejercicio: Dominios y Rangos</h3>
          <p>Determina el dominio y rango de las siguientes funciones:</p>
          <ol>
            <li>f(x, y) = √(1 - x² - y²)</li>
            <li>g(x, y) = ln(x - y)</li>
            <li>h(x, y, z) = 1/(x² + y² + z²)</li>
          </ol>
        `,locked:!1,completed:!1},{id:"3",title:"Visualización de funciones",type:"code",content:`
          <h3>Práctica de Código: Visualización de Funciones</h3>
          <p>Implementa una visualización para la función f(x,y) = x² + y² usando Python y matplotlib.</p>
          <pre>
import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D

# Define la función
def f(x, y):
    return x**2 + y**2

# Crea una malla de puntos
x = np.linspace(-5, 5, 100)
y = np.linspace(-5, 5, 100)
X, Y = np.meshgrid(x, y)
Z = f(X, Y)

# Visualiza la superficie
fig = plt.figure(figsize=(10, 8))
ax = fig.add_subplot(111, projection='3d')
surface = ax.plot_surface(X, Y, Z, cmap='viridis')
plt.show()
          </pre>
        `,locked:!1,completed:!1},{id:"4",title:"Cuestionario final",type:"quiz",questions:[{id:"1",question:"¿Cuál es el dominio de la función f(x,y) = √(1-x²-y²)?",options:["Todos los números reales (x,y)","Los puntos (x,y) tales que x² + y² ≤ 1","Los puntos (x,y) tales que x² + y² < 1","Los puntos (x,y) tales que x² + y² > 1"],correctAnswer:1},{id:"2",question:"Si f(x,y) = x²y + xy², ¿cuál es ∂f/∂x?",options:["2xy + y²","x² + 2xy","2xy","x² + y²"],correctAnswer:0},{id:"3",question:"Para la función f(x,y) = e^(x+y), el valor de ∂²f/∂x∂y es:",options:["e^(x+y)","0","e^x + e^y","ye^(x+y)"],correctAnswer:0},{id:"4",question:"La representación gráfica de f(x,y) = x² + y² corresponde a:",options:["Un plano","Un paraboloide elíptico","Un hiperboloide","Una esfera"],correctAnswer:1},{id:"5",question:"Si v = (3,4) y w = (1,2), entonces v·w (producto escalar) es:",options:["11","5","(3,8)","(4,6)"],correctAnswer:0}],locked:!1,completed:!1}]},2:{id:"2",title:"Vectores y Espacio Vectorial",description:"Conceptos y aplicaciones de los vectores en el cálculo multivariante",activities:[{id:"1",title:"Fundamentos matemáticos",type:"lesson",content:`
          <h3>Fundamentos de Vectores y Espacio Vectorial</h3>
          <p>En esta lección aprenderás los conceptos fundamentales de vectores y espacios vectoriales.</p>
          <ul>
            <li>Definición de vector y operaciones básicas</li>
            <li>Propiedades de los espacios vectoriales</li>
            <li>Bases y dimensión</li>
          </ul>
        `,locked:!1,completed:!1},{id:"2",title:"Ejercicio: Operaciones vectoriales",type:"exercise",content:`
          <h3>Ejercicio: Operaciones Vectoriales</h3>
          <p>Realiza las siguientes operaciones con vectores:</p>
          <ol>
            <li>Si u = (1,2,3) y v = (4,5,6), calcula u + v, u - v, y 2u</li>
            <li>Calcula el producto escalar u·v y la norma ||u||</li>
            <li>Determina si los vectores (1,1,1) y (2,2,2) son linealmente independientes</li>
          </ol>
        `,locked:!1,completed:!1},{id:"3",title:"Visualización de vectores",type:"code",content:`
          <h3>Práctica de Código: Visualización de Vectores</h3>
          <p>Implementa la visualización de vectores en el espacio 3D usando Python y matplotlib.</p>
          <pre>
import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D

# Definir vectores
u = np.array([1, 2, 3])
v = np.array([4, 5, 6])
w = u + v

# Crear figura 3D
fig = plt.figure(figsize=(10, 8))
ax = fig.add_subplot(111, projection='3d')

# Dibujar vectores como flechas desde el origen
# Vector u
ax.quiver(0, 0, 0, u[0], u[1], u[2], color='r', arrow_length_ratio=0.1, label='u')

# Vector v
ax.quiver(0, 0, 0, v[0], v[1], v[2], color='g', arrow_length_ratio=0.1, label='v')

# Vector w = u + v
ax.quiver(0, 0, 0, w[0], w[1], w[2], color='b', arrow_length_ratio=0.1, label='u+v')

# Configurar gráfico
ax.set_xlim([0, max(u[0], v[0], w[0])+1])
ax.set_ylim([0, max(u[1], v[1], w[1])+1])
ax.set_zlim([0, max(u[2], v[2], w[2])+1])
ax.set_xlabel('X')
ax.set_ylabel('Y')
ax.set_zlabel('Z')
ax.legend()
plt.title('Visualización de Vectores en 3D')
plt.show()
          </pre>
        `,locked:!1,completed:!1},{id:"4",title:"Cuestionario final",type:"quiz",questions:[{id:"1",question:"¿Cuál de las siguientes opciones define un espacio vectorial?",options:["Cualquier conjunto de vectores","Un conjunto con operaciones de suma y multiplicación por escalar que cumplen axiomas específicos","Un conjunto de números reales","Un sistema de ecuaciones lineales"],correctAnswer:1},{id:"2",question:"Si u = (2,3,4) y v = (1,0,2), ¿cuál es el producto escalar u·v?",options:["5","8","10","12"],correctAnswer:2},{id:"3",question:"La norma del vector (3,4) es:",options:["5","7","25","3.5"],correctAnswer:0},{id:"4",question:"Dos vectores son ortogonales si:",options:["Son paralelos","Tienen la misma longitud","Su producto escalar es cero","Su suma es el vector nulo"],correctAnswer:2},{id:"5",question:"El producto vectorial u×v en R³ es:",options:["Un número real","Un vector perpendicular a u y v","La suma de u y v","Un escalar que representa el área del paralelogramo formado por u y v"],correctAnswer:1}],locked:!1,completed:!1}]},3:{id:"3",title:"Derivadas Parciales",description:"Conceptos y aplicaciones de las derivadas parciales",activities:[{id:"1",title:"Concepto de derivada parcial",type:"lesson",content:`
          <h3>Concepto de Derivada Parcial</h3>
          <p>En esta lección aprenderás qué son las derivadas parciales y cómo calcularlas.</p>
          <ul>
            <li>Definición de derivada parcial</li>
            <li>Interpretación geométrica</li>
            <li>Cálculo de derivadas parciales</li>
          </ul>
        `,locked:!1,completed:!1},{id:"2",title:"Ejercicio: Cálculo de derivadas parciales",type:"exercise",content:`
          <h3>Ejercicio: Cálculo de Derivadas Parciales</h3>
          <p>Calcula las derivadas parciales de las siguientes funciones:</p>
          <ol>
            <li>f(x,y) = x²y + y³</li>
            <li>g(x,y) = e^(x+y) + ln(xy)</li>
            <li>h(x,y,z) = x²y + yz + xz²</li>
          </ol>
        `,locked:!1,completed:!1},{id:"3",title:"Visualización de derivadas parciales",type:"code",content:`
          <h3>Práctica de Código: Visualización de Derivadas Parciales</h3>
          <p>Implementa un programa en Python para visualizar derivadas parciales.</p>
          <pre>
import numpy as np
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
import sympy as sp

# Definir variables simbólicas
x, y = sp.symbols('x y')

# Definir la función
f = x**2 + y**2

# Calcular derivadas parciales simbólicamente
df_dx = sp.diff(f, x)
df_dy = sp.diff(f, y)

# Convertir a funciones numéricas para matplotlib
f_lambda = sp.lambdify((x, y), f, 'numpy')
df_dx_lambda = sp.lambdify((x, y), df_dx, 'numpy')
df_dy_lambda = sp.lambdify((x, y), df_dy, 'numpy')

# Crear una malla de puntos
x_vals = np.linspace(-2, 2, 100)
y_vals = np.linspace(-2, 2, 100)
X, Y = np.meshgrid(x_vals, y_vals)
Z = f_lambda(X, Y)

# Calcular derivadas parciales en la malla
DZ_DX = df_dx_lambda(X, Y)
DZ_DY = df_dy_lambda(X, Y)

# Crear figura con subfiguras
fig = plt.figure(figsize=(18, 6))

# Función original
ax1 = fig.add_subplot(131, projection='3d')
surf = ax1.plot_surface(X, Y, Z, cmap='viridis', alpha=0.8)
ax1.set_title('Función f(x,y) = x² + y²')
ax1.set_xlabel('x')
ax1.set_ylabel('y')
ax1.set_zlabel('f(x,y)')

# Derivada parcial respecto a x
ax2 = fig.add_subplot(132, projection='3d')
surf_dx = ax2.plot_surface(X, Y, DZ_DX, cmap='plasma', alpha=0.8)
ax2.set_title('Derivada parcial ∂f/∂x = 2x')
ax2.set_xlabel('x')
ax2.set_ylabel('y')
ax2.set_zlabel('∂f/∂x')

# Derivada parcial respecto a y
ax3 = fig.add_subplot(133, projection='3d')
surf_dy = ax3.plot_surface(X, Y, DZ_DY, cmap='inferno', alpha=0.8)
ax3.set_title('Derivada parcial ∂f/∂y = 2y')
ax3.set_xlabel('x')
ax3.set_ylabel('y')
ax3.set_zlabel('∂f/∂y')

plt.tight_layout()
plt.show()
          </pre>
        `,locked:!1,completed:!1},{id:"4",title:"Cuestionario final",type:"quiz",questions:[{id:"1",question:"La derivada parcial de f(x,y) = x²y con respecto a x es:",options:["2xy","x²","y","2x"],correctAnswer:0},{id:"2",question:"La interpretación geométrica de la derivada parcial ∂f/∂x en un punto (a,b) es:",options:["La pendiente de la tangente a la curva que resulta de la intersección de la superficie z=f(x,y) con el plano x=a","La pendiente de la tangente a la curva que resulta de la intersección de la superficie z=f(x,y) con el plano y=b","La tasa de cambio de f en dirección del vector unitario i","La tasa de cambio de f en dirección del vector unitario j"],correctAnswer:1},{id:"3",question:"Si f(x,y) = e^(x+y), entonces ∂²f/∂x∂y es:",options:["e^(x+y)","0","e^x + e^y","ye^(x+y)"],correctAnswer:0},{id:"4",question:"La derivada parcial de f(x,y,z) = xyz con respecto a z es:",options:["xy","xz","yz","x+y+z"],correctAnswer:0},{id:"5",question:"Para la función f(x,y) = ln(x²+y²), el valor de ∂f/∂x en el punto (1,1) es:",options:["1","1/2","2","1/√2"],correctAnswer:1}],locked:!1,completed:!1}]},4:{id:"4",title:"Gradiente y Derivadas Direccionales",description:"Aplicaciones del gradiente en el análisis de funciones multivariantes",activities:[{id:"1",title:"Fundamentos del gradiente",type:"lesson",content:`
          <h3>Fundamentos del Gradiente</h3>
          <p>En esta lección aprenderás sobre el gradiente y su importancia en cálculo multivariante.</p>
          <ul>
            <li>Definición del vector gradiente</li>
            <li>Interpretación geométrica</li>
            <li>Propiedades del gradiente</li>
          </ul>
        `,locked:!1,completed:!1},{id:"2",title:"Ejercicio: Cálculo de gradientes",type:"exercise",content:`
          <h3>Ejercicio: Cálculo de Gradientes</h3>
          <p>Calcula el gradiente de las siguientes funciones y evalúalo en los puntos indicados:</p>
          <ol>
            <li>f(x,y) = x² + 2xy + y², en el punto (1,2)</li>
            <li>g(x,y,z) = xe^(y+z), en el punto (1,0,0)</li>
            <li>h(x,y) = ln(x² + y²), en el punto (3,4)</li>
          </ol>
        `,locked:!1,completed:!1},{id:"3",title:"Visualización de gradientes",type:"code",content:`
          <h3>Práctica de Código: Visualización de Gradientes</h3>
          <p>Implementa un programa en Python para visualizar el campo gradiente de una función.</p>
          <pre>
import numpy as np
import matplotlib.pyplot as plt

# Definir la función
def f(x, y):
    return x**2 + y**2

# Definir el gradiente
def grad_f(x, y):
    return np.array([2*x, 2*y])

# Crear una malla de puntos
x = np.linspace(-2, 2, 10)
y = np.linspace(-2, 2, 10)
X, Y = np.meshgrid(x, y)
Z = f(X, Y)

# Calcular los componentes del gradiente en cada punto
U = np.zeros_like(X)
V = np.zeros_like(Y)

for i in range(len(x)):
    for j in range(len(y)):
        grad = grad_f(X[i,j], Y[i,j])
        U[i,j] = grad[0]
        V[i,j] = grad[1]

# Crear la visualización
plt.figure(figsize=(10, 8))

# Dibujar curvas de nivel
contour = plt.contour(X, Y, Z, 20, cmap='viridis')
plt.clabel(contour, inline=True, fontsize=8)

# Dibujar el campo de gradiente como vectores
plt.quiver(X, Y, U, V, color='r', scale=50)

plt.title('Campo Gradiente de f(x,y) = x² + y²')
plt.xlabel('x')
plt.ylabel('y')
plt.grid(True)
plt.axis('equal')
plt.show()
          </pre>
        `,locked:!1,completed:!1},{id:"4",title:"Cuestionario final",type:"quiz",questions:[{id:"1",question:"El gradiente de una función escalar f es:",options:["Un número real","Un vector con componentes que son las derivadas parciales de f","Una matriz","Un tensor"],correctAnswer:1},{id:"2",question:"El gradiente de f(x,y) = x²y + xy² en el punto (1,1) es:",options:["(3,3)","(2,2)","(1,1)","(4,4)"],correctAnswer:0},{id:"3",question:"La dirección de máximo crecimiento de una función f en un punto P está dada por:",options:["La dirección del vector posición de P","La dirección del gradiente de f en P","La dirección de la tangente a la curva de nivel en P","La dirección perpendicular al gradiente en P"],correctAnswer:1},{id:"4",question:"La derivada direccional de f en la dirección de un vector unitario u es:",options:["El producto punto entre ∇f y u","El producto cruz entre ∇f y u","La magnitud de ∇f","La proyección de u sobre ∇f"],correctAnswer:0},{id:"5",question:"Si el gradiente de f en un punto es cero, entonces ese punto es:",options:["Siempre un máximo","Siempre un mínimo","Un punto crítico (puede ser máximo, mínimo o punto de silla)","Un punto de inflexión"],correctAnswer:2}],locked:!1,completed:!1}]}},pA=()=>{const{weekId:t,moduleId:e}=ha(),n=Zl(),[r,i]=re.useState("overview"),[s,u]=re.useState(null),{completedActivities:h,getModuleScore:f,isModulePassed:y,completeActivity:_,completeWeek:E}=eu(),I=()=>{Number(e)===Object.keys(n2).length&&E(Number(t)),n(`/semana/${t}`)},U=e?n2[e]:null,[q,X]=re.useState([]);if(re.useEffect(()=>{if(U){const L=`${t}:${e}`,K=h[L]||{lessons:[],exercises:[],code:[],quiz:!1},te=U.activities.map((ie,z)=>{let C=!1,D=!1;if(ie.type==="lesson"?C=K.lessons.includes(ie.id):ie.type==="exercise"?C=K.exercises.includes(ie.id):ie.type==="code"?C=K.code.includes(ie.id):ie.type==="quiz"&&(C=K.quiz),ie.type==="quiz"){const O=U.activities.filter(W=>W.type!=="quiz");D=O.reduce((W,j)=>j.type==="lesson"&&K.lessons.includes(j.id)||j.type==="exercise"&&K.exercises.includes(j.id)||j.type==="code"&&K.code.includes(j.id)?W+1:W,0)<O.length}else if(z>0){const O=U.activities[z-1];O.type==="lesson"?D=!K.lessons.includes(O.id):O.type==="exercise"?D=!K.exercises.includes(O.id):O.type==="code"&&(D=!K.code.includes(O.id))}return{...ie,locked:D,completed:C}});X(te)}},[t,e,U,h]),!U)return k.jsx("div",{children:"Módulo no encontrado"});const Q=L=>{L.locked||(u(L),i("activity"))},P=L=>{!t||!e||(_(Number(t),Number(e),L.type,L.id),X(q.map(K=>K.id===L.id&&K.type===L.type?{...K,completed:!0}:K)))},M=()=>{i("overview"),u(null)};return r==="overview"?k.jsxs("div",{className:"container mx-auto px-4 py-8",children:[k.jsx("h1",{className:"text-3xl font-bold mb-2",children:U.title}),k.jsx("p",{className:"text-gray-600 mb-4",children:U.description}),y(Number(t),Number(e))&&Number(e)<4&&k.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4 mb-6 flex justify-between items-center",children:[k.jsxs("div",{children:[k.jsx("h3",{className:"text-green-700 font-medium",children:"¡Felicidades! Has completado este módulo con éxito."}),k.jsxs("p",{className:"text-green-600",children:["Puntuación: ",f(Number(t),Number(e)),"/50 (Mínimo: ",Z0,")"]})]}),k.jsx("button",{onClick:I,className:"bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700 transition-colors",children:"Desbloquear siguiente módulo"})]}),k.jsx(hA,{weekId:t??"",moduleId:e??"",activities:q,onActivityClick:Q}),k.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[k.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Acerca de este módulo"}),k.jsxs("p",{className:"mb-4",children:["Este módulo contiene ",q.filter(L=>L.type==="lesson").length," lecciones,",q.filter(L=>L.type==="exercise").length," ejercicios,",q.filter(L=>L.type==="code").length," prácticas de código y un cuestionario final para evaluar tu aprendizaje."]}),k.jsxs("p",{className:"mb-4",children:["Debes completar las actividades en orden y obtener al menos ",Z0," puntos para aprobar el módulo y desbloquear el siguiente."]}),k.jsxs("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 rounded",children:[k.jsx("h3",{className:"font-medium text-blue-800 mb-2",children:"Requisitos para aprobar"}),k.jsxs("ul",{className:"list-disc list-inside text-blue-800",children:[k.jsx("li",{children:"Completar las lecciones (5 puntos cada una)"}),k.jsx("li",{children:"Realizar los ejercicios (5 puntos cada uno)"}),k.jsx("li",{children:"Implementar las prácticas de código (10 puntos cada una)"}),k.jsx("li",{children:"Aprobar el cuestionario final (hasta 30 puntos)"})]})]})]})]}):r==="activity"&&s?s.type==="quiz"?k.jsx(fA,{weekId:t??"",moduleId:e??"",title:s.title,questions:s.questions,onComplete:M}):s.type==="lesson"?k.jsx(O5,{}):k.jsx("div",{className:"container mx-auto px-4 py-8",children:k.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[k.jsx("h2",{className:"text-xl font-semibold mb-4",children:s.title}),"content"in s&&s.content&&k.jsx("div",{className:"prose max-w-none mb-8",dangerouslySetInnerHTML:{__html:s.content}}),"completed"in s&&!s.completed&&k.jsx("button",{onClick:()=>{P(s),i("overview")},className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700",children:"Marcar como completado"})]})}):k.jsx("div",{children:"Cargando..."})},mA=()=>{const t=da(),e=t.pathname.startsWith("/semana/1"),n=()=>t.pathname.includes("/leccion/")?"leccion":t.pathname.includes("/ejercicio-analitico/")?"ejercicio-analitico":t.pathname.includes("/ejercicio-codigo/")?"ejercicio-codigo":t.pathname.includes("/reto/")?"reto":"",r=()=>{const i=n();return{leccion:"Lección","ejercicio-analitico":"Ejercicio Analítico","ejercicio-codigo":"Ejercicio de Código",reto:"Reto"}[i]||"Semana 1"};if(e){const i=n();return k.jsx("header",{className:"bg-primary-600 text-white",children:k.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between",children:[k.jsxs("div",{children:[k.jsx(_n,{to:"/",className:"text-xl font-bold",children:"Semana 1"}),i&&k.jsxs("span",{className:"text-white/80 ml-2 text-lg",children:["› ",r()]})]}),k.jsxs("nav",{className:"flex items-center space-x-4",children:[k.jsx(_n,{to:"/semana/1/leccion/1",className:`px-3 py-1 rounded-md ${i==="leccion"?"bg-white/20 text-white font-medium":"hover:bg-white/10"}`,children:"Lección 1.1"}),k.jsx(_n,{to:"/semana/1/ejercicio-analitico/1",className:`px-3 py-1 rounded-md ${i==="ejercicio-analitico"?"bg-white/20 text-white font-medium":"hover:bg-white/10"}`,children:"Ejercicio A 1.1"}),k.jsx(_n,{to:"/semana/1/ejercicio-codigo/1",className:`px-3 py-1 rounded-md ${i==="ejercicio-codigo"?"bg-white/20 text-white font-medium":"hover:bg-white/10"}`,children:"Ejercicio C 1.1"}),k.jsx(_n,{to:"/semana/1/reto/1",className:`px-3 py-1 rounded-md ${i==="reto"?"bg-white/20 text-white font-medium":"hover:bg-white/10"}`,children:"Reto 1.1"}),k.jsxs(_n,{to:"/",className:"text-sm hover:text-white/80 ml-4",children:[k.jsx("span",{className:"text-white/70",children:"↩"})," Volver"]})]})]})})}return k.jsx("header",{className:"bg-primary-600 text-white",children:k.jsx("div",{className:"container mx-auto px-4 py-3 flex items-center justify-center",children:k.jsx("span",{className:"text-2xl font-bold text-center w-full",children:"Cálculo Multivariante para Ciencia de Datos"})})})},gA=()=>k.jsxs("div",{className:"min-h-screen flex flex-col",children:[k.jsx(mA,{}),k.jsx("div",{className:"flex flex-1",children:k.jsx("main",{className:"flex-1 p-4 md:p-6",children:k.jsx(U9,{})})})]});function yA(){return k.jsx("div",{className:"app-container",children:k.jsxs($9,{children:[k.jsx(Xn,{path:"/",element:k.jsx(Aw,{})}),k.jsx(Xn,{path:"/login",element:k.jsx(C4,{})}),k.jsx(Xn,{path:"/register",element:k.jsx(C4,{isRegister:!0})}),k.jsxs(Xn,{element:k.jsx(gA,{}),children:[k.jsx(Xn,{path:"/dashboard",element:k.jsx(Iw,{})}),k.jsx(Xn,{path:"/semana/:weekId",element:k.jsx(Pw,{})}),k.jsx(Xn,{path:"/semana/:weekId/leccion/:lessonId",element:k.jsx(O5,{})}),k.jsx(Xn,{path:"/semana/:weekId/ejercicio-analitico/:exerciseId",element:k.jsx(ZT,{})}),k.jsx(Xn,{path:"/semana/:weekId/ejercicio-codigo/:exerciseId",element:k.jsx(sA,{})}),k.jsx(Xn,{path:"/semana/:weekId/reto/:challengeId",element:k.jsx(cA,{})}),k.jsx(Xn,{path:"/semana/:weekId/modulo/:moduleId",element:k.jsx(pA,{})})]})]})})}wh.createRoot(document.getElementById("root")).render(k.jsx(er.StrictMode,{children:k.jsx(Y9,{children:k.jsx(yA,{})})}));
